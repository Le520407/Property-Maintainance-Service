{"ast":null,"code":"import React,{useState,useEffect}from'react';import{motion}from'framer-motion';import{Plus,Edit2,Trash2,Eye,EyeOff,Save,X,DollarSign,Star,CheckCircle,XCircle,Tag,TrendingUp,Calendar,Package}from'lucide-react';import{useAuth}from'../../contexts/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const VendorPricingManagement=()=>{const{user}=useAuth();const[pricingPlans,setPricingPlans]=useState([]);const[loading,setLoading]=useState(true);const[editingPlan,setEditingPlan]=useState(null);const[showForm,setShowForm]=useState(false);const[formData,setFormData]=useState({name:'',description:'',price:'',currency:'SGD',billingPeriod:'hour',category:'plumbing',features:[{name:'',included:true,description:''}],isPopular:false,isActive:true,order:0,priceRange:{min:'',max:''},inclusions:[''],exclusions:[''],discount:{percentage:'',validUntil:'',description:''}});// Currency options\nconst currencyOptions=[{value:'SGD',label:'SGD'},{value:'USD',label:'USD'},{value:'EUR',label:'EUR'}];// Billing period options\nconst billingPeriodOptions=[{value:'hour',label:'Per Hour'},{value:'day',label:'Per Day'},{value:'week',label:'Per Week'},{value:'month',label:'Per Month'},{value:'year',label:'Per Year'},{value:'one-time',label:'One-time'}];// Category options - these should match vendor's service categories\nconst categoryOptions=[{value:'plumbing',label:'Plumbing'},{value:'electrical',label:'Electrical'},{value:'cleaning',label:'Cleaning'},{value:'maintenance',label:'Maintenance'},{value:'aircon',label:'Air Conditioning'},{value:'painting',label:'Painting'},{value:'carpentry',label:'Carpentry'},{value:'locksmith',label:'Locksmith'},{value:'appliance',label:'Appliance Repair'}];// Fetch vendor's pricing plans\nconst fetchPricingPlans=async()=>{try{const response=await fetch('/api/vendor/pricing',{headers:{'Authorization':`Bearer ${localStorage.getItem('token')}`}});if(response.ok){const data=await response.json();setPricingPlans(data);}}catch(error){console.error('Error fetching pricing plans:',error);}finally{setLoading(false);}};useEffect(()=>{if((user===null||user===void 0?void 0:user.role)==='vendor'){fetchPricingPlans();}},[user]);// Handle form input changes\nconst handleInputChange=e=>{const{name,value,type,checked}=e.target;setFormData(prev=>({...prev,[name]:type==='checkbox'?checked:value}));};// Handle nested object input changes\nconst handleNestedInputChange=(field,subField,value)=>{setFormData(prev=>({...prev,[field]:{...prev[field],[subField]:value}}));};// Handle features list\nconst handleFeatureChange=(index,field,value)=>{const updatedFeatures=[...formData.features];updatedFeatures[index][field]=value;setFormData(prev=>({...prev,features:updatedFeatures}));};const addFeature=()=>{setFormData(prev=>({...prev,features:[...prev.features,{name:'',included:true,description:''}]}));};const removeFeature=index=>{if(formData.features.length>1){setFormData(prev=>({...prev,features:prev.features.filter((_,i)=>i!==index)}));}};// Handle array changes (inclusions/exclusions)\nconst handleArrayChange=(field,index,value)=>{const updatedArray=[...formData[field]];updatedArray[index]=value;setFormData(prev=>({...prev,[field]:updatedArray}));};const addArrayItem=field=>{setFormData(prev=>({...prev,[field]:[...prev[field],'']}));};const removeArrayItem=(field,index)=>{if(formData[field].length>1){setFormData(prev=>({...prev,[field]:prev[field].filter((_,i)=>i!==index)}));}};// Submit pricing plan (create or update)\nconst handleSubmit=async e=>{e.preventDefault();try{const pricingData={...formData,price:parseFloat(formData.price),priceRange:{min:formData.priceRange.min?parseFloat(formData.priceRange.min):undefined,max:formData.priceRange.max?parseFloat(formData.priceRange.max):undefined},inclusions:formData.inclusions.filter(item=>item.trim()),exclusions:formData.exclusions.filter(item=>item.trim()),discount:{percentage:formData.discount.percentage?parseFloat(formData.discount.percentage):undefined,validUntil:formData.discount.validUntil||undefined,description:formData.discount.description||undefined}};const url=editingPlan?`/api/vendor/pricing/${editingPlan._id}`:'/api/vendor/pricing';const method=editingPlan?'PUT':'POST';const response=await fetch(url,{method,headers:{'Content-Type':'application/json','Authorization':`Bearer ${localStorage.getItem('token')}`},body:JSON.stringify(pricingData)});if(response.ok){await fetchPricingPlans();resetForm();alert(editingPlan?'Service pricing updated successfully!':'Service pricing created successfully!');}else{const error=await response.json();alert(error.message||'Error saving service pricing');}}catch(error){console.error('Error saving pricing plan:',error);alert('Error saving service pricing');}};// Delete pricing plan\nconst handleDelete=async id=>{if(window.confirm('Are you sure you want to delete this service pricing?')){try{const response=await fetch(`/api/vendor/pricing/${id}`,{method:'DELETE',headers:{'Authorization':`Bearer ${localStorage.getItem('token')}`}});if(response.ok){await fetchPricingPlans();alert('Service pricing deleted successfully!');}}catch(error){console.error('Error deleting pricing plan:',error);alert('Error deleting service pricing');}}};// Toggle pricing plan status\nconst togglePlanStatus=async plan=>{try{const response=await fetch(`/api/vendor/pricing/${plan._id}`,{method:'PUT',headers:{'Content-Type':'application/json','Authorization':`Bearer ${localStorage.getItem('token')}`},body:JSON.stringify({...plan,isActive:!plan.isActive})});if(response.ok){await fetchPricingPlans();}}catch(error){console.error('Error updating plan status:',error);}};// Edit pricing plan\nconst startEditing=plan=>{var _plan$priceRange,_plan$priceRange$min,_plan$priceRange2,_plan$priceRange2$max,_plan$discount,_plan$discount$percen,_plan$discount2,_plan$discount3;setEditingPlan(plan);setFormData({name:plan.name,description:plan.description,price:plan.price.toString(),currency:plan.currency,billingPeriod:plan.billingPeriod,category:plan.category,features:plan.features.length>0?plan.features:[{name:'',included:true,description:''}],isPopular:plan.isPopular,isActive:plan.isActive,order:plan.order,priceRange:{min:((_plan$priceRange=plan.priceRange)===null||_plan$priceRange===void 0?void 0:(_plan$priceRange$min=_plan$priceRange.min)===null||_plan$priceRange$min===void 0?void 0:_plan$priceRange$min.toString())||'',max:((_plan$priceRange2=plan.priceRange)===null||_plan$priceRange2===void 0?void 0:(_plan$priceRange2$max=_plan$priceRange2.max)===null||_plan$priceRange2$max===void 0?void 0:_plan$priceRange2$max.toString())||''},inclusions:plan.inclusions.length>0?plan.inclusions:[''],exclusions:plan.exclusions.length>0?plan.exclusions:[''],discount:{percentage:((_plan$discount=plan.discount)===null||_plan$discount===void 0?void 0:(_plan$discount$percen=_plan$discount.percentage)===null||_plan$discount$percen===void 0?void 0:_plan$discount$percen.toString())||'',validUntil:(_plan$discount2=plan.discount)!==null&&_plan$discount2!==void 0&&_plan$discount2.validUntil?new Date(plan.discount.validUntil).toISOString().split('T')[0]:'',description:((_plan$discount3=plan.discount)===null||_plan$discount3===void 0?void 0:_plan$discount3.description)||''}});setShowForm(true);};// Reset form\nconst resetForm=()=>{setFormData({name:'',description:'',price:'',currency:'SGD',billingPeriod:'hour',category:'plumbing',features:[{name:'',included:true,description:''}],isPopular:false,isActive:true,order:0,priceRange:{min:'',max:''},inclusions:[''],exclusions:[''],discount:{percentage:'',validUntil:'',description:''}});setEditingPlan(null);setShowForm(false);};if((user===null||user===void 0?void 0:user.role)!=='vendor'){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Access denied. Vendor privileges required.\"})});}if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8\",children:\"Loading your service pricing...\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:\"My Service Pricing\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Manage your service rates and packages\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowForm(true),className:\"bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 transition-colors flex items-center\",children:[/*#__PURE__*/_jsx(Plus,{className:\"w-4 h-4 mr-2\"}),\"Add Service Pricing\"]})]}),showForm&&/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:\"bg-white rounded-lg shadow-md p-6 max-h-screen overflow-y-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold\",children:editingPlan?'Edit Service Pricing':'Add New Service Pricing'}),/*#__PURE__*/_jsx(\"button\",{onClick:resetForm,className:\"text-gray-500 hover:text-gray-700\",children:/*#__PURE__*/_jsx(X,{className:\"w-5 h-5\"})})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"border-b pb-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-medium mb-3\",children:\"Basic Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Service Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:formData.name,onChange:handleInputChange,required:true,className:\"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent\",placeholder:\"e.g., Basic Plumbing Service\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Description *\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",value:formData.description,onChange:handleInputChange,required:true,rows:3,className:\"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent\",placeholder:\"Describe what this service includes...\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Price *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",name:\"price\",value:formData.price,onChange:handleInputChange,required:true,className:\"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Currency *\"}),/*#__PURE__*/_jsx(\"select\",{name:\"currency\",value:formData.currency,onChange:handleInputChange,className:\"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent\",children:currencyOptions.map(option=>/*#__PURE__*/_jsx(\"option\",{value:option.value,children:option.label},option.value))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Billing Period *\"}),/*#__PURE__*/_jsx(\"select\",{name:\"billingPeriod\",value:formData.billingPeriod,onChange:handleInputChange,className:\"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent\",children:billingPeriodOptions.map(option=>/*#__PURE__*/_jsx(\"option\",{value:option.value,children:option.label},option.value))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Service Category *\"}),/*#__PURE__*/_jsx(\"select\",{name:\"category\",value:formData.category,onChange:handleInputChange,className:\"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent\",children:categoryOptions.map(option=>/*#__PURE__*/_jsx(\"option\",{value:option.value,children:option.label},option.value))})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-b pb-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-medium mb-3\",children:\"What's Included\"}),formData.inclusions.map((inclusion,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2 items-center mb-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:inclusion,onChange:e=>handleArrayChange('inclusions',index,e.target.value),placeholder:\"What's included in this service\",className:\"flex-1 p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>removeArrayItem('inclusions',index),className:\"text-red-600 hover:text-red-800\",children:/*#__PURE__*/_jsx(X,{className:\"w-4 h-4\"})})]},index)),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:()=>addArrayItem('inclusions'),className:\"text-orange-600 hover:text-orange-800 flex items-center\",children:[/*#__PURE__*/_jsx(Plus,{className:\"w-4 h-4 mr-1\"}),\"Add Inclusion\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-b pb-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-medium mb-3\",children:\"What's NOT Included\"}),formData.exclusions.map((exclusion,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2 items-center mb-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:exclusion,onChange:e=>handleArrayChange('exclusions',index,e.target.value),placeholder:\"What's not included\",className:\"flex-1 p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>removeArrayItem('exclusions',index),className:\"text-red-600 hover:text-red-800\",children:/*#__PURE__*/_jsx(X,{className:\"w-4 h-4\"})})]},index)),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:()=>addArrayItem('exclusions'),className:\"text-orange-600 hover:text-orange-800 flex items-center\",children:[/*#__PURE__*/_jsx(Plus,{className:\"w-4 h-4 mr-1\"}),\"Add Exclusion\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex gap-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"isActive\",checked:formData.isActive,onChange:handleInputChange,className:\"h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded\"}),/*#__PURE__*/_jsx(\"label\",{className:\"ml-2 block text-sm text-gray-700\",children:\"Active (visible to customers)\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4 pt-4\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:\"bg-orange-600 text-white px-6 py-2 rounded-lg hover:bg-orange-700 transition-colors flex items-center\",children:[/*#__PURE__*/_jsx(Save,{className:\"w-4 h-4 mr-2\"}),editingPlan?'Update':'Create',\" Service Pricing\"]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:resetForm,className:\"bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600 transition-colors\",children:\"Cancel\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-md\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold mb-4\",children:\"Your Service Pricing\"}),pricingPlans.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(Package,{className:\"w-12 h-12 text-gray-400 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"No service pricing found. Create your first service pricing to get started!\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"grid lg:grid-cols-2 xl:grid-cols-3 gap-6\",children:pricingPlans.sort((a,b)=>a.order-b.order).map(plan=>{var _categoryOptions$find,_billingPeriodOptions;return/*#__PURE__*/_jsxs(\"div\",{className:\"border rounded-lg p-4 relative\",children:[!plan.isActive&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-2 right-2\",children:/*#__PURE__*/_jsx(\"span\",{className:\"bg-red-100 text-red-800 px-2 py-1 rounded-full text-xs\",children:\"Inactive\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-semibold\",children:plan.name}),/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 bg-orange-100 text-orange-800 rounded-full text-xs\",children:(_categoryOptions$find=categoryOptions.find(cat=>cat.value===plan.category))===null||_categoryOptions$find===void 0?void 0:_categoryOptions$find.label})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm mb-3\",children:plan.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-baseline gap-2\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-2xl font-bold text-orange-600\",children:[plan.currency,\" \",plan.price]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-500\",children:(_billingPeriodOptions=billingPeriodOptions.find(bp=>bp.value===plan.billingPeriod))===null||_billingPeriodOptions===void 0?void 0:_billingPeriodOptions.label})]})]}),plan.inclusions&&plan.inclusions.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"font-medium mb-2 text-sm\",children:\"Includes:\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"space-y-1\",children:[plan.inclusions.slice(0,3).map((inclusion,index)=>/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-center text-xs\",children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"w-3 h-3 text-green-500 mr-2\"}),/*#__PURE__*/_jsx(\"span\",{children:inclusion})]},index)),plan.inclusions.length>3&&/*#__PURE__*/_jsxs(\"li\",{className:\"text-xs text-gray-500\",children:[\"+\",plan.inclusions.length-3,\" more items\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center pt-4 border-t\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex gap-2\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>togglePlanStatus(plan),className:`p-1 rounded ${plan.isActive?'text-green-600 hover:text-green-800':'text-gray-400 hover:text-green-600'}`,title:\"Toggle Active Status\",children:plan.isActive?/*#__PURE__*/_jsx(Eye,{className:\"w-4 h-4\"}):/*#__PURE__*/_jsx(EyeOff,{className:\"w-4 h-4\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>startEditing(plan),className:\"p-1 text-orange-600 hover:text-orange-800\",title:\"Edit Pricing\",children:/*#__PURE__*/_jsx(Edit2,{className:\"w-4 h-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(plan._id),className:\"p-1 text-red-600 hover:text-red-800\",title:\"Delete Pricing\",children:/*#__PURE__*/_jsx(Trash2,{className:\"w-4 h-4\"})})]})]})]},plan._id);})})]})})]});};export default VendorPricingManagement;","map":{"version":3,"names":["React","useState","useEffect","motion","Plus","Edit2","Trash2","Eye","EyeOff","Save","X","DollarSign","Star","CheckCircle","XCircle","Tag","TrendingUp","Calendar","Package","useAuth","jsx","_jsx","jsxs","_jsxs","VendorPricingManagement","user","pricingPlans","setPricingPlans","loading","setLoading","editingPlan","setEditingPlan","showForm","setShowForm","formData","setFormData","name","description","price","currency","billingPeriod","category","features","included","isPopular","isActive","order","priceRange","min","max","inclusions","exclusions","discount","percentage","validUntil","currencyOptions","value","label","billingPeriodOptions","categoryOptions","fetchPricingPlans","response","fetch","headers","localStorage","getItem","ok","data","json","error","console","role","handleInputChange","e","type","checked","target","prev","handleNestedInputChange","field","subField","handleFeatureChange","index","updatedFeatures","addFeature","removeFeature","length","filter","_","i","handleArrayChange","updatedArray","addArrayItem","removeArrayItem","handleSubmit","preventDefault","pricingData","parseFloat","undefined","item","trim","url","_id","method","body","JSON","stringify","resetForm","alert","message","handleDelete","id","window","confirm","togglePlanStatus","plan","startEditing","_plan$priceRange","_plan$priceRange$min","_plan$priceRange2","_plan$priceRange2$max","_plan$discount","_plan$discount$percen","_plan$discount2","_plan$discount3","toString","Date","toISOString","split","className","children","onClick","div","initial","opacity","y","animate","onSubmit","onChange","required","placeholder","rows","step","map","option","inclusion","exclusion","sort","a","b","_categoryOptions$find","_billingPeriodOptions","find","cat","bp","slice","title"],"sources":["C:/Users/Le520/Documents/Property-Maintainance-Service/src/components/vendor/VendorPricingManagement.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { \r\n  Plus, \r\n  Edit2, \r\n  Trash2, \r\n  Eye, \r\n  EyeOff,\r\n  Save,\r\n  X,\r\n  DollarSign,\r\n  Star,\r\n  CheckCircle,\r\n  XCircle,\r\n  Tag,\r\n  TrendingUp,\r\n  Calendar,\r\n  Package\r\n} from 'lucide-react';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\n\r\nconst VendorPricingManagement = () => {\r\n  const { user } = useAuth();\r\n  const [pricingPlans, setPricingPlans] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [editingPlan, setEditingPlan] = useState(null);\r\n  const [showForm, setShowForm] = useState(false);\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    description: '',\r\n    price: '',\r\n    currency: 'SGD',\r\n    billingPeriod: 'hour',\r\n    category: 'plumbing',\r\n    features: [{ name: '', included: true, description: '' }],\r\n    isPopular: false,\r\n    isActive: true,\r\n    order: 0,\r\n    priceRange: { min: '', max: '' },\r\n    inclusions: [''],\r\n    exclusions: [''],\r\n    discount: { percentage: '', validUntil: '', description: '' }\r\n  });\r\n\r\n  // Currency options\r\n  const currencyOptions = [\r\n    { value: 'SGD', label: 'SGD' },\r\n    { value: 'USD', label: 'USD' },\r\n    { value: 'EUR', label: 'EUR' }\r\n  ];\r\n\r\n  // Billing period options\r\n  const billingPeriodOptions = [\r\n    { value: 'hour', label: 'Per Hour' },\r\n    { value: 'day', label: 'Per Day' },\r\n    { value: 'week', label: 'Per Week' },\r\n    { value: 'month', label: 'Per Month' },\r\n    { value: 'year', label: 'Per Year' },\r\n    { value: 'one-time', label: 'One-time' }\r\n  ];\r\n\r\n  // Category options - these should match vendor's service categories\r\n  const categoryOptions = [\r\n    { value: 'plumbing', label: 'Plumbing' },\r\n    { value: 'electrical', label: 'Electrical' },\r\n    { value: 'cleaning', label: 'Cleaning' },\r\n    { value: 'maintenance', label: 'Maintenance' },\r\n    { value: 'aircon', label: 'Air Conditioning' },\r\n    { value: 'painting', label: 'Painting' },\r\n    { value: 'carpentry', label: 'Carpentry' },\r\n    { value: 'locksmith', label: 'Locksmith' },\r\n    { value: 'appliance', label: 'Appliance Repair' }\r\n  ];\r\n\r\n  // Fetch vendor's pricing plans\r\n  const fetchPricingPlans = async () => {\r\n    try {\r\n      const response = await fetch('/api/vendor/pricing', {\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n        }\r\n      });\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setPricingPlans(data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching pricing plans:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (user?.role === 'vendor') {\r\n      fetchPricingPlans();\r\n    }\r\n  }, [user]);\r\n\r\n  // Handle form input changes\r\n  const handleInputChange = (e) => {\r\n    const { name, value, type, checked } = e.target;\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: type === 'checkbox' ? checked : value\r\n    }));\r\n  };\r\n\r\n  // Handle nested object input changes\r\n  const handleNestedInputChange = (field, subField, value) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [field]: {\r\n        ...prev[field],\r\n        [subField]: value\r\n      }\r\n    }));\r\n  };\r\n\r\n  // Handle features list\r\n  const handleFeatureChange = (index, field, value) => {\r\n    const updatedFeatures = [...formData.features];\r\n    updatedFeatures[index][field] = value;\r\n    setFormData(prev => ({ ...prev, features: updatedFeatures }));\r\n  };\r\n\r\n  const addFeature = () => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      features: [...prev.features, { name: '', included: true, description: '' }]\r\n    }));\r\n  };\r\n\r\n  const removeFeature = (index) => {\r\n    if (formData.features.length > 1) {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        features: prev.features.filter((_, i) => i !== index)\r\n      }));\r\n    }\r\n  };\r\n\r\n  // Handle array changes (inclusions/exclusions)\r\n  const handleArrayChange = (field, index, value) => {\r\n    const updatedArray = [...formData[field]];\r\n    updatedArray[index] = value;\r\n    setFormData(prev => ({ ...prev, [field]: updatedArray }));\r\n  };\r\n\r\n  const addArrayItem = (field) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [field]: [...prev[field], '']\r\n    }));\r\n  };\r\n\r\n  const removeArrayItem = (field, index) => {\r\n    if (formData[field].length > 1) {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        [field]: prev[field].filter((_, i) => i !== index)\r\n      }));\r\n    }\r\n  };\r\n\r\n  // Submit pricing plan (create or update)\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const pricingData = {\r\n        ...formData,\r\n        price: parseFloat(formData.price),\r\n        priceRange: {\r\n          min: formData.priceRange.min ? parseFloat(formData.priceRange.min) : undefined,\r\n          max: formData.priceRange.max ? parseFloat(formData.priceRange.max) : undefined\r\n        },\r\n        inclusions: formData.inclusions.filter(item => item.trim()),\r\n        exclusions: formData.exclusions.filter(item => item.trim()),\r\n        discount: {\r\n          percentage: formData.discount.percentage ? parseFloat(formData.discount.percentage) : undefined,\r\n          validUntil: formData.discount.validUntil || undefined,\r\n          description: formData.discount.description || undefined\r\n        }\r\n      };\r\n\r\n      const url = editingPlan \r\n        ? `/api/vendor/pricing/${editingPlan._id}`\r\n        : '/api/vendor/pricing';\r\n      \r\n      const method = editingPlan ? 'PUT' : 'POST';\r\n      \r\n      const response = await fetch(url, {\r\n        method,\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n        },\r\n        body: JSON.stringify(pricingData)\r\n      });\r\n\r\n      if (response.ok) {\r\n        await fetchPricingPlans();\r\n        resetForm();\r\n        alert(editingPlan ? 'Service pricing updated successfully!' : 'Service pricing created successfully!');\r\n      } else {\r\n        const error = await response.json();\r\n        alert(error.message || 'Error saving service pricing');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error saving pricing plan:', error);\r\n      alert('Error saving service pricing');\r\n    }\r\n  };\r\n\r\n  // Delete pricing plan\r\n  const handleDelete = async (id) => {\r\n    if (window.confirm('Are you sure you want to delete this service pricing?')) {\r\n      try {\r\n        const response = await fetch(`/api/vendor/pricing/${id}`, {\r\n          method: 'DELETE',\r\n          headers: {\r\n            'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n          }\r\n        });\r\n\r\n        if (response.ok) {\r\n          await fetchPricingPlans();\r\n          alert('Service pricing deleted successfully!');\r\n        }\r\n      } catch (error) {\r\n        console.error('Error deleting pricing plan:', error);\r\n        alert('Error deleting service pricing');\r\n      }\r\n    }\r\n  };\r\n\r\n  // Toggle pricing plan status\r\n  const togglePlanStatus = async (plan) => {\r\n    try {\r\n      const response = await fetch(`/api/vendor/pricing/${plan._id}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n        },\r\n        body: JSON.stringify({ ...plan, isActive: !plan.isActive })\r\n      });\r\n\r\n      if (response.ok) {\r\n        await fetchPricingPlans();\r\n      }\r\n    } catch (error) {\r\n      console.error('Error updating plan status:', error);\r\n    }\r\n  };\r\n\r\n  // Edit pricing plan\r\n  const startEditing = (plan) => {\r\n    setEditingPlan(plan);\r\n    setFormData({\r\n      name: plan.name,\r\n      description: plan.description,\r\n      price: plan.price.toString(),\r\n      currency: plan.currency,\r\n      billingPeriod: plan.billingPeriod,\r\n      category: plan.category,\r\n      features: plan.features.length > 0 ? plan.features : [{ name: '', included: true, description: '' }],\r\n      isPopular: plan.isPopular,\r\n      isActive: plan.isActive,\r\n      order: plan.order,\r\n      priceRange: {\r\n        min: plan.priceRange?.min?.toString() || '',\r\n        max: plan.priceRange?.max?.toString() || ''\r\n      },\r\n      inclusions: plan.inclusions.length > 0 ? plan.inclusions : [''],\r\n      exclusions: plan.exclusions.length > 0 ? plan.exclusions : [''],\r\n      discount: {\r\n        percentage: plan.discount?.percentage?.toString() || '',\r\n        validUntil: plan.discount?.validUntil ? new Date(plan.discount.validUntil).toISOString().split('T')[0] : '',\r\n        description: plan.discount?.description || ''\r\n      }\r\n    });\r\n    setShowForm(true);\r\n  };\r\n\r\n  // Reset form\r\n  const resetForm = () => {\r\n    setFormData({\r\n      name: '',\r\n      description: '',\r\n      price: '',\r\n      currency: 'SGD',\r\n      billingPeriod: 'hour',\r\n      category: 'plumbing',\r\n      features: [{ name: '', included: true, description: '' }],\r\n      isPopular: false,\r\n      isActive: true,\r\n      order: 0,\r\n      priceRange: { min: '', max: '' },\r\n      inclusions: [''],\r\n      exclusions: [''],\r\n      discount: { percentage: '', validUntil: '', description: '' }\r\n    });\r\n    setEditingPlan(null);\r\n    setShowForm(false);\r\n  };\r\n\r\n  if (user?.role !== 'vendor') {\r\n    return (\r\n      <div className=\"text-center py-8\">\r\n        <p className=\"text-gray-600\">Access denied. Vendor privileges required.</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (loading) {\r\n    return <div className=\"text-center py-8\">Loading your service pricing...</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Page header */}\r\n      <div className=\"flex justify-between items-center\">\r\n        <div>\r\n          <h2 className=\"text-2xl font-bold text-gray-900\">My Service Pricing</h2>\r\n          <p className=\"text-gray-600\">Manage your service rates and packages</p>\r\n        </div>\r\n        <button\r\n          onClick={() => setShowForm(true)}\r\n          className=\"bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 transition-colors flex items-center\"\r\n        >\r\n          <Plus className=\"w-4 h-4 mr-2\" />\r\n          Add Service Pricing\r\n        </button>\r\n      </div>\r\n\r\n      {/* Pricing plan form */}\r\n      {showForm && (\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          className=\"bg-white rounded-lg shadow-md p-6 max-h-screen overflow-y-auto\"\r\n        >\r\n          <div className=\"flex justify-between items-center mb-4\">\r\n            <h3 className=\"text-xl font-semibold\">\r\n              {editingPlan ? 'Edit Service Pricing' : 'Add New Service Pricing'}\r\n            </h3>\r\n            <button\r\n              onClick={resetForm}\r\n              className=\"text-gray-500 hover:text-gray-700\"\r\n            >\r\n              <X className=\"w-5 h-5\" />\r\n            </button>\r\n          </div>\r\n\r\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n            {/* Basic information */}\r\n            <div className=\"border-b pb-4\">\r\n              <h4 className=\"text-lg font-medium mb-3\">Basic Information</h4>\r\n              <div className=\"grid md:grid-cols-2 gap-4\">\r\n                {/* Service name */}\r\n                <div className=\"md:col-span-2\">\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    Service Name *\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"name\"\r\n                    value={formData.name}\r\n                    onChange={handleInputChange}\r\n                    required\r\n                    className=\"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent\"\r\n                    placeholder=\"e.g., Basic Plumbing Service\"\r\n                  />\r\n                </div>\r\n\r\n                {/* Description */}\r\n                <div className=\"md:col-span-2\">\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    Description *\r\n                  </label>\r\n                  <textarea\r\n                    name=\"description\"\r\n                    value={formData.description}\r\n                    onChange={handleInputChange}\r\n                    required\r\n                    rows={3}\r\n                    className=\"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent\"\r\n                    placeholder=\"Describe what this service includes...\"\r\n                  />\r\n                </div>\r\n\r\n                {/* Price */}\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    Price *\r\n                  </label>\r\n                  <input\r\n                    type=\"number\"\r\n                    step=\"0.01\"\r\n                    name=\"price\"\r\n                    value={formData.price}\r\n                    onChange={handleInputChange}\r\n                    required\r\n                    className=\"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent\"\r\n                  />\r\n                </div>\r\n\r\n                {/* Currency */}\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    Currency *\r\n                  </label>\r\n                  <select\r\n                    name=\"currency\"\r\n                    value={formData.currency}\r\n                    onChange={handleInputChange}\r\n                    className=\"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent\"\r\n                  >\r\n                    {currencyOptions.map(option => (\r\n                      <option key={option.value} value={option.value}>\r\n                        {option.label}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n\r\n                {/* Billing period */}\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    Billing Period *\r\n                  </label>\r\n                  <select\r\n                    name=\"billingPeriod\"\r\n                    value={formData.billingPeriod}\r\n                    onChange={handleInputChange}\r\n                    className=\"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent\"\r\n                  >\r\n                    {billingPeriodOptions.map(option => (\r\n                      <option key={option.value} value={option.value}>\r\n                        {option.label}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n\r\n                {/* Category */}\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    Service Category *\r\n                  </label>\r\n                  <select\r\n                    name=\"category\"\r\n                    value={formData.category}\r\n                    onChange={handleInputChange}\r\n                    className=\"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent\"\r\n                  >\r\n                    {categoryOptions.map(option => (\r\n                      <option key={option.value} value={option.value}>\r\n                        {option.label}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* What's included */}\r\n            <div className=\"border-b pb-4\">\r\n              <h4 className=\"text-lg font-medium mb-3\">What's Included</h4>\r\n              {formData.inclusions.map((inclusion, index) => (\r\n                <div key={index} className=\"flex gap-2 items-center mb-2\">\r\n                  <input\r\n                    type=\"text\"\r\n                    value={inclusion}\r\n                    onChange={(e) => handleArrayChange('inclusions', index, e.target.value)}\r\n                    placeholder=\"What's included in this service\"\r\n                    className=\"flex-1 p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent\"\r\n                  />\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => removeArrayItem('inclusions', index)}\r\n                    className=\"text-red-600 hover:text-red-800\"\r\n                  >\r\n                    <X className=\"w-4 h-4\" />\r\n                  </button>\r\n                </div>\r\n              ))}\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => addArrayItem('inclusions')}\r\n                className=\"text-orange-600 hover:text-orange-800 flex items-center\"\r\n              >\r\n                <Plus className=\"w-4 h-4 mr-1\" />\r\n                Add Inclusion\r\n              </button>\r\n            </div>\r\n\r\n            {/* What's NOT included */}\r\n            <div className=\"border-b pb-4\">\r\n              <h4 className=\"text-lg font-medium mb-3\">What's NOT Included</h4>\r\n              {formData.exclusions.map((exclusion, index) => (\r\n                <div key={index} className=\"flex gap-2 items-center mb-2\">\r\n                  <input\r\n                    type=\"text\"\r\n                    value={exclusion}\r\n                    onChange={(e) => handleArrayChange('exclusions', index, e.target.value)}\r\n                    placeholder=\"What's not included\"\r\n                    className=\"flex-1 p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent\"\r\n                  />\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => removeArrayItem('exclusions', index)}\r\n                    className=\"text-red-600 hover:text-red-800\"\r\n                  >\r\n                    <X className=\"w-4 h-4\" />\r\n                  </button>\r\n                </div>\r\n              ))}\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => addArrayItem('exclusions')}\r\n                className=\"text-orange-600 hover:text-orange-800 flex items-center\"\r\n              >\r\n                <Plus className=\"w-4 h-4 mr-1\" />\r\n                Add Exclusion\r\n              </button>\r\n            </div>\r\n\r\n            {/* Status options */}\r\n            <div className=\"flex gap-6\">\r\n              <div className=\"flex items-center\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  name=\"isActive\"\r\n                  checked={formData.isActive}\r\n                  onChange={handleInputChange}\r\n                  className=\"h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded\"\r\n                />\r\n                <label className=\"ml-2 block text-sm text-gray-700\">\r\n                  Active (visible to customers)\r\n                </label>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Form buttons */}\r\n            <div className=\"flex gap-4 pt-4\">\r\n              <button\r\n                type=\"submit\"\r\n                className=\"bg-orange-600 text-white px-6 py-2 rounded-lg hover:bg-orange-700 transition-colors flex items-center\"\r\n              >\r\n                <Save className=\"w-4 h-4 mr-2\" />\r\n                {editingPlan ? 'Update' : 'Create'} Service Pricing\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                onClick={resetForm}\r\n                className=\"bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600 transition-colors\"\r\n              >\r\n                Cancel\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </motion.div>\r\n      )}\r\n\r\n      {/* Pricing plans list */}\r\n      <div className=\"bg-white rounded-lg shadow-md\">\r\n        <div className=\"p-6\">\r\n          <h3 className=\"text-xl font-semibold mb-4\">Your Service Pricing</h3>\r\n          \r\n          {pricingPlans.length === 0 ? (\r\n            <div className=\"text-center py-8\">\r\n              <Package className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\r\n              <p className=\"text-gray-500\">No service pricing found. Create your first service pricing to get started!</p>\r\n            </div>\r\n          ) : (\r\n            <div className=\"grid lg:grid-cols-2 xl:grid-cols-3 gap-6\">\r\n              {pricingPlans\r\n                .sort((a, b) => a.order - b.order)\r\n                .map((plan) => (\r\n                  <div key={plan._id} className=\"border rounded-lg p-4 relative\">\r\n                    {/* Status indicator */}\r\n                    {!plan.isActive && (\r\n                      <div className=\"absolute top-2 right-2\">\r\n                        <span className=\"bg-red-100 text-red-800 px-2 py-1 rounded-full text-xs\">\r\n                          Inactive\r\n                        </span>\r\n                      </div>\r\n                    )}\r\n\r\n                    {/* Plan header */}\r\n                    <div className=\"mb-4\">\r\n                      <div className=\"flex items-center justify-between mb-2\">\r\n                        <h4 className=\"text-lg font-semibold\">{plan.name}</h4>\r\n                        <span className=\"px-2 py-1 bg-orange-100 text-orange-800 rounded-full text-xs\">\r\n                          {categoryOptions.find(cat => cat.value === plan.category)?.label}\r\n                        </span>\r\n                      </div>\r\n                      <p className=\"text-gray-600 text-sm mb-3\">{plan.description}</p>\r\n                      \r\n                      {/* Price */}\r\n                      <div className=\"flex items-baseline gap-2\">\r\n                        <span className=\"text-2xl font-bold text-orange-600\">\r\n                          {plan.currency} {plan.price}\r\n                        </span>\r\n                        <span className=\"text-sm text-gray-500\">\r\n                          {billingPeriodOptions.find(bp => bp.value === plan.billingPeriod)?.label}\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* Inclusions */}\r\n                    {plan.inclusions && plan.inclusions.length > 0 && (\r\n                      <div className=\"mb-4\">\r\n                        <h5 className=\"font-medium mb-2 text-sm\">Includes:</h5>\r\n                        <ul className=\"space-y-1\">\r\n                          {plan.inclusions.slice(0, 3).map((inclusion, index) => (\r\n                            <li key={index} className=\"flex items-center text-xs\">\r\n                              <CheckCircle className=\"w-3 h-3 text-green-500 mr-2\" />\r\n                              <span>{inclusion}</span>\r\n                            </li>\r\n                          ))}\r\n                          {plan.inclusions.length > 3 && (\r\n                            <li className=\"text-xs text-gray-500\">\r\n                              +{plan.inclusions.length - 3} more items\r\n                            </li>\r\n                          )}\r\n                        </ul>\r\n                      </div>\r\n                    )}\r\n\r\n                    {/* Action buttons */}\r\n                    <div className=\"flex justify-between items-center pt-4 border-t\">\r\n                      <div className=\"flex gap-2\">\r\n                        <button\r\n                          onClick={() => togglePlanStatus(plan)}\r\n                          className={`p-1 rounded ${plan.isActive ? 'text-green-600 hover:text-green-800' : 'text-gray-400 hover:text-green-600'}`}\r\n                          title=\"Toggle Active Status\"\r\n                        >\r\n                          {plan.isActive ? <Eye className=\"w-4 h-4\" /> : <EyeOff className=\"w-4 h-4\" />}\r\n                        </button>\r\n                      </div>\r\n                      <div className=\"flex gap-2\">\r\n                        <button\r\n                          onClick={() => startEditing(plan)}\r\n                          className=\"p-1 text-orange-600 hover:text-orange-800\"\r\n                          title=\"Edit Pricing\"\r\n                        >\r\n                          <Edit2 className=\"w-4 h-4\" />\r\n                        </button>\r\n                        <button\r\n                          onClick={() => handleDelete(plan._id)}\r\n                          className=\"p-1 text-red-600 hover:text-red-800\"\r\n                          title=\"Delete Pricing\"\r\n                        >\r\n                          <Trash2 className=\"w-4 h-4\" />\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VendorPricingManagement;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}