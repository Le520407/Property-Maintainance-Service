{"ast":null,"code":"import React,{useState,useEffect}from'react';import{motion,AnimatePresence}from'framer-motion';import{Search,Filter,Eye,UserCheck,Clock,MapPin,DollarSign,Calendar,Phone,Mail,FileText,Star,AlertCircle,CheckCircle,XCircle,Users,Wrench,ChevronDown,ChevronRight,RefreshCw,Grid,List,BarChart3,TrendingUp,Package,Plus,Download,MoreHorizontal,X,Trash2}from'lucide-react';import{api}from'../../services/api';import toast from'react-hot-toast';import{useAuth}from'../../contexts/AuthContext';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const OrderManagement=()=>{const{user}=useAuth();const[jobs,setJobs]=useState([]);const[vendors,setVendors]=useState([]);const[loading,setLoading]=useState(true);const[selectedJob,setSelectedJob]=useState(null);const[showAssignModal,setShowAssignModal]=useState(false);const[showDeleteModal,setShowDeleteModal]=useState(false);const[jobToDelete,setJobToDelete]=useState(null);const[selectedVendor,setSelectedVendor]=useState('');const[assignmentTimeSlot,setAssignmentTimeSlot]=useState({date:'',startTime:'09:00',endTime:'17:00'});const[viewMode,setViewMode]=useState('table');const[currentPage,setCurrentPage]=useState(1);const[totalPages,setTotalPages]=useState(1);const[selectedOrders,setSelectedOrders]=useState([]);const[sortBy,setSortBy]=useState('newest');const[stats,setStats]=useState({pendingOrders:0,assignedOrders:0,inProgressOrders:0,completedOrders:0,totalRevenue:0,avgOrderValue:0});// Filters\nconst[filters,setFilters]=useState({status:'',category:'',priority:'',search:'',dateRange:'',assignmentStatus:''});const[pagination,setPagination]=useState({page:1,pages:1,total:0,limit:12});const statusColors={PENDING:'bg-yellow-100 text-yellow-800',ASSIGNED:'bg-blue-100 text-blue-800',IN_DISCUSSION:'bg-purple-100 text-purple-800',QUOTE_SENT:'bg-indigo-100 text-indigo-800',QUOTE_ACCEPTED:'bg-green-100 text-green-800',PAID:'bg-emerald-100 text-emerald-800',IN_PROGRESS:'bg-orange-100 text-orange-800',COMPLETED:'bg-green-200 text-green-900',CANCELLED:'bg-red-100 text-red-800',REJECTED:'bg-gray-100 text-gray-800'};const priorityColors={LOW:'text-green-600 bg-green-100 border-green-200',MEDIUM:'text-yellow-600 bg-yellow-100 border-yellow-200',HIGH:'text-orange-600 bg-orange-100 border-orange-200',EMERGENCY:'text-red-600 bg-red-100 border-red-200'};// Status filters\nconst statusOptions=[{value:'',label:'All Status'},{value:'PENDING',label:'Pending'},{value:'ASSIGNED',label:'Assigned'},{value:'IN_DISCUSSION',label:'In Discussion'},{value:'QUOTE_SENT',label:'Quote Sent'},{value:'QUOTE_ACCEPTED',label:'Quote Accepted'},{value:'PAID',label:'Paid'},{value:'IN_PROGRESS',label:'In Progress'},{value:'COMPLETED',label:'Completed'},{value:'CANCELLED',label:'Cancelled'}];// Priority filters\nconst priorityOptions=[{value:'',label:'All Priorities'},{value:'EMERGENCY',label:'Emergency'},{value:'HIGH',label:'High'},{value:'MEDIUM',label:'Medium'},{value:'LOW',label:'Low'}];// Sort options\nconst sortOptions=[{value:'newest',label:'Newest First'},{value:'oldest',label:'Oldest First'},{value:'budget_desc',label:'Highest Budget'},{value:'budget_asc',label:'Lowest Budget'},{value:'priority',label:'Priority'}];useEffect(()=>{fetchJobs();fetchVendors();},[filters,pagination.page]);const fetchJobs=async()=>{try{setLoading(true);const queryParams=new URLSearchParams({page:pagination.page,limit:pagination.limit,...(filters.status&&{status:filters.status}),...(filters.search&&{search:filters.search})});const response=await api.get(`/jobs?${queryParams}`);setJobs(response.jobs);setPagination(prev=>({...prev,pages:response.pagination.pages,total:response.pagination.total}));}catch(error){console.error('Error fetching jobs:',error);toast.error('Failed to fetch orders');}finally{setLoading(false);}};const fetchVendors=async()=>{try{const response=await api.get('/admin/vendors');setVendors(response.vendors||[]);}catch(error){console.error('Error fetching vendors:',error);}};const fetchRecommendedVendors=async jobId=>{try{var _response$recommended;const response=await api.get(`/jobs/${jobId}/recommended-vendors?limit=10`);setVendors(response.recommendedVendors||[]);if(((_response$recommended=response.recommendedVendors)===null||_response$recommended===void 0?void 0:_response$recommended.length)>0){toast.success(`Found ${response.recommendedVendors.length} recommended vendors!`);}else{toast.error('No suitable vendors found for this job');// Fallback to all vendors\nawait fetchVendors();}}catch(error){console.error('Error fetching recommended vendors:',error);toast.error('Failed to get vendor recommendations');// Fallback to all vendors\nawait fetchVendors();}};const handleAutoAssign=async job=>{try{var _response$assignedVen;const response=await api.post(`/jobs/${job._id}/auto-assign`);// Check if response has the expected structure\nif(response!==null&&response!==void 0&&(_response$assignedVen=response.assignedVendor)!==null&&_response$assignedVen!==void 0&&_response$assignedVen.userId){var _response$assignedVen2,_response$assignedVen3;toast.success(`Job auto-assigned to ${((_response$assignedVen2=response.assignedVendor.userId)===null||_response$assignedVen2===void 0?void 0:_response$assignedVen2.firstName)||'Unknown'} ${((_response$assignedVen3=response.assignedVendor.userId)===null||_response$assignedVen3===void 0?void 0:_response$assignedVen3.lastName)||'User'}!`);if(response.recommendationReason){toast.success(`Reason: ${response.recommendationReason}`);}}else{toast.success('Job auto-assigned successfully!');console.warn('Auto-assign response structure:',response);}fetchJobs();// Refresh the list\n}catch(error){var _error$response,_error$response$data;console.error('Error auto-assigning job:',error);toast.error(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'Failed to auto-assign job');}};const handleAssignJob=async()=>{if(!selectedVendor||!selectedJob){toast.error('Please select a vendor');return;}try{const assignmentData={vendorId:selectedVendor,assignedTimeSlot:assignmentTimeSlot};await api.patch(`/jobs/${selectedJob._id}/assign`,assignmentData);toast.success('Job assigned successfully! 🎉');setShowAssignModal(false);setSelectedJob(null);setSelectedVendor('');fetchJobs();// Refresh the list\n}catch(error){var _error$response2,_error$response2$data;console.error('Error assigning job:',error);toast.error(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.message)||'Failed to assign job');}};const handleDeleteJob=async()=>{if(!jobToDelete)return;try{await api.delete(`/jobs/${jobToDelete._id}`);toast.success(`Order ${jobToDelete.jobNumber} deleted successfully! 🗑️`);setShowDeleteModal(false);setJobToDelete(null);fetchJobs();// Refresh the list\n}catch(error){var _error$response3,_error$response3$data;console.error('Error deleting job:',error);toast.error(((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.message)||'Failed to delete order');}};const canDeleteJob=job=>{// Allow deletion of any order for now (admin override)\nreturn true;// const deletableStatuses = ['PENDING', 'CANCELLED', 'REJECTED'];\n// return deletableStatuses.includes(job.status);\n};const getVendorsForJob=function(job){let vendorList=arguments.length>1&&arguments[1]!==undefined?arguments[1]:vendors;// Filter vendors by category and location\nreturn vendorList.filter(vendor=>{var _vendor$serviceCatego;// Check if vendor handles this service category\nconst hasCategory=(_vendor$serviceCatego=vendor.serviceCategories)===null||_vendor$serviceCatego===void 0?void 0:_vendor$serviceCatego.includes(job.category);// Check if vendor serves this location (simplified)\nconst servesLocation=true;// You can implement location-based filtering\n// Check if vendor is active and verified\nconst isActiveAndVerified=vendor.isActive&&vendor.verificationStatus==='VERIFIED';return hasCategory&&servesLocation&&isActiveAndVerified;});};const getRatingStars=rating=>{const stars=[];const roundedRating=Math.round(rating*2)/2;// Round to nearest 0.5\nfor(let i=1;i<=5;i++){if(i<=roundedRating){stars.push(/*#__PURE__*/_jsx(Star,{className:\"w-4 h-4 fill-current text-yellow-400\"},i));}else if(i-0.5<=roundedRating){stars.push(/*#__PURE__*/_jsx(Star,{className:\"w-4 h-4 fill-current text-yellow-400 opacity-50\"},i));}else{stars.push(/*#__PURE__*/_jsx(Star,{className:\"w-4 h-4 text-gray-300\"},i));}}return stars;};const JobDetailsModal=_ref=>{var _job$customerId,_job$customerId2,_job$customerId3,_job$customerId4,_job$requestedTimeSlo,_job$requestedTimeSlo2,_job$requestedTimeSlo3,_job$location,_job$location2,_job$location3,_job$location4,_job$estimatedBudget,_job$vendorQuote,_job$commission,_job$commission$platf,_job$commission2,_job$commission2$vend,_job$vendorId,_job$vendorId2,_job$vendorId3,_job$vendorId4,_job$vendorDetails;let{job,onClose}=_ref;return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,scale:0.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0.95},className:\"bg-white rounded-xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-hidden flex flex-col\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 border-b border-gray-100 bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:\"Order Details\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600 mt-1\",children:[\"#\",job.jobNumber]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"text-gray-400 hover:text-gray-600 p-2 rounded-full hover:bg-gray-100 transition-colors\",children:/*#__PURE__*/_jsx(XCircle,{className:\"w-6 h-6\"})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 overflow-y-auto p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 xl:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-5 border border-blue-100\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold mb-4 text-blue-900 flex items-center\",children:[/*#__PURE__*/_jsx(FileText,{className:\"w-5 h-5 mr-2\"}),\"Job Information\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Job ID:\"}),\" \",job.jobNumber]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Title:\"}),\" \",job.title]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Category:\"}),\" \",job.category]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"strong\",{className:\"mr-2\",children:\"Priority:\"}),/*#__PURE__*/_jsx(\"span\",{className:`font-medium ${priorityColors[job.priority]}`,children:job.priority}),job.isEmergency&&/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 px-2 py-1 bg-red-100 text-red-800 text-xs rounded-full\",children:\"EMERGENCY\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"strong\",{className:\"mr-2\",children:\"Status:\"}),/*#__PURE__*/_jsx(\"span\",{className:`px-2 py-1 rounded-full text-xs font-medium ${statusColors[job.status]}`,children:job.status.replace('_',' ')})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Description:\"}),\" \",job.description]}),job.specialInstructions&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Special Instructions:\"}),\" \",job.specialInstructions]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-5 border border-green-100\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold mb-4 text-green-900 flex items-center\",children:[/*#__PURE__*/_jsx(Users,{className:\"w-5 h-5 mr-2\"}),\"Customer Information\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Name:\"}),\" \",(_job$customerId=job.customerId)===null||_job$customerId===void 0?void 0:_job$customerId.firstName,\" \",(_job$customerId2=job.customerId)===null||_job$customerId2===void 0?void 0:_job$customerId2.lastName]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(Mail,{className:\"w-4 h-4 mr-2 text-gray-400\"}),(_job$customerId3=job.customerId)===null||_job$customerId3===void 0?void 0:_job$customerId3.email]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(Phone,{className:\"w-4 h-4 mr-2 text-gray-400\"}),job.customerContactNumber||((_job$customerId4=job.customerId)===null||_job$customerId4===void 0?void 0:_job$customerId4.phone)]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl p-5 border border-purple-100\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold mb-4 text-purple-900 flex items-center\",children:[/*#__PURE__*/_jsx(Clock,{className:\"w-5 h-5 mr-2\"}),\"Timing\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"w-4 h-4 mr-2 text-gray-400\"}),/*#__PURE__*/_jsx(\"strong\",{children:\"Requested Date:\"}),\" \",new Date((_job$requestedTimeSlo=job.requestedTimeSlot)===null||_job$requestedTimeSlo===void 0?void 0:_job$requestedTimeSlo.date).toLocaleDateString()]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(Clock,{className:\"w-4 h-4 mr-2 text-gray-400\"}),/*#__PURE__*/_jsx(\"strong\",{children:\"Time:\"}),\" \",(_job$requestedTimeSlo2=job.requestedTimeSlot)===null||_job$requestedTimeSlo2===void 0?void 0:_job$requestedTimeSlo2.startTime,\" - \",(_job$requestedTimeSlo3=job.requestedTimeSlot)===null||_job$requestedTimeSlo3===void 0?void 0:_job$requestedTimeSlo3.endTime]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Estimated Duration:\"}),\" \",job.estimatedDuration,\" hours\"]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-orange-50 to-red-50 rounded-xl p-5 border border-orange-100\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold mb-4 text-orange-900 flex items-center\",children:[/*#__PURE__*/_jsx(MapPin,{className:\"w-5 h-5 mr-2\"}),\"Location\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(MapPin,{className:\"w-4 h-4 mr-2 text-gray-400 mt-1\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:(_job$location=job.location)===null||_job$location===void 0?void 0:_job$location.address}),/*#__PURE__*/_jsxs(\"div\",{children:[(_job$location2=job.location)===null||_job$location2===void 0?void 0:_job$location2.city,\", \",(_job$location3=job.location)===null||_job$location3===void 0?void 0:_job$location3.state,\" \",(_job$location4=job.location)===null||_job$location4===void 0?void 0:_job$location4.zipCode]})]})]}),job.accessInstructions&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Access Instructions:\"}),\" \",job.accessInstructions]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-yellow-50 to-amber-50 rounded-xl p-5 border border-yellow-100\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold mb-4 text-yellow-900 flex items-center\",children:[/*#__PURE__*/_jsx(DollarSign,{className:\"w-5 h-5 mr-2\"}),\"Budget & Pricing\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(DollarSign,{className:\"w-4 h-4 mr-2 text-gray-400\"}),/*#__PURE__*/_jsx(\"strong\",{children:\"Customer Budget:\"}),\" $\",(_job$estimatedBudget=job.estimatedBudget)===null||_job$estimatedBudget===void 0?void 0:_job$estimatedBudget.toFixed(2)]}),((_job$vendorQuote=job.vendorQuote)===null||_job$vendorQuote===void 0?void 0:_job$vendorQuote.amount)&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Vendor Quote:\"}),\" $\",job.vendorQuote.amount.toFixed(2)]}),job.vendorQuote.description&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Quote Description:\"}),\" \",job.vendorQuote.description]})]}),job.totalAmount&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Final Amount:\"}),\" $\",job.totalAmount.toFixed(2)]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Platform Commission (10%):\"}),\" $\",(_job$commission=job.commission)===null||_job$commission===void 0?void 0:(_job$commission$platf=_job$commission.platformAmount)===null||_job$commission$platf===void 0?void 0:_job$commission$platf.toFixed(2)]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Vendor Amount (90%):\"}),\" $\",(_job$commission2=job.commission)===null||_job$commission2===void 0?void 0:(_job$commission2$vend=_job$commission2.vendorAmount)===null||_job$commission2$vend===void 0?void 0:_job$commission2$vend.toFixed(2)]})]})]})]}),job.vendorId&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-indigo-50 to-blue-50 rounded-xl p-5 border border-indigo-100\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold mb-4 text-indigo-900 flex items-center\",children:[/*#__PURE__*/_jsx(UserCheck,{className:\"w-5 h-5 mr-2\"}),\"Assigned Vendor\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Name:\"}),\" \",(_job$vendorId=job.vendorId)===null||_job$vendorId===void 0?void 0:_job$vendorId.firstName,\" \",(_job$vendorId2=job.vendorId)===null||_job$vendorId2===void 0?void 0:_job$vendorId2.lastName]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(Mail,{className:\"w-4 h-4 mr-2 text-gray-400\"}),(_job$vendorId3=job.vendorId)===null||_job$vendorId3===void 0?void 0:_job$vendorId3.email]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(Phone,{className:\"w-4 h-4 mr-2 text-gray-400\"}),(_job$vendorId4=job.vendorId)===null||_job$vendorId4===void 0?void 0:_job$vendorId4.phone]}),((_job$vendorDetails=job.vendorDetails)===null||_job$vendorDetails===void 0?void 0:_job$vendorDetails.companyName)&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Company:\"}),\" \",job.vendorDetails.companyName]})]})]})]})]}),job.statusHistory&&job.statusHistory.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-3\",children:\"Status History\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:job.statusHistory.slice().reverse().map((history,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 text-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-gray-400 rounded-full\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"strong\",{children:[history.status.replace('_',' '),\":\"]})}),/*#__PURE__*/_jsx(\"div\",{children:new Date(history.timestamp).toLocaleString()}),history.notes&&/*#__PURE__*/_jsxs(\"div\",{children:[\"- \",history.notes]})]},index))})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 border-t border-gray-100 bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600\",children:[\"Created: \",new Date(job.createdAt).toLocaleString()]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[job.status==='PENDING'&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setSelectedJob(job);setShowAssignModal(true);onClose();},className:\"px-6 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors flex items-center\",children:[/*#__PURE__*/_jsx(UserCheck,{className:\"w-4 h-4 mr-2\"}),\"Assign to Vendor\"]}),canDeleteJob(job)&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setJobToDelete(job);setShowDeleteModal(true);onClose();},className:\"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center\",children:[/*#__PURE__*/_jsx(Trash2,{className:\"w-4 h-4 mr-2\"}),\"Delete Order\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors\",children:\"Close\"})]})]})})]})});};const AssignmentModal=()=>{var _selectedJob$location,_selectedJob$location2,_selectedJob$estimate;const[modalVendors,setModalVendors]=useState([]);const[isLoadingVendors,setIsLoadingVendors]=useState(false);// Memoize availableVendors to prevent unnecessary re-renders\nconst availableVendors=React.useMemo(()=>{return modalVendors.length>0?getVendorsForJob(selectedJob,modalVendors):getVendorsForJob(selectedJob);},[selectedJob,modalVendors]);// Memoize vendor items with stable IDs to prevent re-renders\nconst vendorItems=React.useMemo(()=>{return availableVendors.map(vendor=>{var _vendor$userId;return{...vendor,stableId:((_vendor$userId=vendor.userId)===null||_vendor$userId===void 0?void 0:_vendor$userId._id)||vendor.userId||vendor._id};});},[availableVendors]);// Fetch recommended vendors when modal opens\nReact.useEffect(()=>{let isMounted=true;const fetchVendorsForModal=async()=>{if(selectedJob&&showAssignModal&&modalVendors.length===0&&!isLoadingVendors){setIsLoadingVendors(true);try{const response=await api.get(`/jobs/${selectedJob._id}/recommended-vendors?limit=10`);if(isMounted){var _response$recommended2;setModalVendors(response.recommendedVendors||[]);if(((_response$recommended2=response.recommendedVendors)===null||_response$recommended2===void 0?void 0:_response$recommended2.length)>0){toast.success(`Found ${response.recommendedVendors.length} recommended vendors!`);}else{// Fallback to all vendors\nconst allVendorsResponse=await api.get('/admin/vendors');if(isMounted){setModalVendors(allVendorsResponse.vendors||[]);}toast.error('No suitable vendors found for this job');}}}catch(error){if(isMounted){console.error('Error fetching recommended vendors:',error);toast.error('Failed to get vendor recommendations');// Fallback to all vendors\ntry{const allVendorsResponse=await api.get('/admin/vendors');if(isMounted){setModalVendors(allVendorsResponse.vendors||[]);}}catch(fallbackError){console.error('Error fetching fallback vendors:',fallbackError);}}}finally{if(isMounted){setIsLoadingVendors(false);}}}};fetchVendorsForModal();return()=>{isMounted=false;};},[selectedJob===null||selectedJob===void 0?void 0:selectedJob._id,showAssignModal,modalVendors.length,isLoadingVendors]);// Prevent infinite loops and unnecessary re-fetches\n// Reset modal state when modal closes\nReact.useEffect(()=>{if(!showAssignModal){setModalVendors([]);setIsLoadingVendors(false);setSelectedVendor('');}},[showAssignModal]);return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,scale:0.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0.95},className:\"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 border-b border-gray-100 bg-gradient-to-r from-orange-50 to-red-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:\"Assign Vendor\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mt-1\",children:\"Find the perfect vendor for this job\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAssignModal(false),className:\"text-gray-400 hover:text-gray-600 p-2 rounded-full hover:bg-white transition-colors\",children:/*#__PURE__*/_jsx(XCircle,{className:\"w-6 h-6\"})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 overflow-y-auto p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-5 border border-blue-100\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-3 text-blue-900\",children:\"Job Summary\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(FileText,{className:\"w-4 h-4 mr-2 text-blue-600\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-gray-900\",children:selectedJob===null||selectedJob===void 0?void 0:selectedJob.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:selectedJob===null||selectedJob===void 0?void 0:selectedJob.category})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(MapPin,{className:\"w-4 h-4 mr-2 text-blue-600\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-gray-900\",children:selectedJob===null||selectedJob===void 0?void 0:(_selectedJob$location=selectedJob.location)===null||_selectedJob$location===void 0?void 0:_selectedJob$location.city}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:selectedJob===null||selectedJob===void 0?void 0:(_selectedJob$location2=selectedJob.location)===null||_selectedJob$location2===void 0?void 0:_selectedJob$location2.state})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(DollarSign,{className:\"w-4 h-4 mr-2 text-blue-600\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"font-medium text-gray-900\",children:[\"$\",selectedJob===null||selectedJob===void 0?void 0:(_selectedJob$estimate=selectedJob.estimatedBudget)===null||_selectedJob$estimate===void 0?void 0:_selectedJob$estimate.toFixed(2)]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Customer budget\"})]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-6 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl p-6 text-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-lg mb-2 flex items-center\",children:\"\\uD83E\\uDD16 Smart Auto-Assignment\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-blue-100 mb-1\",children:\"Let our AI find and assign the best vendor automatically\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-blue-200 text-sm\",children:\"\\u2022 Analyzes vendor ratings, experience & availability\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-blue-200 text-sm\",children:\"\\u2022 Considers location proximity & service category\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-6\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{handleAutoAssign(selectedJob);setShowAssignModal(false);},className:\"px-6 py-3 bg-white text-blue-600 rounded-lg hover:bg-blue-50 transition-colors font-medium flex items-center\",children:[/*#__PURE__*/_jsx(Star,{className:\"w-4 h-4 mr-2\"}),\"Auto-Assign\"]})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Select Vendor Manually\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:async()=>{setIsLoadingVendors(true);try{var _response$recommended3;const response=await api.get(`/jobs/${selectedJob._id}/recommended-vendors?limit=10`);setModalVendors(response.recommendedVendors||[]);if(((_response$recommended3=response.recommendedVendors)===null||_response$recommended3===void 0?void 0:_response$recommended3.length)>0){toast.success(`Found ${response.recommendedVendors.length} recommended vendors!`);}else{toast.error('No suitable vendors found for this job');}}catch(error){console.error('Error fetching recommended vendors:',error);toast.error('Failed to get vendor recommendations');}finally{setIsLoadingVendors(false);}},disabled:isLoadingVendors,className:\"text-sm text-orange-600 hover:text-orange-800 flex items-center disabled:opacity-50\",children:[/*#__PURE__*/_jsx(RefreshCw,{className:`w-4 h-4 mr-1 ${isLoadingVendors?'animate-spin':''}`}),\"Get AI Recommendations\"]})]}),vendorItems.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3 max-h-60 overflow-y-auto\",children:vendorItems.map(vendor=>{var _vendor$userId2,_vendor$userId3,_vendor$vendorStats,_vendor$vendorStats2,_vendor$vendorStats3,_vendor$vendorStats4,_vendor$serviceCatego2,_vendor$scoreBreakdow,_vendor$scoreBreakdow2,_vendor$scoreBreakdow3;const vendorId=vendor.stableId;const hasAIScore=vendor.totalScore!==undefined;return/*#__PURE__*/_jsxs(\"label\",{className:`flex items-center p-4 border rounded-lg cursor-pointer hover:bg-gray-50 ${selectedVendor===vendorId?'border-orange-500 bg-orange-50':'border-gray-300'} ${hasAIScore?'border-l-4 border-l-blue-500':''}`,children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"vendor\",value:vendorId,checked:selectedVendor===vendorId,onChange:e=>setSelectedVendor(e.target.value),className:\"mr-3 text-orange-600\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"font-medium\",children:[((_vendor$userId2=vendor.userId)===null||_vendor$userId2===void 0?void 0:_vendor$userId2.firstName)||vendor.firstName||'Unknown',\" \",((_vendor$userId3=vendor.userId)===null||_vendor$userId3===void 0?void 0:_vendor$userId3.lastName)||vendor.lastName||'User']}),hasAIScore&&/*#__PURE__*/_jsxs(\"div\",{className:\"ml-2 px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full\",children:[\"AI Score: \",vendor.totalScore.toFixed(0),\"/100\"]})]}),vendor.companyName&&/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:vendor.companyName}),hasAIScore&&vendor.recommendationReason&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-green-600 mt-1\",children:[\"\\uD83D\\uDCA1 \",vendor.recommendationReason]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[getRatingStars(((_vendor$vendorStats=vendor.vendorStats)===null||_vendor$vendorStats===void 0?void 0:_vendor$vendorStats.averageRating)||vendor.averageRating||4.5),/*#__PURE__*/_jsxs(\"span\",{className:\"ml-1 text-sm text-gray-600\",children:[\"(\",(((_vendor$vendorStats2=vendor.vendorStats)===null||_vendor$vendorStats2===void 0?void 0:_vendor$vendorStats2.averageRating)||vendor.averageRating||4.5).toFixed(1),\")\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-500\",children:[((_vendor$vendorStats3=vendor.vendorStats)===null||_vendor$vendorStats3===void 0?void 0:_vendor$vendorStats3.totalJobs)||vendor.totalJobsCompleted||0,\" jobs completed\"]}),hasAIScore&&/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-blue-600\",children:((_vendor$vendorStats4=vendor.vendorStats)===null||_vendor$vendorStats4===void 0?void 0:_vendor$vendorStats4.experienceLevel)||'New'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 text-sm text-gray-600\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"Categories: \",(_vendor$serviceCatego2=vendor.serviceCategories)===null||_vendor$serviceCatego2===void 0?void 0:_vendor$serviceCatego2.join(', ')]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Service Area: \",vendor.serviceArea]}),hasAIScore&&vendor.scoreBreakdown&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 text-xs\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-3 gap-2\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"Rating: \",(_vendor$scoreBreakdow=vendor.scoreBreakdown.rating)===null||_vendor$scoreBreakdow===void 0?void 0:_vendor$scoreBreakdow.score.toFixed(0)]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Experience: \",(_vendor$scoreBreakdow2=vendor.scoreBreakdown.experience)===null||_vendor$scoreBreakdow2===void 0?void 0:_vendor$scoreBreakdow2.score.toFixed(0)]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Availability: \",(_vendor$scoreBreakdow3=vendor.scoreBreakdown.availability)===null||_vendor$scoreBreakdow3===void 0?void 0:_vendor$scoreBreakdow3.score.toFixed(0)]})]})})]})]})]},vendor._id);})}):isLoadingVendors?/*#__PURE__*//* Vendor Loading Skeleton */_jsx(\"div\",{className:\"space-y-3 max-h-60 overflow-y-auto\",children:[...Array(4)].map((_,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"border border-gray-300 rounded-lg p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"animate-pulse\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 bg-gray-200 rounded-full\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-4 bg-gray-200 rounded w-32\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-3 bg-gray-200 rounded w-24\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right space-y-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-3 bg-gray-200 rounded w-16\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-2 bg-gray-200 rounded w-12\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-2 bg-gray-200 rounded w-full\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-2 bg-gray-200 rounded w-3/4\"})]})]})},index))}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8 text-gray-500\",children:[/*#__PURE__*/_jsx(Users,{className:\"w-12 h-12 mx-auto mb-4 text-gray-300\"}),/*#__PURE__*/_jsx(\"p\",{children:\"No available vendors found for this job category and location.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:async()=>{setIsLoadingVendors(true);try{const response=await api.get('/admin/vendors');setModalVendors(response.vendors||[]);toast.success('All vendors loaded');}catch(error){console.error('Error fetching vendors:',error);toast.error('Failed to load vendors');}finally{setIsLoadingVendors(false);}},disabled:isLoadingVendors,className:\"mt-2 text-orange-600 hover:text-orange-800 text-sm disabled:opacity-50\",children:\"Load all vendors\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-3\",children:\"Assignment Schedule\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:assignmentTimeSlot.date,onChange:e=>setAssignmentTimeSlot(prev=>({...prev,date:e.target.value})),min:new Date().toISOString().split('T')[0],className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Start Time\"}),/*#__PURE__*/_jsx(\"input\",{type:\"time\",value:assignmentTimeSlot.startTime,onChange:e=>setAssignmentTimeSlot(prev=>({...prev,startTime:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"End Time\"}),/*#__PURE__*/_jsx(\"input\",{type:\"time\",value:assignmentTimeSlot.endTime,onChange:e=>setAssignmentTimeSlot(prev=>({...prev,endTime:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500\"})]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 border-t border-gray-100 bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600\",children:[vendorItems.length,\" vendor\",vendorItems.length!==1?'s':'',\" available\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAssignModal(false),className:\"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors\",children:\"Cancel\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleAssignJob,disabled:!selectedVendor||!assignmentTimeSlot.date,className:\"px-6 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center\",children:[/*#__PURE__*/_jsx(UserCheck,{className:\"w-4 h-4 mr-2\"}),\"Assign Job\"]})]})]})})]})});};const DeleteConfirmationModal=()=>{var _jobToDelete$customer,_jobToDelete$customer2;return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,scale:0.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0.95},className:\"bg-white rounded-xl shadow-2xl w-full max-w-md\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 border-b border-gray-100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-bold text-gray-900 flex items-center\",children:[/*#__PURE__*/_jsx(Trash2,{className:\"w-5 h-5 mr-2 text-red-600\"}),\"Delete Order\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowDeleteModal(false),className:\"text-gray-400 hover:text-gray-600 p-1 rounded-full hover:bg-gray-100 transition-colors\",children:/*#__PURE__*/_jsx(X,{className:\"w-5 h-5\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4\",children:/*#__PURE__*/_jsx(Trash2,{className:\"w-8 h-8 text-red-600\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-2\",children:\"Are you sure you want to delete this order?\"}),jobToDelete&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 rounded-lg p-4 mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm space-y-1\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Order:\"}),\" \",jobToDelete.jobNumber]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Title:\"}),\" \",jobToDelete.title]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Status:\"}),/*#__PURE__*/_jsx(\"span\",{className:`ml-2 px-2 py-1 rounded-full text-xs font-medium ${statusColors[jobToDelete.status]}`,children:jobToDelete.status.replace('_',' ')})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Customer:\"}),\" \",(_jobToDelete$customer=jobToDelete.customerId)===null||_jobToDelete$customer===void 0?void 0:_jobToDelete$customer.firstName,\" \",(_jobToDelete$customer2=jobToDelete.customerId)===null||_jobToDelete$customer2===void 0?void 0:_jobToDelete$customer2.lastName]})]})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:\"This action cannot be undone. The order and all associated messages will be permanently deleted.\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"px-6 py-4 border-t border-gray-100 bg-gray-50 flex justify-end space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowDeleteModal(false),className:\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-white transition-colors\",children:\"Cancel\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleDeleteJob,className:\"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center\",children:[/*#__PURE__*/_jsx(Trash2,{className:\"w-4 h-4 mr-2\"}),\"Delete Order\"]})]})]})});};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"relative bg-gradient-to-r from-orange-600 to-orange-800 text-white py-20\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-black opacity-10\"}),/*#__PURE__*/_jsx(\"div\",{className:\"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl md:text-5xl font-bold mb-4\",children:\"Order Management\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xl text-orange-100 max-w-2xl\",children:\"Efficiently manage customer orders, track progress, and assign vendors with our intelligent system\"}),jobs.filter(job=>job.status==='PENDING').length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mt-4 px-4 py-3 bg-orange-800 bg-opacity-80 text-orange-100 rounded-lg backdrop-blur-sm inline-flex\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"w-5 h-5 mr-3\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold\",children:[jobs.filter(job=>job.status==='PENDING').length,\" order\",jobs.filter(job=>job.status==='PENDING').length>1?'s':'',\" pending assignment\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-3\",children:[jobs.filter(job=>job.status==='PENDING').length>0&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setFilters(prev=>({...prev,status:'PENDING'}));setCurrentPage(1);},className:\"flex items-center px-6 py-3 bg-orange-800 bg-opacity-80 text-white rounded-lg hover:bg-orange-900 transition-all duration-200 backdrop-blur-sm shadow-lg hover:shadow-xl transform hover:scale-105 font-semibold\",children:[/*#__PURE__*/_jsx(Clock,{className:\"w-5 h-5 mr-2\"}),\"View Pending (\",jobs.filter(job=>job.status==='PENDING').length,\")\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:fetchJobs,className:\"flex items-center px-6 py-3 bg-white text-orange-600 rounded-lg hover:bg-orange-50 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105 font-semibold\",children:[/*#__PURE__*/_jsx(RefreshCw,{className:\"w-5 h-5 mr-2\"}),\"Refresh\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>window.print(),className:\"flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105 font-semibold\",children:[/*#__PURE__*/_jsx(Download,{className:\"w-5 h-5 mr-2\"}),\"Export\"]})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-8 relative z-10\",children:[/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:0.1},className:\"bg-white rounded-xl shadow-lg p-6 mb-8 border border-gray-100\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-lg font-semibold text-gray-900 flex items-center\",children:[/*#__PURE__*/_jsx(Filter,{className:\"w-5 h-5 mr-2 text-orange-600\"}),\"Filter Orders\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mt-1\",children:\"Find specific orders using the filters below\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold text-gray-700 mb-2\",children:\"Search\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(Search,{className:\"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:filters.search,onChange:e=>setFilters(prev=>({...prev,search:e.target.value})),placeholder:\"Job title, customer name...\",className:\"w-full pl-11 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors bg-gray-50 focus:bg-white\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold text-gray-700 mb-2\",children:\"Status\"}),/*#__PURE__*/_jsxs(\"select\",{value:filters.status,onChange:e=>setFilters(prev=>({...prev,status:e.target.value})),className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors bg-gray-50 focus:bg-white\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Statuses\"}),/*#__PURE__*/_jsx(\"option\",{value:\"PENDING\",children:\"Pending\"}),/*#__PURE__*/_jsx(\"option\",{value:\"ASSIGNED\",children:\"Assigned\"}),/*#__PURE__*/_jsx(\"option\",{value:\"IN_DISCUSSION\",children:\"In Discussion\"}),/*#__PURE__*/_jsx(\"option\",{value:\"QUOTE_SENT\",children:\"Quote Sent\"}),/*#__PURE__*/_jsx(\"option\",{value:\"QUOTE_ACCEPTED\",children:\"Quote Accepted\"}),/*#__PURE__*/_jsx(\"option\",{value:\"PAID\",children:\"Paid\"}),/*#__PURE__*/_jsx(\"option\",{value:\"IN_PROGRESS\",children:\"In Progress\"}),/*#__PURE__*/_jsx(\"option\",{value:\"COMPLETED\",children:\"Completed\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold text-gray-700 mb-2\",children:\"Priority\"}),/*#__PURE__*/_jsxs(\"select\",{value:filters.priority,onChange:e=>setFilters(prev=>({...prev,priority:e.target.value})),className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors bg-gray-50 focus:bg-white\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Priorities\"}),/*#__PURE__*/_jsx(\"option\",{value:\"EMERGENCY\",children:\"Emergency\"}),/*#__PURE__*/_jsx(\"option\",{value:\"HIGH\",children:\"High\"}),/*#__PURE__*/_jsx(\"option\",{value:\"MEDIUM\",children:\"Medium\"}),/*#__PURE__*/_jsx(\"option\",{value:\"LOW\",children:\"Low\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-end\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setFilters({status:'',category:'',priority:'',search:'',dateRange:'',assignmentStatus:''}),className:\"w-full px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-semibold flex items-center justify-center\",children:[/*#__PURE__*/_jsx(X,{className:\"w-4 h-4 mr-2\"}),\"Clear Filters\"]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6 mb-8\",children:[/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:0.1},className:\"bg-gradient-to-br from-yellow-50 to-amber-50 rounded-xl shadow-sm border border-yellow-100 hover:shadow-md transition-all duration-200 group\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-yellow-700 mb-1\",children:\"Pending Orders\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold text-yellow-900\",children:jobs.filter(job=>job.status==='PENDING').length}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-yellow-600 mt-1\",children:\"Awaiting assignment\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded-full bg-yellow-100 group-hover:bg-yellow-200 transition-colors\",children:/*#__PURE__*/_jsx(Clock,{className:\"w-6 h-6 text-yellow-600\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-xs text-yellow-700\",children:[/*#__PURE__*/_jsx(TrendingUp,{className:\"w-3 h-3 mr-1\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Requires immediate attention\"})]})})]})}),/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:0.2},className:\"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl shadow-sm border border-blue-100 hover:shadow-md transition-all duration-200 group\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-blue-700 mb-1\",children:\"Assigned\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold text-blue-900\",children:jobs.filter(job=>['ASSIGNED','IN_DISCUSSION','QUOTE_SENT'].includes(job.status)).length}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-blue-600 mt-1\",children:\"With vendors\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded-full bg-blue-100 group-hover:bg-blue-200 transition-colors\",children:/*#__PURE__*/_jsx(UserCheck,{className:\"w-6 h-6 text-blue-600\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-xs text-blue-700\",children:[/*#__PURE__*/_jsx(Users,{className:\"w-3 h-3 mr-1\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Under vendor review\"})]})})]})}),/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:0.3},className:\"bg-gradient-to-br from-orange-50 to-red-50 rounded-xl shadow-sm border border-orange-100 hover:shadow-md transition-all duration-200 group\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-orange-700 mb-1\",children:\"In Progress\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold text-orange-900\",children:jobs.filter(job=>['PAID','IN_PROGRESS'].includes(job.status)).length}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-orange-600 mt-1\",children:\"Active work\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded-full bg-orange-100 group-hover:bg-orange-200 transition-colors\",children:/*#__PURE__*/_jsx(Wrench,{className:\"w-6 h-6 text-orange-600\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-xs text-orange-700\",children:[/*#__PURE__*/_jsx(Package,{className:\"w-3 h-3 mr-1\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Work in progress\"})]})})]})}),/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:0.4},className:\"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl shadow-sm border border-green-100 hover:shadow-md transition-all duration-200 group\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-green-700 mb-1\",children:\"Completed\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold text-green-900\",children:jobs.filter(job=>job.status==='COMPLETED').length}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-green-600 mt-1\",children:\"Successfully finished\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded-full bg-green-100 group-hover:bg-green-200 transition-colors\",children:/*#__PURE__*/_jsx(CheckCircle,{className:\"w-6 h-6 text-green-600\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-xs text-green-700\",children:[/*#__PURE__*/_jsx(BarChart3,{className:\"w-3 h-3 mr-1\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Revenue generated\"})]})})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-lg border border-gray-200 mb-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-gray-50 to-gray-100 px-6 py-4 border-b border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row sm:items-center justify-between gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:\"All Orders\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-500\",children:[jobs.length,\" \",jobs.length===1?'order':'orders']}),selectedOrders.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-medium text-orange-600 bg-orange-100 px-3 py-1 rounded-full\",children:[selectedOrders.length,\" selected\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{// Bulk assign logic would go here\ntoast.info('Bulk assignment feature coming soon!');},className:\"px-4 py-2 text-sm font-medium text-orange-600 bg-orange-50 rounded-lg hover:bg-orange-100 transition-colors flex items-center\",children:[/*#__PURE__*/_jsx(UserCheck,{className:\"w-4 h-4 mr-2\"}),\"Bulk Assign\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{// Bulk export logic would go here\ntoast.info('Bulk export feature coming soon!');},className:\"px-4 py-2 text-sm font-medium text-blue-600 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors flex items-center\",children:[/*#__PURE__*/_jsx(Download,{className:\"w-4 h-4 mr-2\"}),\"Export\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedOrders([]),className:\"px-4 py-2 text-sm font-medium text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors\",children:\"Clear\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-2\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>{const pendingJobs=jobs.filter(job=>job.status==='PENDING');if(pendingJobs.length>0){toast.info(`Auto-assigning ${pendingJobs.length} pending orders...`);// Bulk auto-assign logic would go here\n}else{toast.info('No pending orders to assign');}},className:\"px-4 py-2 text-sm font-semibold text-blue-600 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors\",title:\"Auto-assign all pending orders\",children:\"\\uD83E\\uDD16 Auto-assign All\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex bg-gray-200 rounded-lg p-1\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setViewMode('table'),className:`px-4 py-2 rounded-md text-sm font-semibold transition-colors ${viewMode==='table'?'bg-white text-gray-900 shadow-sm':'text-gray-600 hover:text-gray-900'}`,children:[/*#__PURE__*/_jsx(List,{className:\"w-4 h-4 mr-2 inline\"}),\"Table\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setViewMode('grid'),className:`px-4 py-2 rounded-md text-sm font-semibold transition-colors ${viewMode==='grid'?'bg-white text-gray-900 shadow-sm':'text-gray-600 hover:text-gray-900'}`,children:[/*#__PURE__*/_jsx(Grid,{className:\"w-4 h-4 mr-2 inline\"}),\"Cards\"]})]})]})]})}),loading?viewMode==='grid'?/*#__PURE__*//* Grid Skeleton */_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:[...Array(6)].map((_,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"animate-pulse\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-4 bg-gray-200 rounded w-3/4 mb-2\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-3 bg-gray-200 rounded w-1/2\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"h-6 bg-gray-200 rounded-full w-16\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-3 bg-gray-200 rounded w-1/4\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-8 w-8 bg-gray-200 rounded-full\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-3 bg-gray-200 rounded w-3/4 mb-1\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-2 bg-gray-200 rounded w-1/2\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-3 bg-gray-200 rounded w-full\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-3 bg-gray-200 rounded w-2/3\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2 pt-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-8 bg-gray-200 rounded flex-1\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-8 w-8 bg-gray-200 rounded\"})]})]})]})},index))}):/*#__PURE__*//* Table Skeleton */_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"hidden lg:block\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 px-6 py-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-7 gap-4\",children:['','Order Details','Customer','Location','Budget','Status','Actions'].map((header,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"h-4 bg-gray-200 rounded\"},index))})}),/*#__PURE__*/_jsx(\"div\",{className:\"divide-y divide-gray-200\",children:[...Array(8)].map((_,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"animate-pulse grid grid-cols-7 gap-4 items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-4 w-4 bg-gray-200 rounded\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-4 bg-gray-200 rounded w-3/4\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-3 bg-gray-200 rounded w-1/2\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-3 bg-gray-200 rounded w-1/3\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-10 w-10 bg-gray-200 rounded-full\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-3 bg-gray-200 rounded w-20\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-2 bg-gray-200 rounded w-16\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-3 bg-gray-200 rounded w-16\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-2 bg-gray-200 rounded w-12\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-3 bg-gray-200 rounded w-12\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-2 bg-gray-200 rounded w-10\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"h-6 bg-gray-200 rounded-full w-16\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-6 w-6 bg-gray-200 rounded\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-6 w-6 bg-gray-200 rounded\"})]})]})},index))})]}),/*#__PURE__*/_jsx(\"div\",{className:\"lg:hidden divide-y divide-gray-200\",children:[...Array(6)].map((_,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"animate-pulse space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-4 bg-gray-200 rounded w-1/2\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-6 bg-gray-200 rounded-full w-16\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-3 bg-gray-200 rounded w-1/4\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-3 bg-gray-200 rounded w-1/3\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-3 bg-gray-200 rounded w-1/4\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-3 bg-gray-200 rounded w-1/4\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-8 bg-gray-200 rounded flex-1\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-8 w-8 bg-gray-200 rounded\"})]})]})},index))})]}):jobs.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-6\",children:/*#__PURE__*/_jsx(Package,{className:\"w-12 h-12 text-gray-400\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-900 mb-2\",children:\"No orders found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 mb-6 max-w-sm mx-auto\",children:filters.search||filters.status||filters.priority?\"No orders match your current filters. Try adjusting your search criteria.\":\"No orders available at the moment. New orders will appear here when customers submit requests.\"}),(filters.search||filters.status||filters.priority)&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>setFilters({status:'',category:'',priority:'',search:'',dateRange:'',assignmentStatus:''}),className:\"px-6 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors\",children:\"Clear All Filters\"})]}):viewMode==='grid'?/*#__PURE__*//* Grid View */_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:jobs.map(job=>{var _job$customerId5,_job$customerId5$firs,_job$customerId6,_job$customerId6$last,_job$customerId7,_job$customerId8,_job$customerId9,_job$location5,_job$location6,_job$estimatedBudget2,_job$vendorQuote2,_job$requestedTimeSlo4;return/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:\"bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow duration-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-1 line-clamp-2\",children:job.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500\",children:[job.jobNumber,\" \\u2022 \",job.category]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-4\",children:/*#__PURE__*/_jsx(\"span\",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${statusColors[job.status]}`,children:job.status.replace('_',' ')})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mb-4\",children:[/*#__PURE__*/_jsx(\"span\",{className:`px-2 py-1 text-xs font-medium rounded-full border ${priorityColors[job.priority]}`,children:job.priority}),job.isEmergency&&/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 bg-red-100 text-red-800 text-xs rounded-full font-medium\",children:\"\\uD83D\\uDEA8 EMERGENCY\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2 mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center mr-3\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs font-medium text-gray-600\",children:[(_job$customerId5=job.customerId)===null||_job$customerId5===void 0?void 0:(_job$customerId5$firs=_job$customerId5.firstName)===null||_job$customerId5$firs===void 0?void 0:_job$customerId5$firs[0],(_job$customerId6=job.customerId)===null||_job$customerId6===void 0?void 0:(_job$customerId6$last=_job$customerId6.lastName)===null||_job$customerId6$last===void 0?void 0:_job$customerId6$last[0]]})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"font-medium text-gray-900\",children:[(_job$customerId7=job.customerId)===null||_job$customerId7===void 0?void 0:_job$customerId7.firstName,\" \",(_job$customerId8=job.customerId)===null||_job$customerId8===void 0?void 0:_job$customerId8.lastName]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-xs\",children:(_job$customerId9=job.customerId)===null||_job$customerId9===void 0?void 0:_job$customerId9.email})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-600\",children:[/*#__PURE__*/_jsx(MapPin,{className:\"w-4 h-4 mr-2\"}),/*#__PURE__*/_jsxs(\"span\",{children:[(_job$location5=job.location)===null||_job$location5===void 0?void 0:_job$location5.city,\", \",(_job$location6=job.location)===null||_job$location6===void 0?void 0:_job$location6.state]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm\",children:[/*#__PURE__*/_jsx(DollarSign,{className:\"w-4 h-4 mr-2 text-gray-600\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium text-gray-900\",children:[\"$\",(_job$estimatedBudget2=job.estimatedBudget)===null||_job$estimatedBudget2===void 0?void 0:_job$estimatedBudget2.toFixed(2)]}),((_job$vendorQuote2=job.vendorQuote)===null||_job$vendorQuote2===void 0?void 0:_job$vendorQuote2.amount)&&/*#__PURE__*/_jsxs(\"span\",{className:\"ml-2 text-xs text-gray-500\",children:[\"(Quote: $\",job.vendorQuote.amount.toFixed(2),\")\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-600\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"w-4 h-4 mr-2\"}),/*#__PURE__*/_jsx(\"span\",{children:(_job$requestedTimeSlo4=job.requestedTimeSlot)!==null&&_job$requestedTimeSlo4!==void 0&&_job$requestedTimeSlo4.date?new Date(job.requestedTimeSlot.date).toLocaleDateString():'Date TBD'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 pt-4 border-t border-gray-100\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setSelectedJob(job),className:\"flex-1 flex items-center justify-center px-3 py-2 text-sm font-medium text-blue-600 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors\",children:[/*#__PURE__*/_jsx(Eye,{className:\"w-4 h-4 mr-1\"}),\"View\"]}),job.status==='PENDING'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleAutoAssign(job),className:\"flex items-center justify-center px-3 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors\",title:\"Auto-assign to best vendor\",children:\"\\uD83E\\uDD16\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setSelectedJob(job);setShowAssignModal(true);},className:\"flex items-center justify-center px-3 py-2 text-sm font-medium text-white bg-orange-600 rounded-lg hover:bg-orange-700 transition-colors\",title:\"Manual assignment\",children:/*#__PURE__*/_jsx(UserCheck,{className:\"w-4 h-4\"})})]}),canDeleteJob(job)&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setJobToDelete(job);setShowDeleteModal(true);},className:\"flex items-center justify-center px-3 py-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700 transition-colors\",title:\"Delete order\",children:/*#__PURE__*/_jsx(Trash2,{className:\"w-4 h-4\"})})]})]})},job._id);})}):/*#__PURE__*//* Table View */_jsxs(\"div\",{className:\"overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"hidden lg:block overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:selectedOrders.length===jobs.length&&jobs.length>0,onChange:e=>{if(e.target.checked){setSelectedOrders(jobs.map(job=>job._id));}else{setSelectedOrders([]);}},className:\"rounded border-gray-300 text-orange-600 focus:ring-orange-500\"})}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Order Details\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Customer\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Location\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Budget\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:jobs.map(job=>{var _job$customerId0,_job$customerId0$firs,_job$customerId1,_job$customerId1$last,_job$customerId10,_job$customerId11,_job$customerId12,_job$location7,_job$location8,_job$estimatedBudget3,_job$vendorQuote3;return/*#__PURE__*/_jsxs(\"tr\",{className:`hover:bg-gray-50 transition-colors ${selectedOrders.includes(job._id)?'bg-orange-50':''}`,children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4\",children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:selectedOrders.includes(job._id),onChange:e=>{if(e.target.checked){setSelectedOrders(prev=>[...prev,job._id]);}else{setSelectedOrders(prev=>prev.filter(id=>id!==job._id));}},className:\"rounded border-gray-300 text-orange-600 focus:ring-orange-500\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900 mb-1\",children:job.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-500 mb-2\",children:[job.jobNumber,\" \\u2022 \",job.category]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full border ${priorityColors[job.priority]}`,children:job.priority}),job.isEmergency&&/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 bg-red-100 text-red-800 text-xs rounded-full font-medium\",children:\"\\uD83D\\uDEA8 EMERGENCY\"})]})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center mr-3\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-medium text-gray-600\",children:[(_job$customerId0=job.customerId)===null||_job$customerId0===void 0?void 0:(_job$customerId0$firs=_job$customerId0.firstName)===null||_job$customerId0$firs===void 0?void 0:_job$customerId0$firs[0],(_job$customerId1=job.customerId)===null||_job$customerId1===void 0?void 0:(_job$customerId1$last=_job$customerId1.lastName)===null||_job$customerId1$last===void 0?void 0:_job$customerId1$last[0]]})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm font-medium text-gray-900\",children:[(_job$customerId10=job.customerId)===null||_job$customerId10===void 0?void 0:_job$customerId10.firstName,\" \",(_job$customerId11=job.customerId)===null||_job$customerId11===void 0?void 0:_job$customerId11.lastName]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:(_job$customerId12=job.customerId)===null||_job$customerId12===void 0?void 0:_job$customerId12.email})]})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm\",children:[/*#__PURE__*/_jsx(MapPin,{className:\"w-4 h-4 mr-2 text-gray-400\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-900\",children:(_job$location7=job.location)===null||_job$location7===void 0?void 0:_job$location7.city}),/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-500\",children:(_job$location8=job.location)===null||_job$location8===void 0?void 0:_job$location8.state})]})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm font-medium text-gray-900\",children:[\"$\",(_job$estimatedBudget3=job.estimatedBudget)===null||_job$estimatedBudget3===void 0?void 0:_job$estimatedBudget3.toFixed(2)]}),((_job$vendorQuote3=job.vendorQuote)===null||_job$vendorQuote3===void 0?void 0:_job$vendorQuote3.amount)&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-500\",children:[\"Quote: $\",job.vendorQuote.amount.toFixed(2)]})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4\",children:/*#__PURE__*/_jsx(\"span\",{className:`inline-flex px-3 py-1 text-xs font-semibold rounded-full ${statusColors[job.status]}`,children:job.status.replace('_',' ')})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedJob(job),className:\"text-blue-600 hover:text-blue-900 p-1 rounded-full hover:bg-blue-50 transition-colors\",title:\"View details\",children:/*#__PURE__*/_jsx(Eye,{className:\"w-4 h-4\"})}),job.status==='PENDING'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleAutoAssign(job),className:\"text-blue-600 hover:text-blue-900 p-1 rounded-full hover:bg-blue-50 transition-colors\",title:\"Auto-assign to best vendor\",children:\"\\uD83E\\uDD16\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setSelectedJob(job);setShowAssignModal(true);},className:\"text-orange-600 hover:text-orange-900 p-1 rounded-full hover:bg-orange-50 transition-colors\",title:\"Manual assignment\",children:/*#__PURE__*/_jsx(UserCheck,{className:\"w-4 h-4\"})})]}),canDeleteJob(job)&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setJobToDelete(job);setShowDeleteModal(true);},className:\"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50 transition-colors\",title:\"Delete order\",children:/*#__PURE__*/_jsx(Trash2,{className:\"w-4 h-4\"})})]})})]},job._id);})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"lg:hidden divide-y divide-gray-200\",children:jobs.map(job=>{var _job$customerId13,_job$customerId14,_job$location9,_job$location0,_job$estimatedBudget4;return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 hover:bg-gray-50 transition-colors\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-gray-900 mb-1\",children:job.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500\",children:[job.jobNumber,\" \\u2022 \",job.category]})]}),/*#__PURE__*/_jsx(\"span\",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${statusColors[job.status]} ml-2`,children:job.status.replace('_',' ')})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Customer:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",children:[(_job$customerId13=job.customerId)===null||_job$customerId13===void 0?void 0:_job$customerId13.firstName,\" \",(_job$customerId14=job.customerId)===null||_job$customerId14===void 0?void 0:_job$customerId14.lastName]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Location:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[(_job$location9=job.location)===null||_job$location9===void 0?void 0:_job$location9.city,\", \",(_job$location0=job.location)===null||_job$location0===void 0?void 0:_job$location0.state]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Budget:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",children:[\"$\",(_job$estimatedBudget4=job.estimatedBudget)===null||_job$estimatedBudget4===void 0?void 0:_job$estimatedBudget4.toFixed(2)]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mb-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full border ${priorityColors[job.priority]}`,children:job.priority}),job.isEmergency&&/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 bg-red-100 text-red-800 text-xs rounded-full font-medium\",children:\"\\uD83D\\uDEA8 EMERGENCY\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setSelectedJob(job),className:\"flex-1 flex items-center justify-center px-3 py-2 text-xs font-medium text-blue-600 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors\",children:[/*#__PURE__*/_jsx(Eye,{className:\"w-3 h-3 mr-1\"}),\"View\"]}),job.status==='PENDING'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleAutoAssign(job),className:\"flex items-center justify-center px-3 py-2 text-xs font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors\",title:\"Auto-assign\",children:\"\\uD83E\\uDD16\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setSelectedJob(job);setShowAssignModal(true);},className:\"flex items-center justify-center px-3 py-2 text-xs font-medium text-white bg-orange-600 rounded-lg hover:bg-orange-700 transition-colors\",title:\"Assign\",children:/*#__PURE__*/_jsx(UserCheck,{className:\"w-3 h-3\"})})]}),canDeleteJob(job)&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setJobToDelete(job);setShowDeleteModal(true);},className:\"flex items-center justify-center px-3 py-2 text-xs font-medium text-white bg-red-600 rounded-lg hover:bg-red-700 transition-colors\",title:\"Delete\",children:/*#__PURE__*/_jsx(Trash2,{className:\"w-3 h-3\"})})]})]},job._id);})})]}),pagination.pages>1&&/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 border-t border-gray-200 bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm font-medium text-gray-700\",children:[\"Showing page \",/*#__PURE__*/_jsx(\"span\",{className:\"text-orange-600\",children:pagination.page}),\" of \",/*#__PURE__*/_jsx(\"span\",{className:\"text-orange-600\",children:pagination.pages}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-500 ml-2\",children:[\"(\",pagination.total,\" total orders)\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setPagination(prev=>({...prev,page:Math.max(1,prev.page-1)})),disabled:pagination.page===1,className:\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium\",children:\"Previous\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setPagination(prev=>({...prev,page:Math.min(prev.pages,prev.page+1)})),disabled:pagination.page===pagination.pages,className:\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium\",children:\"Next\"})]})]})})]})]}),selectedJob&&!showAssignModal&&/*#__PURE__*/_jsx(JobDetailsModal,{job:selectedJob,onClose:()=>setSelectedJob(null)}),showAssignModal&&selectedJob&&/*#__PURE__*/_jsx(AssignmentModal,{}),showDeleteModal&&jobToDelete&&/*#__PURE__*/_jsx(DeleteConfirmationModal,{})]});};export default OrderManagement;","map":{"version":3,"names":["React","useState","useEffect","motion","AnimatePresence","Search","Filter","Eye","UserCheck","Clock","MapPin","DollarSign","Calendar","Phone","Mail","FileText","Star","AlertCircle","CheckCircle","XCircle","Users","Wrench","ChevronDown","ChevronRight","RefreshCw","Grid","List","BarChart3","TrendingUp","Package","Plus","Download","MoreHorizontal","X","Trash2","api","toast","useAuth","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","OrderManagement","user","jobs","setJobs","vendors","setVendors","loading","setLoading","selectedJob","setSelectedJob","showAssignModal","setShowAssignModal","showDeleteModal","setShowDeleteModal","jobToDelete","setJobToDelete","selectedVendor","setSelectedVendor","assignmentTimeSlot","setAssignmentTimeSlot","date","startTime","endTime","viewMode","setViewMode","currentPage","setCurrentPage","totalPages","setTotalPages","selectedOrders","setSelectedOrders","sortBy","setSortBy","stats","setStats","pendingOrders","assignedOrders","inProgressOrders","completedOrders","totalRevenue","avgOrderValue","filters","setFilters","status","category","priority","search","dateRange","assignmentStatus","pagination","setPagination","page","pages","total","limit","statusColors","PENDING","ASSIGNED","IN_DISCUSSION","QUOTE_SENT","QUOTE_ACCEPTED","PAID","IN_PROGRESS","COMPLETED","CANCELLED","REJECTED","priorityColors","LOW","MEDIUM","HIGH","EMERGENCY","statusOptions","value","label","priorityOptions","sortOptions","fetchJobs","fetchVendors","queryParams","URLSearchParams","response","get","prev","error","console","fetchRecommendedVendors","jobId","_response$recommended","recommendedVendors","length","success","handleAutoAssign","job","_response$assignedVen","post","_id","assignedVendor","userId","_response$assignedVen2","_response$assignedVen3","firstName","lastName","recommendationReason","warn","_error$response","_error$response$data","data","message","handleAssignJob","assignmentData","vendorId","assignedTimeSlot","patch","_error$response2","_error$response2$data","handleDeleteJob","delete","jobNumber","_error$response3","_error$response3$data","canDeleteJob","getVendorsForJob","vendorList","arguments","undefined","filter","vendor","_vendor$serviceCatego","hasCategory","serviceCategories","includes","servesLocation","isActiveAndVerified","isActive","verificationStatus","getRatingStars","rating","stars","roundedRating","Math","round","i","push","className","JobDetailsModal","_ref","_job$customerId","_job$customerId2","_job$customerId3","_job$customerId4","_job$requestedTimeSlo","_job$requestedTimeSlo2","_job$requestedTimeSlo3","_job$location","_job$location2","_job$location3","_job$location4","_job$estimatedBudget","_job$vendorQuote","_job$commission","_job$commission$platf","_job$commission2","_job$commission2$vend","_job$vendorId","_job$vendorId2","_job$vendorId3","_job$vendorId4","_job$vendorDetails","onClose","children","div","initial","opacity","scale","animate","exit","onClick","title","isEmergency","replace","description","specialInstructions","customerId","email","customerContactNumber","phone","Date","requestedTimeSlot","toLocaleDateString","estimatedDuration","location","address","city","state","zipCode","accessInstructions","estimatedBudget","toFixed","vendorQuote","amount","totalAmount","commission","platformAmount","vendorAmount","vendorDetails","companyName","statusHistory","slice","reverse","map","history","index","timestamp","toLocaleString","notes","createdAt","AssignmentModal","_selectedJob$location","_selectedJob$location2","_selectedJob$estimate","modalVendors","setModalVendors","isLoadingVendors","setIsLoadingVendors","availableVendors","useMemo","vendorItems","_vendor$userId","stableId","isMounted","fetchVendorsForModal","_response$recommended2","allVendorsResponse","fallbackError","_response$recommended3","disabled","_vendor$userId2","_vendor$userId3","_vendor$vendorStats","_vendor$vendorStats2","_vendor$vendorStats3","_vendor$vendorStats4","_vendor$serviceCatego2","_vendor$scoreBreakdow","_vendor$scoreBreakdow2","_vendor$scoreBreakdow3","hasAIScore","totalScore","type","name","checked","onChange","e","target","vendorStats","averageRating","totalJobs","totalJobsCompleted","experienceLevel","join","serviceArea","scoreBreakdown","score","experience","availability","Array","_","min","toISOString","split","DeleteConfirmationModal","_jobToDelete$customer","_jobToDelete$customer2","window","print","y","transition","delay","placeholder","info","pendingJobs","header","_job$customerId5","_job$customerId5$firs","_job$customerId6","_job$customerId6$last","_job$customerId7","_job$customerId8","_job$customerId9","_job$location5","_job$location6","_job$estimatedBudget2","_job$vendorQuote2","_job$requestedTimeSlo4","_job$customerId0","_job$customerId0$firs","_job$customerId1","_job$customerId1$last","_job$customerId10","_job$customerId11","_job$customerId12","_job$location7","_job$location8","_job$estimatedBudget3","_job$vendorQuote3","id","_job$customerId13","_job$customerId14","_job$location9","_job$location0","_job$estimatedBudget4","max"],"sources":["C:/Users/Le520/Documents/Property-Maintainance-Service/src/pages/admin/OrderManagement.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { \r\n  Search, \r\n  Filter, \r\n  Eye, \r\n  UserCheck, \r\n  Clock, \r\n  MapPin, \r\n  DollarSign,\r\n  Calendar,\r\n  Phone,\r\n  Mail,\r\n  FileText,\r\n  Star,\r\n  AlertCircle,\r\n  CheckCircle,\r\n  XCircle,\r\n  Users,\r\n  Wrench,\r\n  ChevronDown,\r\n  ChevronRight,\r\n  RefreshCw,\r\n  Grid,\r\n  List,\r\n  BarChart3,\r\n  TrendingUp,\r\n  Package,\r\n  Plus,\r\n  Download,\r\n  MoreHorizontal,\r\n  X,\r\n  Trash2\r\n} from 'lucide-react';\r\nimport { api } from '../../services/api';\r\nimport toast from 'react-hot-toast';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\n\r\nconst OrderManagement = () => {\r\n  const { user } = useAuth();\r\n  const [jobs, setJobs] = useState([]);\r\n  const [vendors, setVendors] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [selectedJob, setSelectedJob] = useState(null);\r\n  const [showAssignModal, setShowAssignModal] = useState(false);\r\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\r\n  const [jobToDelete, setJobToDelete] = useState(null);\r\n  const [selectedVendor, setSelectedVendor] = useState('');\r\n  const [assignmentTimeSlot, setAssignmentTimeSlot] = useState({\r\n    date: '',\r\n    startTime: '09:00',\r\n    endTime: '17:00'\r\n  });\r\n  const [viewMode, setViewMode] = useState('table');\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [totalPages, setTotalPages] = useState(1);\r\n  const [selectedOrders, setSelectedOrders] = useState([]);\r\n  const [sortBy, setSortBy] = useState('newest');\r\n  const [stats, setStats] = useState({\r\n    pendingOrders: 0,\r\n    assignedOrders: 0,\r\n    inProgressOrders: 0,\r\n    completedOrders: 0,\r\n    totalRevenue: 0,\r\n    avgOrderValue: 0\r\n  });\r\n  \r\n  // Filters\r\n  const [filters, setFilters] = useState({\r\n    status: '',\r\n    category: '',\r\n    priority: '',\r\n    search: '',\r\n    dateRange: '',\r\n    assignmentStatus: ''\r\n  });\r\n  \r\n  const [pagination, setPagination] = useState({\r\n    page: 1,\r\n    pages: 1,\r\n    total: 0,\r\n    limit: 12\r\n  });\r\n\r\n  const statusColors = {\r\n    PENDING: 'bg-yellow-100 text-yellow-800',\r\n    ASSIGNED: 'bg-blue-100 text-blue-800',\r\n    IN_DISCUSSION: 'bg-purple-100 text-purple-800',\r\n    QUOTE_SENT: 'bg-indigo-100 text-indigo-800',\r\n    QUOTE_ACCEPTED: 'bg-green-100 text-green-800',\r\n    PAID: 'bg-emerald-100 text-emerald-800',\r\n    IN_PROGRESS: 'bg-orange-100 text-orange-800',\r\n    COMPLETED: 'bg-green-200 text-green-900',\r\n    CANCELLED: 'bg-red-100 text-red-800',\r\n    REJECTED: 'bg-gray-100 text-gray-800'\r\n  };\r\n\r\n  const priorityColors = {\r\n    LOW: 'text-green-600 bg-green-100 border-green-200',\r\n    MEDIUM: 'text-yellow-600 bg-yellow-100 border-yellow-200',\r\n    HIGH: 'text-orange-600 bg-orange-100 border-orange-200',\r\n    EMERGENCY: 'text-red-600 bg-red-100 border-red-200'\r\n  };\r\n\r\n  // Status filters\r\n  const statusOptions = [\r\n    { value: '', label: 'All Status' },\r\n    { value: 'PENDING', label: 'Pending' },\r\n    { value: 'ASSIGNED', label: 'Assigned' },\r\n    { value: 'IN_DISCUSSION', label: 'In Discussion' },\r\n    { value: 'QUOTE_SENT', label: 'Quote Sent' },\r\n    { value: 'QUOTE_ACCEPTED', label: 'Quote Accepted' },\r\n    { value: 'PAID', label: 'Paid' },\r\n    { value: 'IN_PROGRESS', label: 'In Progress' },\r\n    { value: 'COMPLETED', label: 'Completed' },\r\n    { value: 'CANCELLED', label: 'Cancelled' }\r\n  ];\r\n\r\n  // Priority filters\r\n  const priorityOptions = [\r\n    { value: '', label: 'All Priorities' },\r\n    { value: 'EMERGENCY', label: 'Emergency' },\r\n    { value: 'HIGH', label: 'High' },\r\n    { value: 'MEDIUM', label: 'Medium' },\r\n    { value: 'LOW', label: 'Low' }\r\n  ];\r\n\r\n  // Sort options\r\n  const sortOptions = [\r\n    { value: 'newest', label: 'Newest First' },\r\n    { value: 'oldest', label: 'Oldest First' },\r\n    { value: 'budget_desc', label: 'Highest Budget' },\r\n    { value: 'budget_asc', label: 'Lowest Budget' },\r\n    { value: 'priority', label: 'Priority' }\r\n  ];\r\n\r\n  useEffect(() => {\r\n    fetchJobs();\r\n    fetchVendors();\r\n  }, [filters, pagination.page]);\r\n\r\n  const fetchJobs = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const queryParams = new URLSearchParams({\r\n        page: pagination.page,\r\n        limit: pagination.limit,\r\n        ...(filters.status && { status: filters.status }),\r\n        ...(filters.search && { search: filters.search })\r\n      });\r\n\r\n      const response = await api.get(`/jobs?${queryParams}`);\r\n      setJobs(response.jobs);\r\n      setPagination(prev => ({\r\n        ...prev,\r\n        pages: response.pagination.pages,\r\n        total: response.pagination.total\r\n      }));\r\n    } catch (error) {\r\n      console.error('Error fetching jobs:', error);\r\n      toast.error('Failed to fetch orders');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchVendors = async () => {\r\n    try {\r\n      const response = await api.get('/admin/vendors');\r\n      setVendors(response.vendors || []);\r\n    } catch (error) {\r\n      console.error('Error fetching vendors:', error);\r\n    }\r\n  };\r\n\r\n  const fetchRecommendedVendors = async (jobId) => {\r\n    try {\r\n      const response = await api.get(`/jobs/${jobId}/recommended-vendors?limit=10`);\r\n      setVendors(response.recommendedVendors || []);\r\n      \r\n      if (response.recommendedVendors?.length > 0) {\r\n        toast.success(`Found ${response.recommendedVendors.length} recommended vendors!`);\r\n      } else {\r\n        toast.error('No suitable vendors found for this job');\r\n        // Fallback to all vendors\r\n        await fetchVendors();\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching recommended vendors:', error);\r\n      toast.error('Failed to get vendor recommendations');\r\n      // Fallback to all vendors\r\n      await fetchVendors();\r\n    }\r\n  };\r\n\r\n  const handleAutoAssign = async (job) => {\r\n    try {\r\n      const response = await api.post(`/jobs/${job._id}/auto-assign`);\r\n      \r\n      // Check if response has the expected structure\r\n      if (response?.assignedVendor?.userId) {\r\n        toast.success(`Job auto-assigned to ${response.assignedVendor.userId?.firstName || 'Unknown'} ${response.assignedVendor.userId?.lastName || 'User'}!`);\r\n        if (response.recommendationReason) {\r\n          toast.success(`Reason: ${response.recommendationReason}`);\r\n        }\r\n      } else {\r\n        toast.success('Job auto-assigned successfully!');\r\n        console.warn('Auto-assign response structure:', response);\r\n      }\r\n      \r\n      fetchJobs(); // Refresh the list\r\n      \r\n    } catch (error) {\r\n      console.error('Error auto-assigning job:', error);\r\n      toast.error(error.response?.data?.message || 'Failed to auto-assign job');\r\n    }\r\n  };\r\n\r\n  const handleAssignJob = async () => {\r\n    if (!selectedVendor || !selectedJob) {\r\n      toast.error('Please select a vendor');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const assignmentData = {\r\n        vendorId: selectedVendor,\r\n        assignedTimeSlot: assignmentTimeSlot\r\n      };\r\n\r\n      await api.patch(`/jobs/${selectedJob._id}/assign`, assignmentData);\r\n      \r\n      toast.success('Job assigned successfully! 🎉');\r\n      setShowAssignModal(false);\r\n      setSelectedJob(null);\r\n      setSelectedVendor('');\r\n      fetchJobs(); // Refresh the list\r\n      \r\n    } catch (error) {\r\n      console.error('Error assigning job:', error);\r\n      toast.error(error.response?.data?.message || 'Failed to assign job');\r\n    }\r\n  };\r\n\r\n  const handleDeleteJob = async () => {\r\n    if (!jobToDelete) return;\r\n\r\n    try {\r\n      await api.delete(`/jobs/${jobToDelete._id}`);\r\n      \r\n      toast.success(`Order ${jobToDelete.jobNumber} deleted successfully! 🗑️`);\r\n      setShowDeleteModal(false);\r\n      setJobToDelete(null);\r\n      fetchJobs(); // Refresh the list\r\n      \r\n    } catch (error) {\r\n      console.error('Error deleting job:', error);\r\n      toast.error(error.response?.data?.message || 'Failed to delete order');\r\n    }\r\n  };\r\n\r\n  const canDeleteJob = (job) => {\r\n    // Allow deletion of any order for now (admin override)\r\n    return true;\r\n    // const deletableStatuses = ['PENDING', 'CANCELLED', 'REJECTED'];\r\n    // return deletableStatuses.includes(job.status);\r\n  };\r\n\r\n  const getVendorsForJob = (job, vendorList = vendors) => {\r\n    // Filter vendors by category and location\r\n    return vendorList.filter(vendor => {\r\n      // Check if vendor handles this service category\r\n      const hasCategory = vendor.serviceCategories?.includes(job.category);\r\n      \r\n      // Check if vendor serves this location (simplified)\r\n      const servesLocation = true; // You can implement location-based filtering\r\n      \r\n      // Check if vendor is active and verified\r\n      const isActiveAndVerified = vendor.isActive && vendor.verificationStatus === 'VERIFIED';\r\n      \r\n      return hasCategory && servesLocation && isActiveAndVerified;\r\n    });\r\n  };\r\n\r\n  const getRatingStars = (rating) => {\r\n    const stars = [];\r\n    const roundedRating = Math.round(rating * 2) / 2; // Round to nearest 0.5\r\n    \r\n    for (let i = 1; i <= 5; i++) {\r\n      if (i <= roundedRating) {\r\n        stars.push(<Star key={i} className=\"w-4 h-4 fill-current text-yellow-400\" />);\r\n      } else if (i - 0.5 <= roundedRating) {\r\n        stars.push(<Star key={i} className=\"w-4 h-4 fill-current text-yellow-400 opacity-50\" />);\r\n      } else {\r\n        stars.push(<Star key={i} className=\"w-4 h-4 text-gray-300\" />);\r\n      }\r\n    }\r\n    return stars;\r\n  };\r\n\r\n  const JobDetailsModal = ({ job, onClose }) => (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n      <motion.div\r\n        initial={{ opacity: 0, scale: 0.95 }}\r\n        animate={{ opacity: 1, scale: 1 }}\r\n        exit={{ opacity: 0, scale: 0.95 }}\r\n        className=\"bg-white rounded-xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-hidden flex flex-col\"\r\n      >\r\n        {/* Header */}\r\n        <div className=\"px-6 py-4 border-b border-gray-100 bg-gray-50\">\r\n          <div className=\"flex justify-between items-center\">\r\n            <div>\r\n              <h2 className=\"text-2xl font-bold text-gray-900\">Order Details</h2>\r\n              <p className=\"text-sm text-gray-600 mt-1\">#{job.jobNumber}</p>\r\n            </div>\r\n            <button\r\n              onClick={onClose}\r\n              className=\"text-gray-400 hover:text-gray-600 p-2 rounded-full hover:bg-gray-100 transition-colors\"\r\n            >\r\n              <XCircle className=\"w-6 h-6\" />\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Content */}\r\n        <div className=\"flex-1 overflow-y-auto p-6\">\r\n\r\n        <div className=\"grid grid-cols-1 xl:grid-cols-2 gap-6\">\r\n          {/* Job Information */}\r\n          <div className=\"space-y-4\">\r\n            <div className=\"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-5 border border-blue-100\">\r\n              <h3 className=\"text-lg font-semibold mb-4 text-blue-900 flex items-center\">\r\n                <FileText className=\"w-5 h-5 mr-2\" />\r\n                Job Information\r\n              </h3>\r\n              <div className=\"space-y-2 text-sm\">\r\n                <div><strong>Job ID:</strong> {job.jobNumber}</div>\r\n                <div><strong>Title:</strong> {job.title}</div>\r\n                <div><strong>Category:</strong> {job.category}</div>\r\n                <div className=\"flex items-center\">\r\n                  <strong className=\"mr-2\">Priority:</strong>\r\n                  <span className={`font-medium ${priorityColors[job.priority]}`}>\r\n                    {job.priority}\r\n                  </span>\r\n                  {job.isEmergency && (\r\n                    <span className=\"ml-2 px-2 py-1 bg-red-100 text-red-800 text-xs rounded-full\">\r\n                      EMERGENCY\r\n                    </span>\r\n                  )}\r\n                </div>\r\n                <div className=\"flex items-center\">\r\n                  <strong className=\"mr-2\">Status:</strong>\r\n                  <span className={`px-2 py-1 rounded-full text-xs font-medium ${statusColors[job.status]}`}>\r\n                    {job.status.replace('_', ' ')}\r\n                  </span>\r\n                </div>\r\n                <div><strong>Description:</strong> {job.description}</div>\r\n                {job.specialInstructions && (\r\n                  <div><strong>Special Instructions:</strong> {job.specialInstructions}</div>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Customer Information */}\r\n            <div className=\"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-5 border border-green-100\">\r\n              <h3 className=\"text-lg font-semibold mb-4 text-green-900 flex items-center\">\r\n                <Users className=\"w-5 h-5 mr-2\" />\r\n                Customer Information\r\n              </h3>\r\n              <div className=\"space-y-2 text-sm\">\r\n                <div><strong>Name:</strong> {job.customerId?.firstName} {job.customerId?.lastName}</div>\r\n                <div className=\"flex items-center\">\r\n                  <Mail className=\"w-4 h-4 mr-2 text-gray-400\" />\r\n                  {job.customerId?.email}\r\n                </div>\r\n                <div className=\"flex items-center\">\r\n                  <Phone className=\"w-4 h-4 mr-2 text-gray-400\" />\r\n                  {job.customerContactNumber || job.customerId?.phone}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Timing */}\r\n            <div className=\"bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl p-5 border border-purple-100\">\r\n              <h3 className=\"text-lg font-semibold mb-4 text-purple-900 flex items-center\">\r\n                <Clock className=\"w-5 h-5 mr-2\" />\r\n                Timing\r\n              </h3>\r\n              <div className=\"space-y-2 text-sm\">\r\n                <div className=\"flex items-center\">\r\n                  <Calendar className=\"w-4 h-4 mr-2 text-gray-400\" />\r\n                  <strong>Requested Date:</strong> {new Date(job.requestedTimeSlot?.date).toLocaleDateString()}\r\n                </div>\r\n                <div className=\"flex items-center\">\r\n                  <Clock className=\"w-4 h-4 mr-2 text-gray-400\" />\r\n                  <strong>Time:</strong> {job.requestedTimeSlot?.startTime} - {job.requestedTimeSlot?.endTime}\r\n                </div>\r\n                <div><strong>Estimated Duration:</strong> {job.estimatedDuration} hours</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Location & Budget */}\r\n          <div className=\"space-y-4\">\r\n            <div className=\"bg-gradient-to-br from-orange-50 to-red-50 rounded-xl p-5 border border-orange-100\">\r\n              <h3 className=\"text-lg font-semibold mb-4 text-orange-900 flex items-center\">\r\n                <MapPin className=\"w-5 h-5 mr-2\" />\r\n                Location\r\n              </h3>\r\n              <div className=\"space-y-2 text-sm\">\r\n                <div className=\"flex items-start\">\r\n                  <MapPin className=\"w-4 h-4 mr-2 text-gray-400 mt-1\" />\r\n                  <div>\r\n                    <div>{job.location?.address}</div>\r\n                    <div>{job.location?.city}, {job.location?.state} {job.location?.zipCode}</div>\r\n                  </div>\r\n                </div>\r\n                {job.accessInstructions && (\r\n                  <div><strong>Access Instructions:</strong> {job.accessInstructions}</div>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"bg-gradient-to-br from-yellow-50 to-amber-50 rounded-xl p-5 border border-yellow-100\">\r\n              <h3 className=\"text-lg font-semibold mb-4 text-yellow-900 flex items-center\">\r\n                <DollarSign className=\"w-5 h-5 mr-2\" />\r\n                Budget & Pricing\r\n              </h3>\r\n              <div className=\"space-y-2 text-sm\">\r\n                <div className=\"flex items-center\">\r\n                  <DollarSign className=\"w-4 h-4 mr-2 text-gray-400\" />\r\n                  <strong>Customer Budget:</strong> ${job.estimatedBudget?.toFixed(2)}\r\n                </div>\r\n                {job.vendorQuote?.amount && (\r\n                  <>\r\n                    <div><strong>Vendor Quote:</strong> ${job.vendorQuote.amount.toFixed(2)}</div>\r\n                    {job.vendorQuote.description && (\r\n                      <div><strong>Quote Description:</strong> {job.vendorQuote.description}</div>\r\n                    )}\r\n                  </>\r\n                )}\r\n                {job.totalAmount && (\r\n                  <>\r\n                    <div><strong>Final Amount:</strong> ${job.totalAmount.toFixed(2)}</div>\r\n                    <div><strong>Platform Commission (10%):</strong> ${job.commission?.platformAmount?.toFixed(2)}</div>\r\n                    <div><strong>Vendor Amount (90%):</strong> ${job.commission?.vendorAmount?.toFixed(2)}</div>\r\n                  </>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Vendor Information (if assigned) */}\r\n            {job.vendorId && (\r\n              <div className=\"bg-gradient-to-br from-indigo-50 to-blue-50 rounded-xl p-5 border border-indigo-100\">\r\n                <h3 className=\"text-lg font-semibold mb-4 text-indigo-900 flex items-center\">\r\n                  <UserCheck className=\"w-5 h-5 mr-2\" />\r\n                  Assigned Vendor\r\n                </h3>\r\n                <div className=\"space-y-2 text-sm\">\r\n                  <div><strong>Name:</strong> {job.vendorId?.firstName} {job.vendorId?.lastName}</div>\r\n                  <div className=\"flex items-center\">\r\n                    <Mail className=\"w-4 h-4 mr-2 text-gray-400\" />\r\n                    {job.vendorId?.email}\r\n                  </div>\r\n                  <div className=\"flex items-center\">\r\n                    <Phone className=\"w-4 h-4 mr-2 text-gray-400\" />\r\n                    {job.vendorId?.phone}\r\n                  </div>\r\n                  {job.vendorDetails?.companyName && (\r\n                    <div><strong>Company:</strong> {job.vendorDetails.companyName}</div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Status History */}\r\n        {job.statusHistory && job.statusHistory.length > 0 && (\r\n          <div className=\"mt-6\">\r\n            <h3 className=\"text-lg font-semibold mb-3\">Status History</h3>\r\n            <div className=\"space-y-2\">\r\n              {job.statusHistory.slice().reverse().map((history, index) => (\r\n                <div key={index} className=\"flex items-center space-x-3 text-sm\">\r\n                  <div className=\"w-2 h-2 bg-gray-400 rounded-full\"></div>\r\n                  <div><strong>{history.status.replace('_', ' ')}:</strong></div>\r\n                  <div>{new Date(history.timestamp).toLocaleString()}</div>\r\n                  {history.notes && <div>- {history.notes}</div>}\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        </div>\r\n\r\n        {/* Footer with Actions */}\r\n        <div className=\"px-6 py-4 border-t border-gray-100 bg-gray-50\">\r\n          <div className=\"flex justify-between items-center\">\r\n            <div className=\"text-sm text-gray-600\">\r\n              Created: {new Date(job.createdAt).toLocaleString()}\r\n            </div>\r\n            <div className=\"flex space-x-3\">\r\n              {job.status === 'PENDING' && (\r\n                <button\r\n                  onClick={() => {\r\n                    setSelectedJob(job);\r\n                    setShowAssignModal(true);\r\n                    onClose();\r\n                  }}\r\n                  className=\"px-6 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors flex items-center\"\r\n                >\r\n                  <UserCheck className=\"w-4 h-4 mr-2\" />\r\n                  Assign to Vendor\r\n                </button>\r\n              )}\r\n              {canDeleteJob(job) && (\r\n                <button\r\n                  onClick={() => {\r\n                    setJobToDelete(job);\r\n                    setShowDeleteModal(true);\r\n                    onClose();\r\n                  }}\r\n                  className=\"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center\"\r\n                >\r\n                  <Trash2 className=\"w-4 h-4 mr-2\" />\r\n                  Delete Order\r\n                </button>\r\n              )}\r\n              <button\r\n                onClick={onClose}\r\n                className=\"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors\"\r\n              >\r\n                Close\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </motion.div>\r\n    </div>\r\n  );\r\n\r\n  const AssignmentModal = () => {\r\n    const [modalVendors, setModalVendors] = useState([]);\r\n    const [isLoadingVendors, setIsLoadingVendors] = useState(false);\r\n    \r\n    // Memoize availableVendors to prevent unnecessary re-renders\r\n    const availableVendors = React.useMemo(() => {\r\n      return modalVendors.length > 0 ? getVendorsForJob(selectedJob, modalVendors) : getVendorsForJob(selectedJob);\r\n    }, [selectedJob, modalVendors]);\r\n\r\n    // Memoize vendor items with stable IDs to prevent re-renders\r\n    const vendorItems = React.useMemo(() => {\r\n      return availableVendors.map(vendor => ({\r\n        ...vendor,\r\n        stableId: vendor.userId?._id || vendor.userId || vendor._id\r\n      }));\r\n    }, [availableVendors]);\r\n\r\n    // Fetch recommended vendors when modal opens\r\n    React.useEffect(() => {\r\n      let isMounted = true;\r\n      \r\n      const fetchVendorsForModal = async () => {\r\n        if (selectedJob && showAssignModal && modalVendors.length === 0 && !isLoadingVendors) {\r\n          setIsLoadingVendors(true);\r\n          try {\r\n            const response = await api.get(`/jobs/${selectedJob._id}/recommended-vendors?limit=10`);\r\n            if (isMounted) {\r\n              setModalVendors(response.recommendedVendors || []);\r\n              \r\n              if (response.recommendedVendors?.length > 0) {\r\n                toast.success(`Found ${response.recommendedVendors.length} recommended vendors!`);\r\n              } else {\r\n                // Fallback to all vendors\r\n                const allVendorsResponse = await api.get('/admin/vendors');\r\n                if (isMounted) {\r\n                  setModalVendors(allVendorsResponse.vendors || []);\r\n                }\r\n                toast.error('No suitable vendors found for this job');\r\n              }\r\n            }\r\n          } catch (error) {\r\n            if (isMounted) {\r\n              console.error('Error fetching recommended vendors:', error);\r\n              toast.error('Failed to get vendor recommendations');\r\n              // Fallback to all vendors\r\n              try {\r\n                const allVendorsResponse = await api.get('/admin/vendors');\r\n                if (isMounted) {\r\n                  setModalVendors(allVendorsResponse.vendors || []);\r\n                }\r\n              } catch (fallbackError) {\r\n                console.error('Error fetching fallback vendors:', fallbackError);\r\n              }\r\n            }\r\n          } finally {\r\n            if (isMounted) {\r\n              setIsLoadingVendors(false);\r\n            }\r\n          }\r\n        }\r\n      };\r\n\r\n      fetchVendorsForModal();\r\n\r\n      return () => {\r\n        isMounted = false;\r\n      };\r\n    }, [selectedJob?._id, showAssignModal, modalVendors.length, isLoadingVendors]); // Prevent infinite loops and unnecessary re-fetches\r\n\r\n    // Reset modal state when modal closes\r\n    React.useEffect(() => {\r\n      if (!showAssignModal) {\r\n        setModalVendors([]);\r\n        setIsLoadingVendors(false);\r\n        setSelectedVendor('');\r\n      }\r\n    }, [showAssignModal]);\r\n\r\n    return (\r\n      <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n        <motion.div\r\n          initial={{ opacity: 0, scale: 0.95 }}\r\n          animate={{ opacity: 1, scale: 1 }}\r\n          exit={{ opacity: 0, scale: 0.95 }}\r\n          className=\"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col\"\r\n        >\r\n          {/* Header */}\r\n          <div className=\"px-6 py-4 border-b border-gray-100 bg-gradient-to-r from-orange-50 to-red-50\">\r\n            <div className=\"flex justify-between items-center\">\r\n              <div>\r\n                <h2 className=\"text-2xl font-bold text-gray-900\">Assign Vendor</h2>\r\n                <p className=\"text-sm text-gray-600 mt-1\">Find the perfect vendor for this job</p>\r\n              </div>\r\n              <button\r\n                onClick={() => setShowAssignModal(false)}\r\n                className=\"text-gray-400 hover:text-gray-600 p-2 rounded-full hover:bg-white transition-colors\"\r\n              >\r\n                <XCircle className=\"w-6 h-6\" />\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Content */}\r\n          <div className=\"flex-1 overflow-y-auto p-6\">\r\n\r\n          {/* Job Summary */}\r\n          <div className=\"mb-6 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-5 border border-blue-100\">\r\n            <h3 className=\"text-lg font-semibold mb-3 text-blue-900\">Job Summary</h3>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm\">\r\n              <div className=\"flex items-center\">\r\n                <FileText className=\"w-4 h-4 mr-2 text-blue-600\" />\r\n                <div>\r\n                  <p className=\"font-medium text-gray-900\">{selectedJob?.title}</p>\r\n                  <p className=\"text-gray-600\">{selectedJob?.category}</p>\r\n                </div>\r\n              </div>\r\n              <div className=\"flex items-center\">\r\n                <MapPin className=\"w-4 h-4 mr-2 text-blue-600\" />\r\n                <div>\r\n                  <p className=\"font-medium text-gray-900\">{selectedJob?.location?.city}</p>\r\n                  <p className=\"text-gray-600\">{selectedJob?.location?.state}</p>\r\n                </div>\r\n              </div>\r\n              <div className=\"flex items-center\">\r\n                <DollarSign className=\"w-4 h-4 mr-2 text-blue-600\" />\r\n                <div>\r\n                  <p className=\"font-medium text-gray-900\">${selectedJob?.estimatedBudget?.toFixed(2)}</p>\r\n                  <p className=\"text-gray-600\">Customer budget</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Auto-assign option */}\r\n          <div className=\"mb-6 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl p-6 text-white\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <h4 className=\"font-semibold text-lg mb-2 flex items-center\">\r\n                  🤖 Smart Auto-Assignment\r\n                </h4>\r\n                <p className=\"text-blue-100 mb-1\">Let our AI find and assign the best vendor automatically</p>\r\n                <p className=\"text-blue-200 text-sm\">• Analyzes vendor ratings, experience & availability</p>\r\n                <p className=\"text-blue-200 text-sm\">• Considers location proximity & service category</p>\r\n              </div>\r\n              <div className=\"ml-6\">\r\n                <button\r\n                  onClick={() => {\r\n                    handleAutoAssign(selectedJob);\r\n                    setShowAssignModal(false);\r\n                  }}\r\n                  className=\"px-6 py-3 bg-white text-blue-600 rounded-lg hover:bg-blue-50 transition-colors font-medium flex items-center\"\r\n                >\r\n                  <Star className=\"w-4 h-4 mr-2\" />\r\n                  Auto-Assign\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"mb-6\">\r\n            <div className=\"flex items-center justify-between mb-3\">\r\n              <label className=\"block text-sm font-medium text-gray-700\">\r\n                Select Vendor Manually\r\n              </label>\r\n              <button\r\n                onClick={async () => {\r\n                  setIsLoadingVendors(true);\r\n                  try {\r\n                    const response = await api.get(`/jobs/${selectedJob._id}/recommended-vendors?limit=10`);\r\n                    setModalVendors(response.recommendedVendors || []);\r\n                    \r\n                    if (response.recommendedVendors?.length > 0) {\r\n                      toast.success(`Found ${response.recommendedVendors.length} recommended vendors!`);\r\n                    } else {\r\n                      toast.error('No suitable vendors found for this job');\r\n                    }\r\n                  } catch (error) {\r\n                    console.error('Error fetching recommended vendors:', error);\r\n                    toast.error('Failed to get vendor recommendations');\r\n                  } finally {\r\n                    setIsLoadingVendors(false);\r\n                  }\r\n                }}\r\n                disabled={isLoadingVendors}\r\n                className=\"text-sm text-orange-600 hover:text-orange-800 flex items-center disabled:opacity-50\"\r\n              >\r\n                <RefreshCw className={`w-4 h-4 mr-1 ${isLoadingVendors ? 'animate-spin' : ''}`} />\r\n                Get AI Recommendations\r\n              </button>\r\n            </div>\r\n            {vendorItems.length > 0 ? (\r\n              <div className=\"space-y-3 max-h-60 overflow-y-auto\">\r\n                {vendorItems.map((vendor) => {\r\n                  const vendorId = vendor.stableId;\r\n                  const hasAIScore = vendor.totalScore !== undefined;\r\n                  \r\n                  return (\r\n                    <label\r\n                      key={vendor._id}\r\n                      className={`flex items-center p-4 border rounded-lg cursor-pointer hover:bg-gray-50 ${\r\n                        selectedVendor === vendorId ? 'border-orange-500 bg-orange-50' : 'border-gray-300'\r\n                      } ${hasAIScore ? 'border-l-4 border-l-blue-500' : ''}`}\r\n                    >\r\n                      <input\r\n                        type=\"radio\"\r\n                        name=\"vendor\"\r\n                        value={vendorId}\r\n                        checked={selectedVendor === vendorId}\r\n                        onChange={(e) => setSelectedVendor(e.target.value)}\r\n                        className=\"mr-3 text-orange-600\"\r\n                      />\r\n                      <div className=\"flex-1\">\r\n                        <div className=\"flex items-center justify-between\">\r\n                          <div>\r\n                            <div className=\"flex items-center\">\r\n                              <div className=\"font-medium\">\r\n                                {vendor.userId?.firstName || vendor.firstName || 'Unknown'} {vendor.userId?.lastName || vendor.lastName || 'User'}\r\n                              </div>\r\n                              {hasAIScore && (\r\n                                <div className=\"ml-2 px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full\">\r\n                                  AI Score: {vendor.totalScore.toFixed(0)}/100\r\n                                </div>\r\n                              )}\r\n                            </div>\r\n                            {vendor.companyName && (\r\n                              <div className=\"text-sm text-gray-600\">{vendor.companyName}</div>\r\n                            )}\r\n                            {hasAIScore && vendor.recommendationReason && (\r\n                              <div className=\"text-sm text-green-600 mt-1\">\r\n                                💡 {vendor.recommendationReason}\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n                          <div className=\"text-right\">\r\n                            <div className=\"flex items-center\">\r\n                              {getRatingStars(vendor.vendorStats?.averageRating || vendor.averageRating || 4.5)}\r\n                              <span className=\"ml-1 text-sm text-gray-600\">\r\n                                ({(vendor.vendorStats?.averageRating || vendor.averageRating || 4.5).toFixed(1)})\r\n                              </span>\r\n                            </div>\r\n                            <div className=\"text-sm text-gray-500\">\r\n                              {vendor.vendorStats?.totalJobs || vendor.totalJobsCompleted || 0} jobs completed\r\n                            </div>\r\n                            {hasAIScore && (\r\n                              <div className=\"text-xs text-blue-600\">\r\n                                {vendor.vendorStats?.experienceLevel || 'New'}\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"mt-2 text-sm text-gray-600\">\r\n                          <div>Categories: {vendor.serviceCategories?.join(', ')}</div>\r\n                          <div>Service Area: {vendor.serviceArea}</div>\r\n                          {hasAIScore && vendor.scoreBreakdown && (\r\n                            <div className=\"mt-2 text-xs\">\r\n                              <div className=\"grid grid-cols-3 gap-2\">\r\n                                <div>Rating: {vendor.scoreBreakdown.rating?.score.toFixed(0)}</div>\r\n                                <div>Experience: {vendor.scoreBreakdown.experience?.score.toFixed(0)}</div>\r\n                                <div>Availability: {vendor.scoreBreakdown.availability?.score.toFixed(0)}</div>\r\n                              </div>\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </label>\r\n                  );\r\n                })}\r\n              </div>\r\n            ) : isLoadingVendors ? (\r\n              /* Vendor Loading Skeleton */\r\n              <div className=\"space-y-3 max-h-60 overflow-y-auto\">\r\n                {[...Array(4)].map((_, index) => (\r\n                  <div key={index} className=\"border border-gray-300 rounded-lg p-4\">\r\n                    <div className=\"animate-pulse\">\r\n                      <div className=\"flex items-center justify-between mb-3\">\r\n                        <div className=\"flex items-center space-x-3\">\r\n                          <div className=\"w-4 h-4 bg-gray-200 rounded-full\"></div>\r\n                          <div className=\"space-y-1\">\r\n                            <div className=\"h-4 bg-gray-200 rounded w-32\"></div>\r\n                            <div className=\"h-3 bg-gray-200 rounded w-24\"></div>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"text-right space-y-1\">\r\n                          <div className=\"h-3 bg-gray-200 rounded w-16\"></div>\r\n                          <div className=\"h-2 bg-gray-200 rounded w-12\"></div>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"space-y-1\">\r\n                        <div className=\"h-2 bg-gray-200 rounded w-full\"></div>\r\n                        <div className=\"h-2 bg-gray-200 rounded w-3/4\"></div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            ) : (\r\n              <div className=\"text-center py-8 text-gray-500\">\r\n                <Users className=\"w-12 h-12 mx-auto mb-4 text-gray-300\" />\r\n                <p>No available vendors found for this job category and location.</p>\r\n                <button\r\n                  onClick={async () => {\r\n                    setIsLoadingVendors(true);\r\n                    try {\r\n                      const response = await api.get('/admin/vendors');\r\n                      setModalVendors(response.vendors || []);\r\n                      toast.success('All vendors loaded');\r\n                    } catch (error) {\r\n                      console.error('Error fetching vendors:', error);\r\n                      toast.error('Failed to load vendors');\r\n                    } finally {\r\n                      setIsLoadingVendors(false);\r\n                    }\r\n                  }}\r\n                  disabled={isLoadingVendors}\r\n                  className=\"mt-2 text-orange-600 hover:text-orange-800 text-sm disabled:opacity-50\"\r\n                >\r\n                  Load all vendors\r\n                </button>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Assignment Time Slot */}\r\n          <div className=\"mb-6\">\r\n            <h3 className=\"text-lg font-semibold mb-3\">Assignment Schedule</h3>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Date</label>\r\n                <input\r\n                  type=\"date\"\r\n                  value={assignmentTimeSlot.date}\r\n                  onChange={(e) => setAssignmentTimeSlot(prev => ({ ...prev, date: e.target.value }))}\r\n                  min={new Date().toISOString().split('T')[0]}\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Start Time</label>\r\n                <input\r\n                  type=\"time\"\r\n                  value={assignmentTimeSlot.startTime}\r\n                  onChange={(e) => setAssignmentTimeSlot(prev => ({ ...prev, startTime: e.target.value }))}\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">End Time</label>\r\n                <input\r\n                  type=\"time\"\r\n                  value={assignmentTimeSlot.endTime}\r\n                  onChange={(e) => setAssignmentTimeSlot(prev => ({ ...prev, endTime: e.target.value }))}\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          </div>\r\n\r\n          {/* Footer */}\r\n          <div className=\"px-6 py-4 border-t border-gray-100 bg-gray-50\">\r\n            <div className=\"flex justify-between items-center\">\r\n              <div className=\"text-sm text-gray-600\">\r\n                {vendorItems.length} vendor{vendorItems.length !== 1 ? 's' : ''} available\r\n              </div>\r\n              <div className=\"flex space-x-3\">\r\n                <button\r\n                  onClick={() => setShowAssignModal(false)}\r\n                  className=\"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors\"\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <button\r\n                  onClick={handleAssignJob}\r\n                  disabled={!selectedVendor || !assignmentTimeSlot.date}\r\n                  className=\"px-6 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center\"\r\n                >\r\n                  <UserCheck className=\"w-4 h-4 mr-2\" />\r\n                  Assign Job\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </motion.div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const DeleteConfirmationModal = () => (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n      <motion.div\r\n        initial={{ opacity: 0, scale: 0.95 }}\r\n        animate={{ opacity: 1, scale: 1 }}\r\n        exit={{ opacity: 0, scale: 0.95 }}\r\n        className=\"bg-white rounded-xl shadow-2xl w-full max-w-md\"\r\n      >\r\n        {/* Header */}\r\n        <div className=\"px-6 py-4 border-b border-gray-100\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <h2 className=\"text-xl font-bold text-gray-900 flex items-center\">\r\n              <Trash2 className=\"w-5 h-5 mr-2 text-red-600\" />\r\n              Delete Order\r\n            </h2>\r\n            <button\r\n              onClick={() => setShowDeleteModal(false)}\r\n              className=\"text-gray-400 hover:text-gray-600 p-1 rounded-full hover:bg-gray-100 transition-colors\"\r\n            >\r\n              <X className=\"w-5 h-5\" />\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Content */}\r\n        <div className=\"p-6\">\r\n          <div className=\"text-center\">\r\n            <div className=\"mx-auto w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4\">\r\n              <Trash2 className=\"w-8 h-8 text-red-600\" />\r\n            </div>\r\n            \r\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">\r\n              Are you sure you want to delete this order?\r\n            </h3>\r\n            \r\n            {jobToDelete && (\r\n              <div className=\"bg-gray-50 rounded-lg p-4 mb-4\">\r\n                <div className=\"text-sm space-y-1\">\r\n                  <div><strong>Order:</strong> {jobToDelete.jobNumber}</div>\r\n                  <div><strong>Title:</strong> {jobToDelete.title}</div>\r\n                  <div><strong>Status:</strong> \r\n                    <span className={`ml-2 px-2 py-1 rounded-full text-xs font-medium ${statusColors[jobToDelete.status]}`}>\r\n                      {jobToDelete.status.replace('_', ' ')}\r\n                    </span>\r\n                  </div>\r\n                  <div><strong>Customer:</strong> {jobToDelete.customerId?.firstName} {jobToDelete.customerId?.lastName}</div>\r\n                </div>\r\n              </div>\r\n            )}\r\n            \r\n            <p className=\"text-gray-600 mb-6\">\r\n              This action cannot be undone. The order and all associated messages will be permanently deleted.\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Footer */}\r\n        <div className=\"px-6 py-4 border-t border-gray-100 bg-gray-50 flex justify-end space-x-3\">\r\n          <button\r\n            onClick={() => setShowDeleteModal(false)}\r\n            className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-white transition-colors\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button\r\n            onClick={handleDeleteJob}\r\n            className=\"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center\"\r\n          >\r\n            <Trash2 className=\"w-4 h-4 mr-2\" />\r\n            Delete Order\r\n          </button>\r\n        </div>\r\n      </motion.div>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      {/* Hero Header Section */}\r\n      <section className=\"relative bg-gradient-to-r from-orange-600 to-orange-800 text-white py-20\">\r\n        <div className=\"absolute inset-0 bg-black opacity-10\"></div>\r\n        <div className=\"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-6\">\r\n            <div>\r\n              <h1 className=\"text-4xl md:text-5xl font-bold mb-4\">Order Management</h1>\r\n              <p className=\"text-xl text-orange-100 max-w-2xl\">\r\n                Efficiently manage customer orders, track progress, and assign vendors with our intelligent system\r\n              </p>\r\n              {jobs.filter(job => job.status === 'PENDING').length > 0 && (\r\n                <div className=\"flex items-center mt-4 px-4 py-3 bg-orange-800 bg-opacity-80 text-orange-100 rounded-lg backdrop-blur-sm inline-flex\">\r\n                  <AlertCircle className=\"w-5 h-5 mr-3\" />\r\n                  <span className=\"font-semibold\">\r\n                    {jobs.filter(job => job.status === 'PENDING').length} order{jobs.filter(job => job.status === 'PENDING').length > 1 ? 's' : ''} pending assignment\r\n                  </span>\r\n                </div>\r\n              )}\r\n            </div>\r\n            \r\n            <div className=\"flex flex-wrap gap-3\">\r\n              {jobs.filter(job => job.status === 'PENDING').length > 0 && (\r\n                <button\r\n                  onClick={() => {\r\n                    setFilters(prev => ({ ...prev, status: 'PENDING' }));\r\n                    setCurrentPage(1);\r\n                  }}\r\n                  className=\"flex items-center px-6 py-3 bg-orange-800 bg-opacity-80 text-white rounded-lg hover:bg-orange-900 transition-all duration-200 backdrop-blur-sm shadow-lg hover:shadow-xl transform hover:scale-105 font-semibold\"\r\n                >\r\n                  <Clock className=\"w-5 h-5 mr-2\" />\r\n                  View Pending ({jobs.filter(job => job.status === 'PENDING').length})\r\n                </button>\r\n              )}\r\n              \r\n              <button\r\n                onClick={fetchJobs}\r\n                className=\"flex items-center px-6 py-3 bg-white text-orange-600 rounded-lg hover:bg-orange-50 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105 font-semibold\"\r\n              >\r\n                <RefreshCw className=\"w-5 h-5 mr-2\" />\r\n                Refresh\r\n              </button>\r\n              \r\n              <button\r\n                onClick={() => window.print()}\r\n                className=\"flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105 font-semibold\"\r\n              >\r\n                <Download className=\"w-5 h-5 mr-2\" />\r\n                Export\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-8 relative z-10\">\r\n\r\n        {/* Enhanced Filters */}\r\n        <motion.div \r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ delay: 0.1 }}\r\n          className=\"bg-white rounded-xl shadow-lg p-6 mb-8 border border-gray-100\"\r\n        >\r\n          <div className=\"mb-4\">\r\n            <h2 className=\"text-lg font-semibold text-gray-900 flex items-center\">\r\n              <Filter className=\"w-5 h-5 mr-2 text-orange-600\" />\r\n              Filter Orders\r\n            </h2>\r\n            <p className=\"text-sm text-gray-600 mt-1\">Find specific orders using the filters below</p>\r\n          </div>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\r\n            {/* Search */}\r\n            <div>\r\n              <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Search</label>\r\n              <div className=\"relative\">\r\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400\" />\r\n                <input\r\n                  type=\"text\"\r\n                  value={filters.search}\r\n                  onChange={(e) => setFilters(prev => ({ ...prev, search: e.target.value }))}\r\n                  placeholder=\"Job title, customer name...\"\r\n                  className=\"w-full pl-11 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors bg-gray-50 focus:bg-white\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {/* Status Filter */}\r\n            <div>\r\n              <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Status</label>\r\n              <select\r\n                value={filters.status}\r\n                onChange={(e) => setFilters(prev => ({ ...prev, status: e.target.value }))}\r\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors bg-gray-50 focus:bg-white\"\r\n              >\r\n                <option value=\"\">All Statuses</option>\r\n                <option value=\"PENDING\">Pending</option>\r\n                <option value=\"ASSIGNED\">Assigned</option>\r\n                <option value=\"IN_DISCUSSION\">In Discussion</option>\r\n                <option value=\"QUOTE_SENT\">Quote Sent</option>\r\n                <option value=\"QUOTE_ACCEPTED\">Quote Accepted</option>\r\n                <option value=\"PAID\">Paid</option>\r\n                <option value=\"IN_PROGRESS\">In Progress</option>\r\n                <option value=\"COMPLETED\">Completed</option>\r\n              </select>\r\n            </div>\r\n\r\n            {/* Priority Filter */}\r\n            <div>\r\n              <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Priority</label>\r\n              <select\r\n                value={filters.priority}\r\n                onChange={(e) => setFilters(prev => ({ ...prev, priority: e.target.value }))}\r\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors bg-gray-50 focus:bg-white\"\r\n              >\r\n                <option value=\"\">All Priorities</option>\r\n                <option value=\"EMERGENCY\">Emergency</option>\r\n                <option value=\"HIGH\">High</option>\r\n                <option value=\"MEDIUM\">Medium</option>\r\n                <option value=\"LOW\">Low</option>\r\n              </select>\r\n            </div>\r\n\r\n            {/* Clear Filters */}\r\n            <div className=\"flex items-end\">\r\n              <button\r\n                onClick={() => setFilters({ status: '', category: '', priority: '', search: '', dateRange: '', assignmentStatus: '' })}\r\n                className=\"w-full px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-semibold flex items-center justify-center\"\r\n              >\r\n                <X className=\"w-4 h-4 mr-2\" />\r\n                Clear Filters\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </motion.div>\r\n\r\n      {/* Enhanced Stats Cards */}\r\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6 mb-8\">\r\n        <motion.div \r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ delay: 0.1 }}\r\n          className=\"bg-gradient-to-br from-yellow-50 to-amber-50 rounded-xl shadow-sm border border-yellow-100 hover:shadow-md transition-all duration-200 group\"\r\n        >\r\n          <div className=\"p-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm font-medium text-yellow-700 mb-1\">Pending Orders</p>\r\n                <p className=\"text-3xl font-bold text-yellow-900\">\r\n                  {jobs.filter(job => job.status === 'PENDING').length}\r\n                </p>\r\n                <p className=\"text-xs text-yellow-600 mt-1\">Awaiting assignment</p>\r\n              </div>\r\n              <div className=\"p-3 rounded-full bg-yellow-100 group-hover:bg-yellow-200 transition-colors\">\r\n                <Clock className=\"w-6 h-6 text-yellow-600\" />\r\n              </div>\r\n            </div>\r\n            <div className=\"mt-4\">\r\n              <div className=\"flex items-center text-xs text-yellow-700\">\r\n                <TrendingUp className=\"w-3 h-3 mr-1\" />\r\n                <span>Requires immediate attention</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </motion.div>\r\n\r\n        <motion.div \r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ delay: 0.2 }}\r\n          className=\"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl shadow-sm border border-blue-100 hover:shadow-md transition-all duration-200 group\"\r\n        >\r\n          <div className=\"p-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm font-medium text-blue-700 mb-1\">Assigned</p>\r\n                <p className=\"text-3xl font-bold text-blue-900\">\r\n                  {jobs.filter(job => ['ASSIGNED', 'IN_DISCUSSION', 'QUOTE_SENT'].includes(job.status)).length}\r\n                </p>\r\n                <p className=\"text-xs text-blue-600 mt-1\">With vendors</p>\r\n              </div>\r\n              <div className=\"p-3 rounded-full bg-blue-100 group-hover:bg-blue-200 transition-colors\">\r\n                <UserCheck className=\"w-6 h-6 text-blue-600\" />\r\n              </div>\r\n            </div>\r\n            <div className=\"mt-4\">\r\n              <div className=\"flex items-center text-xs text-blue-700\">\r\n                <Users className=\"w-3 h-3 mr-1\" />\r\n                <span>Under vendor review</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </motion.div>\r\n\r\n        <motion.div \r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ delay: 0.3 }}\r\n          className=\"bg-gradient-to-br from-orange-50 to-red-50 rounded-xl shadow-sm border border-orange-100 hover:shadow-md transition-all duration-200 group\"\r\n        >\r\n          <div className=\"p-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm font-medium text-orange-700 mb-1\">In Progress</p>\r\n                <p className=\"text-3xl font-bold text-orange-900\">\r\n                  {jobs.filter(job => ['PAID', 'IN_PROGRESS'].includes(job.status)).length}\r\n                </p>\r\n                <p className=\"text-xs text-orange-600 mt-1\">Active work</p>\r\n              </div>\r\n              <div className=\"p-3 rounded-full bg-orange-100 group-hover:bg-orange-200 transition-colors\">\r\n                <Wrench className=\"w-6 h-6 text-orange-600\" />\r\n              </div>\r\n            </div>\r\n            <div className=\"mt-4\">\r\n              <div className=\"flex items-center text-xs text-orange-700\">\r\n                <Package className=\"w-3 h-3 mr-1\" />\r\n                <span>Work in progress</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </motion.div>\r\n\r\n        <motion.div \r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ delay: 0.4 }}\r\n          className=\"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl shadow-sm border border-green-100 hover:shadow-md transition-all duration-200 group\"\r\n        >\r\n          <div className=\"p-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm font-medium text-green-700 mb-1\">Completed</p>\r\n                <p className=\"text-3xl font-bold text-green-900\">\r\n                  {jobs.filter(job => job.status === 'COMPLETED').length}\r\n                </p>\r\n                <p className=\"text-xs text-green-600 mt-1\">Successfully finished</p>\r\n              </div>\r\n              <div className=\"p-3 rounded-full bg-green-100 group-hover:bg-green-200 transition-colors\">\r\n                <CheckCircle className=\"w-6 h-6 text-green-600\" />\r\n              </div>\r\n            </div>\r\n            <div className=\"mt-4\">\r\n              <div className=\"flex items-center text-xs text-green-700\">\r\n                <BarChart3 className=\"w-3 h-3 mr-1\" />\r\n                <span>Revenue generated</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </motion.div>\r\n      </div>\r\n\r\n        {/* Enhanced View Toggle & Bulk Actions */}\r\n        <div className=\"bg-white rounded-xl shadow-lg border border-gray-200 mb-8\">\r\n          <div className=\"bg-gradient-to-r from-gray-50 to-gray-100 px-6 py-4 border-b border-gray-200\">\r\n            <div className=\"flex flex-col sm:flex-row sm:items-center justify-between gap-4\">\r\n              <div className=\"flex items-center space-x-4\">\r\n                <h2 className=\"text-2xl font-bold text-gray-900\">All Orders</h2>\r\n                <div className=\"text-sm text-gray-500\">\r\n                  {jobs.length} {jobs.length === 1 ? 'order' : 'orders'}\r\n                </div>\r\n                {selectedOrders.length > 0 && (\r\n                  <div className=\"flex items-center space-x-3\">\r\n                    <span className=\"text-sm font-medium text-orange-600 bg-orange-100 px-3 py-1 rounded-full\">\r\n                      {selectedOrders.length} selected\r\n                    </span>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <button\r\n                        onClick={() => {\r\n                          // Bulk assign logic would go here\r\n                          toast.info('Bulk assignment feature coming soon!');\r\n                        }}\r\n                        className=\"px-4 py-2 text-sm font-medium text-orange-600 bg-orange-50 rounded-lg hover:bg-orange-100 transition-colors flex items-center\"\r\n                      >\r\n                        <UserCheck className=\"w-4 h-4 mr-2\" />\r\n                        Bulk Assign\r\n                      </button>\r\n                      <button\r\n                        onClick={() => {\r\n                          // Bulk export logic would go here\r\n                          toast.info('Bulk export feature coming soon!');\r\n                        }}\r\n                        className=\"px-4 py-2 text-sm font-medium text-blue-600 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors flex items-center\"\r\n                      >\r\n                        <Download className=\"w-4 h-4 mr-2\" />\r\n                        Export\r\n                      </button>\r\n                      <button\r\n                        onClick={() => setSelectedOrders([])}\r\n                        className=\"px-4 py-2 text-sm font-medium text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors\"\r\n                      >\r\n                        Clear\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n              \r\n              <div className=\"flex items-center space-x-3\">\r\n                {/* Quick Actions */}\r\n                <div className=\"flex items-center space-x-2\">\r\n                  <button\r\n                    onClick={() => {\r\n                      const pendingJobs = jobs.filter(job => job.status === 'PENDING');\r\n                      if (pendingJobs.length > 0) {\r\n                        toast.info(`Auto-assigning ${pendingJobs.length} pending orders...`);\r\n                        // Bulk auto-assign logic would go here\r\n                      } else {\r\n                        toast.info('No pending orders to assign');\r\n                      }\r\n                    }}\r\n                    className=\"px-4 py-2 text-sm font-semibold text-blue-600 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors\"\r\n                    title=\"Auto-assign all pending orders\"\r\n                  >\r\n                    🤖 Auto-assign All\r\n                  </button>\r\n                </div>\r\n                \r\n                {/* View Toggle */}\r\n                <div className=\"flex bg-gray-200 rounded-lg p-1\">\r\n                  <button\r\n                    onClick={() => setViewMode('table')}\r\n                    className={`px-4 py-2 rounded-md text-sm font-semibold transition-colors ${\r\n                      viewMode === 'table'\r\n                        ? 'bg-white text-gray-900 shadow-sm'\r\n                        : 'text-gray-600 hover:text-gray-900'\r\n                    }`}\r\n                  >\r\n                    <List className=\"w-4 h-4 mr-2 inline\" />\r\n                    Table\r\n                  </button>\r\n                  <button\r\n                    onClick={() => setViewMode('grid')}\r\n                    className={`px-4 py-2 rounded-md text-sm font-semibold transition-colors ${\r\n                      viewMode === 'grid'\r\n                        ? 'bg-white text-gray-900 shadow-sm'\r\n                        : 'text-gray-600 hover:text-gray-900'\r\n                    }`}\r\n                  >\r\n                    <Grid className=\"w-4 h-4 mr-2 inline\" />\r\n                    Cards\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n      {/* Orders Content */}\r\n      {loading ? (\r\n        viewMode === 'grid' ? (\r\n          /* Grid Skeleton */\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n            {[...Array(6)].map((_, index) => (\r\n              <div key={index} className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\r\n                <div className=\"animate-pulse\">\r\n                  <div className=\"flex items-start justify-between mb-4\">\r\n                    <div className=\"flex-1\">\r\n                      <div className=\"h-4 bg-gray-200 rounded w-3/4 mb-2\"></div>\r\n                      <div className=\"h-3 bg-gray-200 rounded w-1/2\"></div>\r\n                    </div>\r\n                    <div className=\"h-6 bg-gray-200 rounded-full w-16\"></div>\r\n                  </div>\r\n                  <div className=\"space-y-3\">\r\n                    <div className=\"h-3 bg-gray-200 rounded w-1/4\"></div>\r\n                    <div className=\"flex items-center space-x-3\">\r\n                      <div className=\"h-8 w-8 bg-gray-200 rounded-full\"></div>\r\n                      <div className=\"flex-1\">\r\n                        <div className=\"h-3 bg-gray-200 rounded w-3/4 mb-1\"></div>\r\n                        <div className=\"h-2 bg-gray-200 rounded w-1/2\"></div>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"space-y-2\">\r\n                      <div className=\"h-3 bg-gray-200 rounded w-full\"></div>\r\n                      <div className=\"h-3 bg-gray-200 rounded w-2/3\"></div>\r\n                    </div>\r\n                    <div className=\"flex space-x-2 pt-4\">\r\n                      <div className=\"h-8 bg-gray-200 rounded flex-1\"></div>\r\n                      <div className=\"h-8 w-8 bg-gray-200 rounded\"></div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        ) : (\r\n          /* Table Skeleton */\r\n          <div className=\"bg-white rounded-lg shadow-sm overflow-hidden\">\r\n            <div className=\"hidden lg:block\">\r\n              <div className=\"bg-gray-50 px-6 py-3\">\r\n                <div className=\"grid grid-cols-7 gap-4\">\r\n                  {['', 'Order Details', 'Customer', 'Location', 'Budget', 'Status', 'Actions'].map((header, index) => (\r\n                    <div key={index} className=\"h-4 bg-gray-200 rounded\"></div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n              <div className=\"divide-y divide-gray-200\">\r\n                {[...Array(8)].map((_, index) => (\r\n                  <div key={index} className=\"px-6 py-4\">\r\n                    <div className=\"animate-pulse grid grid-cols-7 gap-4 items-center\">\r\n                      <div className=\"h-4 w-4 bg-gray-200 rounded\"></div>\r\n                      <div className=\"space-y-2\">\r\n                        <div className=\"h-4 bg-gray-200 rounded w-3/4\"></div>\r\n                        <div className=\"h-3 bg-gray-200 rounded w-1/2\"></div>\r\n                        <div className=\"h-3 bg-gray-200 rounded w-1/3\"></div>\r\n                      </div>\r\n                      <div className=\"flex items-center space-x-3\">\r\n                        <div className=\"h-10 w-10 bg-gray-200 rounded-full\"></div>\r\n                        <div className=\"space-y-1\">\r\n                          <div className=\"h-3 bg-gray-200 rounded w-20\"></div>\r\n                          <div className=\"h-2 bg-gray-200 rounded w-16\"></div>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"space-y-1\">\r\n                        <div className=\"h-3 bg-gray-200 rounded w-16\"></div>\r\n                        <div className=\"h-2 bg-gray-200 rounded w-12\"></div>\r\n                      </div>\r\n                      <div className=\"space-y-1\">\r\n                        <div className=\"h-3 bg-gray-200 rounded w-12\"></div>\r\n                        <div className=\"h-2 bg-gray-200 rounded w-10\"></div>\r\n                      </div>\r\n                      <div className=\"h-6 bg-gray-200 rounded-full w-16\"></div>\r\n                      <div className=\"flex space-x-2\">\r\n                        <div className=\"h-6 w-6 bg-gray-200 rounded\"></div>\r\n                        <div className=\"h-6 w-6 bg-gray-200 rounded\"></div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n            \r\n            {/* Mobile Skeleton */}\r\n            <div className=\"lg:hidden divide-y divide-gray-200\">\r\n              {[...Array(6)].map((_, index) => (\r\n                <div key={index} className=\"p-4\">\r\n                  <div className=\"animate-pulse space-y-3\">\r\n                    <div className=\"flex justify-between\">\r\n                      <div className=\"h-4 bg-gray-200 rounded w-1/2\"></div>\r\n                      <div className=\"h-6 bg-gray-200 rounded-full w-16\"></div>\r\n                    </div>\r\n                    <div className=\"space-y-2\">\r\n                      <div className=\"flex justify-between\">\r\n                        <div className=\"h-3 bg-gray-200 rounded w-1/4\"></div>\r\n                        <div className=\"h-3 bg-gray-200 rounded w-1/3\"></div>\r\n                      </div>\r\n                      <div className=\"flex justify-between\">\r\n                        <div className=\"h-3 bg-gray-200 rounded w-1/4\"></div>\r\n                        <div className=\"h-3 bg-gray-200 rounded w-1/4\"></div>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"flex space-x-2\">\r\n                      <div className=\"h-8 bg-gray-200 rounded flex-1\"></div>\r\n                      <div className=\"h-8 w-8 bg-gray-200 rounded\"></div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )\r\n      ) : jobs.length === 0 ? (\r\n          <div className=\"text-center py-12\">\r\n            <div className=\"mx-auto w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-6\">\r\n              <Package className=\"w-12 h-12 text-gray-400\" />\r\n            </div>\r\n            <h3 className=\"text-xl font-semibold text-gray-900 mb-2\">No orders found</h3>\r\n            <p className=\"text-gray-500 mb-6 max-w-sm mx-auto\">\r\n              {(filters.search || filters.status || filters.priority) \r\n                ? \"No orders match your current filters. Try adjusting your search criteria.\"\r\n                : \"No orders available at the moment. New orders will appear here when customers submit requests.\"\r\n              }\r\n            </p>\r\n            {(filters.search || filters.status || filters.priority) && (\r\n              <button\r\n                onClick={() => setFilters({ status: '', category: '', priority: '', search: '', dateRange: '', assignmentStatus: '' })}\r\n                className=\"px-6 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors\"\r\n              >\r\n                Clear All Filters\r\n              </button>\r\n            )}\r\n          </div>\r\n      ) : viewMode === 'grid' ? (\r\n        /* Grid View */\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n          {jobs.map((job) => (\r\n            <motion.div\r\n              key={job._id}\r\n              initial={{ opacity: 0, y: 20 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              className=\"bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow duration-200\"\r\n            >\r\n              <div className=\"p-6\">\r\n                {/* Header */}\r\n                <div className=\"flex items-start justify-between mb-4\">\r\n                  <div className=\"flex-1\">\r\n                    <h3 className=\"text-lg font-semibold text-gray-900 mb-1 line-clamp-2\">\r\n                      {job.title}\r\n                    </h3>\r\n                    <p className=\"text-sm text-gray-500\">\r\n                      {job.jobNumber} • {job.category}\r\n                    </p>\r\n                  </div>\r\n                  <div className=\"ml-4\">\r\n                    <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${statusColors[job.status]}`}>\r\n                      {job.status.replace('_', ' ')}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Priority & Emergency */}\r\n                <div className=\"flex items-center space-x-2 mb-4\">\r\n                  <span className={`px-2 py-1 text-xs font-medium rounded-full border ${priorityColors[job.priority]}`}>\r\n                    {job.priority}\r\n                  </span>\r\n                  {job.isEmergency && (\r\n                    <span className=\"px-2 py-1 bg-red-100 text-red-800 text-xs rounded-full font-medium\">\r\n                      🚨 EMERGENCY\r\n                    </span>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Customer Info */}\r\n                <div className=\"space-y-2 mb-4\">\r\n                  <div className=\"flex items-center text-sm\">\r\n                    <div className=\"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center mr-3\">\r\n                      <span className=\"text-xs font-medium text-gray-600\">\r\n                        {job.customerId?.firstName?.[0]}{job.customerId?.lastName?.[0]}\r\n                      </span>\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"font-medium text-gray-900\">\r\n                        {job.customerId?.firstName} {job.customerId?.lastName}\r\n                      </p>\r\n                      <p className=\"text-gray-500 text-xs\">{job.customerId?.email}</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Location & Budget */}\r\n                <div className=\"space-y-2 mb-4\">\r\n                  <div className=\"flex items-center text-sm text-gray-600\">\r\n                    <MapPin className=\"w-4 h-4 mr-2\" />\r\n                    <span>{job.location?.city}, {job.location?.state}</span>\r\n                  </div>\r\n                  <div className=\"flex items-center text-sm\">\r\n                    <DollarSign className=\"w-4 h-4 mr-2 text-gray-600\" />\r\n                    <span className=\"font-medium text-gray-900\">\r\n                      ${job.estimatedBudget?.toFixed(2)}\r\n                    </span>\r\n                    {job.vendorQuote?.amount && (\r\n                      <span className=\"ml-2 text-xs text-gray-500\">\r\n                        (Quote: ${job.vendorQuote.amount.toFixed(2)})\r\n                      </span>\r\n                    )}\r\n                  </div>\r\n                  <div className=\"flex items-center text-sm text-gray-600\">\r\n                    <Calendar className=\"w-4 h-4 mr-2\" />\r\n                    <span>\r\n                      {job.requestedTimeSlot?.date ? \r\n                        new Date(job.requestedTimeSlot.date).toLocaleDateString() : \r\n                        'Date TBD'\r\n                      }\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Actions */}\r\n                <div className=\"flex items-center space-x-2 pt-4 border-t border-gray-100\">\r\n                  <button\r\n                    onClick={() => setSelectedJob(job)}\r\n                    className=\"flex-1 flex items-center justify-center px-3 py-2 text-sm font-medium text-blue-600 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors\"\r\n                  >\r\n                    <Eye className=\"w-4 h-4 mr-1\" />\r\n                    View\r\n                  </button>\r\n                  \r\n                  {job.status === 'PENDING' && (\r\n                    <>\r\n                      <button\r\n                        onClick={() => handleAutoAssign(job)}\r\n                        className=\"flex items-center justify-center px-3 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors\"\r\n                        title=\"Auto-assign to best vendor\"\r\n                      >\r\n                        🤖\r\n                      </button>\r\n                      <button\r\n                        onClick={() => {\r\n                          setSelectedJob(job);\r\n                          setShowAssignModal(true);\r\n                        }}\r\n                        className=\"flex items-center justify-center px-3 py-2 text-sm font-medium text-white bg-orange-600 rounded-lg hover:bg-orange-700 transition-colors\"\r\n                        title=\"Manual assignment\"\r\n                      >\r\n                        <UserCheck className=\"w-4 h-4\" />\r\n                      </button>\r\n                    </>\r\n                  )}\r\n                  \r\n                  {canDeleteJob(job) && (\r\n                    <button\r\n                      onClick={() => {\r\n                        setJobToDelete(job);\r\n                        setShowDeleteModal(true);\r\n                      }}\r\n                      className=\"flex items-center justify-center px-3 py-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700 transition-colors\"\r\n                      title=\"Delete order\"\r\n                    >\r\n                      <Trash2 className=\"w-4 h-4\" />\r\n                    </button>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </motion.div>\r\n          ))}\r\n        </div>\r\n      ) : (\r\n        /* Table View */\r\n        <div className=\"overflow-hidden\">\r\n          {/* Desktop Table */}\r\n          <div className=\"hidden lg:block overflow-x-auto\">\r\n            <table className=\"min-w-full divide-y divide-gray-200\">\r\n              <thead className=\"bg-gray-50\">\r\n                <tr>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={selectedOrders.length === jobs.length && jobs.length > 0}\r\n                      onChange={(e) => {\r\n                        if (e.target.checked) {\r\n                          setSelectedOrders(jobs.map(job => job._id));\r\n                        } else {\r\n                          setSelectedOrders([]);\r\n                        }\r\n                      }}\r\n                      className=\"rounded border-gray-300 text-orange-600 focus:ring-orange-500\"\r\n                    />\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Order Details\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Customer\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Location\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Budget\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Status\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Actions\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                {jobs.map((job) => (\r\n                  <tr key={job._id} className={`hover:bg-gray-50 transition-colors ${\r\n                    selectedOrders.includes(job._id) ? 'bg-orange-50' : ''\r\n                  }`}>\r\n                    <td className=\"px-6 py-4\">\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={selectedOrders.includes(job._id)}\r\n                        onChange={(e) => {\r\n                          if (e.target.checked) {\r\n                            setSelectedOrders(prev => [...prev, job._id]);\r\n                          } else {\r\n                            setSelectedOrders(prev => prev.filter(id => id !== job._id));\r\n                          }\r\n                        }}\r\n                        className=\"rounded border-gray-300 text-orange-600 focus:ring-orange-500\"\r\n                      />\r\n                    </td>\r\n                    <td className=\"px-6 py-4\">\r\n                      <div>\r\n                        <div className=\"text-sm font-medium text-gray-900 mb-1\">{job.title}</div>\r\n                        <div className=\"text-sm text-gray-500 mb-2\">\r\n                          {job.jobNumber} • {job.category}\r\n                        </div>\r\n                        <div className=\"flex items-center space-x-2\">\r\n                          <span className={`inline-flex px-2 py-1 text-xs font-medium rounded-full border ${priorityColors[job.priority]}`}>\r\n                            {job.priority}\r\n                          </span>\r\n                          {job.isEmergency && (\r\n                            <span className=\"px-2 py-1 bg-red-100 text-red-800 text-xs rounded-full font-medium\">\r\n                              🚨 EMERGENCY\r\n                            </span>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"px-6 py-4\">\r\n                      <div className=\"flex items-center\">\r\n                        <div className=\"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center mr-3\">\r\n                          <span className=\"text-sm font-medium text-gray-600\">\r\n                            {job.customerId?.firstName?.[0]}{job.customerId?.lastName?.[0]}\r\n                          </span>\r\n                        </div>\r\n                        <div>\r\n                          <div className=\"text-sm font-medium text-gray-900\">\r\n                            {job.customerId?.firstName} {job.customerId?.lastName}\r\n                          </div>\r\n                          <div className=\"text-sm text-gray-500\">{job.customerId?.email}</div>\r\n                        </div>\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"px-6 py-4\">\r\n                      <div className=\"flex items-center text-sm\">\r\n                        <MapPin className=\"w-4 h-4 mr-2 text-gray-400\" />\r\n                        <div>\r\n                          <div className=\"text-gray-900\">{job.location?.city}</div>\r\n                          <div className=\"text-gray-500\">{job.location?.state}</div>\r\n                        </div>\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"px-6 py-4\">\r\n                      <div>\r\n                        <div className=\"text-sm font-medium text-gray-900\">\r\n                          ${job.estimatedBudget?.toFixed(2)}\r\n                        </div>\r\n                        {job.vendorQuote?.amount && (\r\n                          <div className=\"text-sm text-gray-500\">\r\n                            Quote: ${job.vendorQuote.amount.toFixed(2)}\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"px-6 py-4\">\r\n                      <span className={`inline-flex px-3 py-1 text-xs font-semibold rounded-full ${statusColors[job.status]}`}>\r\n                        {job.status.replace('_', ' ')}\r\n                      </span>\r\n                    </td>\r\n                    <td className=\"px-6 py-4\">\r\n                      <div className=\"flex items-center space-x-3\">\r\n                        <button\r\n                          onClick={() => setSelectedJob(job)}\r\n                          className=\"text-blue-600 hover:text-blue-900 p-1 rounded-full hover:bg-blue-50 transition-colors\"\r\n                          title=\"View details\"\r\n                        >\r\n                          <Eye className=\"w-4 h-4\" />\r\n                        </button>\r\n                        {job.status === 'PENDING' && (\r\n                          <>\r\n                            <button\r\n                              onClick={() => handleAutoAssign(job)}\r\n                              className=\"text-blue-600 hover:text-blue-900 p-1 rounded-full hover:bg-blue-50 transition-colors\"\r\n                              title=\"Auto-assign to best vendor\"\r\n                            >\r\n                              🤖\r\n                            </button>\r\n                            <button\r\n                              onClick={() => {\r\n                                setSelectedJob(job);\r\n                                setShowAssignModal(true);\r\n                              }}\r\n                              className=\"text-orange-600 hover:text-orange-900 p-1 rounded-full hover:bg-orange-50 transition-colors\"\r\n                              title=\"Manual assignment\"\r\n                            >\r\n                              <UserCheck className=\"w-4 h-4\" />\r\n                            </button>\r\n                          </>\r\n                        )}\r\n                        \r\n                        {canDeleteJob(job) && (\r\n                          <button\r\n                            onClick={() => {\r\n                              setJobToDelete(job);\r\n                              setShowDeleteModal(true);\r\n                            }}\r\n                            className=\"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50 transition-colors\"\r\n                            title=\"Delete order\"\r\n                          >\r\n                            <Trash2 className=\"w-4 h-4\" />\r\n                          </button>\r\n                        )}\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n\r\n          {/* Mobile Cards */}\r\n          <div className=\"lg:hidden divide-y divide-gray-200\">\r\n            {jobs.map((job) => (\r\n              <div key={job._id} className=\"p-4 hover:bg-gray-50 transition-colors\">\r\n                <div className=\"flex items-start justify-between mb-3\">\r\n                  <div className=\"flex-1\">\r\n                    <h3 className=\"text-sm font-medium text-gray-900 mb-1\">\r\n                      {job.title}\r\n                    </h3>\r\n                    <p className=\"text-xs text-gray-500\">\r\n                      {job.jobNumber} • {job.category}\r\n                    </p>\r\n                  </div>\r\n                  <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${statusColors[job.status]} ml-2`}>\r\n                    {job.status.replace('_', ' ')}\r\n                  </span>\r\n                </div>\r\n\r\n                <div className=\"space-y-2 mb-3\">\r\n                  <div className=\"flex items-center justify-between text-sm\">\r\n                    <span className=\"text-gray-600\">Customer:</span>\r\n                    <span className=\"font-medium\">\r\n                      {job.customerId?.firstName} {job.customerId?.lastName}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"flex items-center justify-between text-sm\">\r\n                    <span className=\"text-gray-600\">Location:</span>\r\n                    <span>{job.location?.city}, {job.location?.state}</span>\r\n                  </div>\r\n                  <div className=\"flex items-center justify-between text-sm\">\r\n                    <span className=\"text-gray-600\">Budget:</span>\r\n                    <span className=\"font-medium\">${job.estimatedBudget?.toFixed(2)}</span>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"flex items-center space-x-2 mb-3\">\r\n                  <span className={`inline-flex px-2 py-1 text-xs font-medium rounded-full border ${priorityColors[job.priority]}`}>\r\n                    {job.priority}\r\n                  </span>\r\n                  {job.isEmergency && (\r\n                    <span className=\"px-2 py-1 bg-red-100 text-red-800 text-xs rounded-full font-medium\">\r\n                      🚨 EMERGENCY\r\n                    </span>\r\n                  )}\r\n                </div>\r\n\r\n                <div className=\"flex items-center space-x-2\">\r\n                  <button\r\n                    onClick={() => setSelectedJob(job)}\r\n                    className=\"flex-1 flex items-center justify-center px-3 py-2 text-xs font-medium text-blue-600 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors\"\r\n                  >\r\n                    <Eye className=\"w-3 h-3 mr-1\" />\r\n                    View\r\n                  </button>\r\n                  \r\n                  {job.status === 'PENDING' && (\r\n                    <>\r\n                      <button\r\n                        onClick={() => handleAutoAssign(job)}\r\n                        className=\"flex items-center justify-center px-3 py-2 text-xs font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors\"\r\n                        title=\"Auto-assign\"\r\n                      >\r\n                        🤖\r\n                      </button>\r\n                      <button\r\n                        onClick={() => {\r\n                          setSelectedJob(job);\r\n                          setShowAssignModal(true);\r\n                        }}\r\n                        className=\"flex items-center justify-center px-3 py-2 text-xs font-medium text-white bg-orange-600 rounded-lg hover:bg-orange-700 transition-colors\"\r\n                        title=\"Assign\"\r\n                      >\r\n                        <UserCheck className=\"w-3 h-3\" />\r\n                      </button>\r\n                    </>\r\n                  )}\r\n                  \r\n                  {canDeleteJob(job) && (\r\n                    <button\r\n                      onClick={() => {\r\n                        setJobToDelete(job);\r\n                        setShowDeleteModal(true);\r\n                      }}\r\n                      className=\"flex items-center justify-center px-3 py-2 text-xs font-medium text-white bg-red-600 rounded-lg hover:bg-red-700 transition-colors\"\r\n                      title=\"Delete\"\r\n                    >\r\n                      <Trash2 className=\"w-3 h-3\" />\r\n                    </button>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n          {/* Enhanced Pagination */}\r\n          {pagination.pages > 1 && (\r\n            <div className=\"px-6 py-4 border-t border-gray-200 bg-gray-50\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <div className=\"text-sm font-medium text-gray-700\">\r\n                  Showing page <span className=\"text-orange-600\">{pagination.page}</span> of <span className=\"text-orange-600\">{pagination.pages}</span> \r\n                  <span className=\"text-gray-500 ml-2\">({pagination.total} total orders)</span>\r\n                </div>\r\n                <div className=\"flex space-x-2\">\r\n                  <button\r\n                    onClick={() => setPagination(prev => ({ ...prev, page: Math.max(1, prev.page - 1) }))}\r\n                    disabled={pagination.page === 1}\r\n                    className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium\"\r\n                  >\r\n                    Previous\r\n                  </button>\r\n                  <button\r\n                    onClick={() => setPagination(prev => ({ ...prev, page: Math.min(prev.pages, prev.page + 1) }))}\r\n                    disabled={pagination.page === pagination.pages}\r\n                    className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium\"\r\n                  >\r\n                    Next\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Modals */}\r\n      {selectedJob && !showAssignModal && (\r\n        <JobDetailsModal \r\n          job={selectedJob} \r\n          onClose={() => setSelectedJob(null)} \r\n        />\r\n      )}\r\n      \r\n      {showAssignModal && selectedJob && (\r\n        <AssignmentModal />\r\n      )}\r\n\r\n      {showDeleteModal && jobToDelete && (\r\n        <DeleteConfirmationModal />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OrderManagement;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}