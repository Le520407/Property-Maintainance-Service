{"ast":null,"code":"import React,{useState,useEffect}from'react';import{motion,AnimatePresence}from'framer-motion';import{Users,Search,Filter,Plus,Edit2,Trash2,Eye,EyeOff,Shield,UserCheck,UserX,Clock,Mail,Phone,MapPin,Calendar,Crown,Grid,List,Download,RefreshCw,AlertCircle,CheckCircle,XCircle,Star,Award,DollarSign,Briefcase,MoreHorizontal}from'lucide-react';import{useAuth}from'../../contexts/AuthContext';import toast from'react-hot-toast';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const UserManagement=()=>{const{user}=useAuth();const[users,setUsers]=useState([]);const[filteredUsers,setFilteredUsers]=useState([]);const[loading,setLoading]=useState(true);const[stats,setStats]=useState({});const[searchQuery,setSearchQuery]=useState('');const[selectedRole,setSelectedRole]=useState('');const[selectedStatus,setSelectedStatus]=useState('');const[currentPage,setCurrentPage]=useState(1);const[totalPages,setTotalPages]=useState(1);const[viewMode,setViewMode]=useState('cards');// 'cards' or 'table'\nconst[showCreateForm,setShowCreateForm]=useState(false);const[selectedUsers,setSelectedUsers]=useState([]);const[sortBy,setSortBy]=useState('newest');const[editingUser,setEditingUser]=useState(null);const[formData,setFormData]=useState({firstName:'',lastName:'',email:'',password:'',phone:'',city:'',country:'Singapore',role:'customer',skills:[],experience:0,hourlyRate:0,permissions:[],isSuper:false,status:'ACTIVE'});// 角色选项\nconst roleOptions=[{value:'',label:'All Roles'},{value:'customer',label:'Customer',color:'blue'},{value:'vendor',label:'Vendor',color:'purple'},{value:'admin',label:'Admin',color:'orange'}];// 状态选项\nconst statusOptions=[{value:'',label:'All Status'},{value:'ACTIVE',label:'Active',color:'green'},{value:'PENDING',label:'Pending',color:'yellow'},{value:'INACTIVE',label:'Inactive',color:'gray'},{value:'SUSPENDED',label:'Suspended',color:'red'}];// 排序选项\nconst sortOptions=[{value:'newest',label:'Newest First'},{value:'oldest',label:'Oldest First'},{value:'name_asc',label:'Name A-Z'},{value:'name_desc',label:'Name Z-A'},{value:'last_login',label:'Last Login'}];// 权限选项\nconst permissionOptions=[{value:'manage_users',label:'Manage Users'},{value:'manage_content',label:'Manage Content'},{value:'manage_services',label:'Manage Services'},{value:'manage_payments',label:'Manage Payments'},{value:'view_analytics',label:'View Analytics'},{value:'manage_system',label:'Manage System'}];// 获取用户列表\nconst fetchUsers=async()=>{setLoading(true);try{const params=new URLSearchParams({page:currentPage.toString(),limit:'10'});if(selectedRole)params.append('role',selectedRole);if(selectedStatus)params.append('status',selectedStatus);if(searchQuery.trim())params.append('search',searchQuery.trim());const response=await fetch(`http://localhost:5000/api/admin/users?${params.toString()}`,{headers:{'Authorization':`Bearer ${localStorage.getItem('token')}`}});if(response.ok){const data=await response.json();setUsers(data.users);setTotalPages(data.totalPages);}}catch(error){console.error('Error fetching users:',error);toast.error('Failed to load users');}finally{setLoading(false);}};// 获取统计数据\nconst fetchStats=async()=>{try{const response=await fetch('http://localhost:5000/api/admin/stats',{headers:{'Authorization':`Bearer ${localStorage.getItem('token')}`}});if(response.ok){const data=await response.json();setStats(data);}}catch(error){console.error('Error fetching stats:',error);}};useEffect(()=>{if((user===null||user===void 0?void 0:user.role)==='admin'){fetchUsers();fetchStats();}},[user,currentPage,selectedRole,selectedStatus,searchQuery]);// 处理搜索\nconst handleSearch=query=>{setSearchQuery(query);setCurrentPage(1);};// 处理筛选\nconst handleFilter=(type,value)=>{if(type==='role')setSelectedRole(value);if(type==='status')setSelectedStatus(value);setCurrentPage(1);};// 创建用户\nconst handleCreateUser=async e=>{e.preventDefault();try{const response=await fetch('http://localhost:5000/api/admin/create-user',{method:'POST',headers:{'Content-Type':'application/json','Authorization':`Bearer ${localStorage.getItem('token')}`},body:JSON.stringify(formData)});if(response.ok){await fetchUsers();await fetchStats();resetForm();toast.success(`${formData.role.charAt(0).toUpperCase()+formData.role.slice(1)} user created successfully!`);}else{const error=await response.json();toast.error(error.message);}}catch(error){console.error('Error creating user:',error);toast.error('Error creating user');}};// 更新用户状态\nconst updateUserStatus=async(userId,newStatus)=>{try{const response=await fetch(`http://localhost:5000/api/admin/users/${userId}/status`,{method:'PATCH',headers:{'Content-Type':'application/json','Authorization':`Bearer ${localStorage.getItem('token')}`},body:JSON.stringify({status:newStatus})});if(response.ok){await fetchUsers();await fetchStats();const statusText=newStatus==='ACTIVE'?'approved':'updated';toast.success(`User status ${statusText} successfully!`);}}catch(error){console.error('Error updating user status:',error);toast.error('Failed to update user status');}};// 批量操作\nconst handleBulkAction=async action=>{if(selectedUsers.length===0){toast.error('Please select users first');return;}const confirmMessage=`Are you sure you want to ${action} ${selectedUsers.length} user(s)?`;if(!window.confirm(confirmMessage))return;try{const promises=selectedUsers.map(userId=>{if(action==='activate'){return updateUserStatus(userId,'ACTIVE');}else if(action==='suspend'){return updateUserStatus(userId,'SUSPENDED');}});await Promise.all(promises);setSelectedUsers([]);toast.success(`Bulk ${action} completed successfully!`);}catch(error){toast.error(`Failed to ${action} users`);}};// 删除用户\nconst deleteUser=async userId=>{if(window.confirm('Are you sure you want to delete this user?')){try{const response=await fetch(`http://localhost:5000/api/admin/users/${userId}`,{method:'DELETE',headers:{'Authorization':`Bearer ${localStorage.getItem('token')}`}});if(response.ok){await fetchUsers();await fetchStats();toast.success('User deleted successfully');}}catch(error){console.error('Error deleting user:',error);toast.error('Failed to delete user');}}};// 重置表单\nconst resetForm=()=>{setFormData({firstName:'',lastName:'',email:'',password:'',phone:'',city:'',country:'Singapore',role:'customer',skills:[],experience:0,hourlyRate:0,permissions:[],isSuper:false,status:'ACTIVE'});setShowCreateForm(false);setEditingUser(null);};// 处理表单输入\nconst handleInputChange=e=>{const{name,value,type,checked}=e.target;setFormData(prev=>({...prev,[name]:type==='checkbox'?checked:value}));};// 处理权限变更\nconst handlePermissionChange=permission=>{setFormData(prev=>({...prev,permissions:prev.permissions.includes(permission)?prev.permissions.filter(p=>p!==permission):[...prev.permissions,permission]}));};// 获取状态样式\nconst getStatusStyle=status=>{const styles={'ACTIVE':'bg-green-100 text-green-800 border-green-200','PENDING':'bg-yellow-100 text-yellow-800 border-yellow-200','INACTIVE':'bg-gray-100 text-gray-800 border-gray-200','SUSPENDED':'bg-red-100 text-red-800 border-red-200'};return styles[status]||'bg-gray-100 text-gray-800';};// 获取角色样式\nconst getRoleStyle=role=>{const styles={'customer':'bg-blue-100 text-blue-800 border-blue-200','vendor':'bg-purple-100 text-purple-800 border-purple-200','admin':'bg-orange-100 text-orange-800 border-orange-200'};return styles[role]||'bg-gray-100 text-gray-800';};// 用户卡片组件\nconst UserCard=_ref=>{var _userData$firstName;let{userData}=_ref;return/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:\"bg-white rounded-xl shadow-sm border border-gray-200 hover:shadow-md transition-all duration-200 p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-semibold text-lg\",children:((_userData$firstName=userData.firstName)===null||_userData$firstName===void 0?void 0:_userData$firstName[0])||userData.email[0].toUpperCase()}),userData.status==='ACTIVE'&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-white\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-gray-900 text-lg\",children:userData.fullName||`${userData.firstName} ${userData.lastName}`}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mt-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:`px-2 py-1 rounded-full text-xs font-medium border ${getRoleStyle(userData.role)}`,children:userData.role}),userData.isSuper&&/*#__PURE__*/_jsx(Crown,{className:\"w-4 h-4 text-yellow-500\",title:\"Super Admin\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-2\",children:/*#__PURE__*/_jsx(\"span\",{className:`px-3 py-1 rounded-full text-xs font-medium border ${getStatusStyle(userData.status)}`,children:userData.status})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-gray-600 text-sm\",children:[/*#__PURE__*/_jsx(Mail,{className:\"w-4 h-4 mr-2\"}),userData.email]}),userData.phone&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-gray-600 text-sm\",children:[/*#__PURE__*/_jsx(Phone,{className:\"w-4 h-4 mr-2\"}),userData.phone]}),userData.city&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-gray-600 text-sm\",children:[/*#__PURE__*/_jsx(MapPin,{className:\"w-4 h-4 mr-2\"}),userData.city,\", \",userData.country]})]}),userData.role==='vendor'&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 rounded-lg p-3 mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-3\",children:[userData.skills&&userData.skills.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mb-1\",children:\"Skills\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-1\",children:[userData.skills.slice(0,2).map((skill,idx)=>/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs\",children:skill},idx)),userData.skills.length>2&&/*#__PURE__*/_jsxs(\"span\",{className:\"px-2 py-1 bg-gray-200 text-gray-600 rounded-full text-xs\",children:[\"+\",userData.skills.length-2]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mb-1\",children:\"Experience\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm font-medium\",children:[userData.experience,\" years\"]})]}),userData.hourlyRate>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mb-1\",children:\"Rate\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm font-medium\",children:[\"$\",userData.hourlyRate,\"/hr\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mb-1\",children:\"Rating\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(Star,{className:\"w-4 h-4 text-yellow-500 mr-1\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-medium\",children:[userData.rating||0,\"/5\"]})]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between text-sm text-gray-500 mb-4\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Joined: \",new Date(userData.createdAt).toLocaleDateString()]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Last login: \",userData.lastLogin?new Date(userData.lastLogin).toLocaleDateString():'Never']})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between pt-4 border-t border-gray-100\",children:[userData.status==='PENDING'?/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>updateUserStatus(userData._id,'ACTIVE'),className:\"flex items-center px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm\",children:[/*#__PURE__*/_jsx(UserCheck,{className:\"w-4 h-4 mr-1\"}),\"Approve\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>updateUserStatus(userData._id,'SUSPENDED'),className:\"flex items-center px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm\",children:[/*#__PURE__*/_jsx(UserX,{className:\"w-4 h-4 mr-1\"}),\"Reject\"]})]}):/*#__PURE__*/_jsx(\"div\",{className:\"flex space-x-2\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateUserStatus(userData._id,userData.status==='ACTIVE'?'SUSPENDED':'ACTIVE'),className:`flex items-center px-3 py-2 rounded-lg transition-colors text-sm ${userData.status==='ACTIVE'?'bg-red-100 text-red-700 hover:bg-red-200':'bg-green-100 text-green-700 hover:bg-green-200'}`,children:userData.status==='ACTIVE'?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(UserX,{className:\"w-4 h-4 mr-1\"}),\"Suspend\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(UserCheck,{className:\"w-4 h-4 mr-1\"}),\"Activate\"]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100\",children:/*#__PURE__*/_jsx(Edit2,{className:\"w-4 h-4\"})}),user.isSuper&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteUser(userData._id),className:\"p-2 text-red-400 hover:text-red-600 rounded-lg hover:bg-red-50\",children:/*#__PURE__*/_jsx(Trash2,{className:\"w-4 h-4\"})})]})]})]});};if((user===null||user===void 0?void 0:user.role)!=='admin'){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"w-16 h-16 text-red-500 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-2\",children:\"Access Denied\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Admin privileges required to access this page.\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsx(\"section\",{className:\"bg-gradient-to-r from-orange-600 to-orange-600 text-white py-20\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col lg:flex-row lg:items-center lg:justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4 lg:mb-0\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-white\",children:\"User Management\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-orange-100 mt-1\",children:\"Manage users, approve vendors, and monitor system activity\"}),stats.pendingUsers>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mt-2 px-3 py-2 bg-orange-800 text-orange-100 rounded-lg inline-flex\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"w-4 h-4 mr-2\"}),stats.pendingUsers,\" user\",stats.pendingUsers>1?'s':'',\" pending approval\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-3\",children:[stats.pendingUsers>0&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setSelectedStatus('PENDING');setSelectedRole('vendor');setCurrentPage(1);},className:\"flex items-center px-4 py-2 bg-orange-800 text-white rounded-lg hover:bg-orange-900 transition-colors\",children:[/*#__PURE__*/_jsx(Clock,{className:\"w-4 h-4 mr-2\"}),\"View Pending (\",stats.pendingUsers,\")\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>fetchUsers(),className:\"flex items-center px-4 py-2 bg-white text-orange-600 rounded-lg hover:bg-orange-50 transition-colors\",children:[/*#__PURE__*/_jsx(RefreshCw,{className:\"w-4 h-4 mr-2\"}),\"Refresh\"]}),user.isSuper&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowCreateForm(true),className:\"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\",children:[/*#__PURE__*/_jsx(Plus,{className:\"w-4 h-4 mr-2\"}),\"Create User\"]})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 mb-8\",children:[/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:\"bg-white rounded-xl p-6 shadow-sm border border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Total Users\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-blue-600\",children:stats.totalUsers||0})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-blue-100 rounded-lg\",children:/*#__PURE__*/_jsx(Users,{className:\"w-6 h-6 text-blue-600\"})})]})}),/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:0.1},className:\"bg-white rounded-xl p-6 shadow-sm border border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Customers\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-green-600\",children:stats.totalCustomers||0})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-green-100 rounded-lg\",children:/*#__PURE__*/_jsx(UserCheck,{className:\"w-6 h-6 text-green-600\"})})]})}),/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:0.2},className:\"bg-white rounded-xl p-6 shadow-sm border border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Vendors\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-purple-600\",children:stats.totalVendors||0})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-purple-100 rounded-lg\",children:/*#__PURE__*/_jsx(Shield,{className:\"w-6 h-6 text-purple-600\"})})]})}),/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:0.3},className:\"bg-white rounded-xl p-6 shadow-sm border border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Admins\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-orange-600\",children:stats.totalAdmins||0})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-orange-100 rounded-lg\",children:/*#__PURE__*/_jsx(Crown,{className:\"w-6 h-6 text-orange-600\"})})]})}),/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:0.4},className:\"bg-white rounded-xl p-6 shadow-sm border border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Active\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-green-600\",children:stats.activeUsers||0})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-green-100 rounded-lg\",children:/*#__PURE__*/_jsx(CheckCircle,{className:\"w-6 h-6 text-green-600\"})})]})}),/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:0.5},className:\"bg-white rounded-xl p-6 shadow-sm border border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Pending\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-yellow-600\",children:stats.pendingUsers||0})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-yellow-100 rounded-lg\",children:/*#__PURE__*/_jsx(Clock,{className:\"w-6 h-6 text-yellow-600\"})})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col lg:flex-row gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none\",children:/*#__PURE__*/_jsx(Search,{className:\"h-5 w-5 text-gray-400\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search users by name, email, or phone...\",value:searchQuery,onChange:e=>handleSearch(e.target.value),className:\"block w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-3\",children:[/*#__PURE__*/_jsx(\"select\",{value:selectedRole,onChange:e=>handleFilter('role',e.target.value),className:\"border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent min-w-[140px]\",children:roleOptions.map(option=>/*#__PURE__*/_jsx(\"option\",{value:option.value,children:option.label},option.value))}),/*#__PURE__*/_jsx(\"select\",{value:selectedStatus,onChange:e=>handleFilter('status',e.target.value),className:\"border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent min-w-[140px]\",children:statusOptions.map(option=>/*#__PURE__*/_jsx(\"option\",{value:option.value,children:option.label},option.value))}),/*#__PURE__*/_jsx(\"select\",{value:sortBy,onChange:e=>setSortBy(e.target.value),className:\"border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent min-w-[140px]\",children:sortOptions.map(option=>/*#__PURE__*/_jsx(\"option\",{value:option.value,children:option.label},option.value))}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex border border-gray-300 rounded-lg overflow-hidden\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setViewMode('cards'),className:`p-3 ${viewMode==='cards'?'bg-blue-600 text-white':'bg-white text-gray-600 hover:bg-gray-50'}`,children:/*#__PURE__*/_jsx(Grid,{className:\"w-5 h-5\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setViewMode('table'),className:`p-3 ${viewMode==='table'?'bg-blue-600 text-white':'bg-white text-gray-600 hover:bg-gray-50'}`,children:/*#__PURE__*/_jsx(List,{className:\"w-5 h-5\"})})]})]})]})}),selectedUsers.length>0&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:\"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-blue-800\",children:[selectedUsers.length,\" user\",selectedUsers.length>1?'s':'',\" selected\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleBulkAction('activate'),className:\"px-3 py-1 bg-green-600 text-white rounded-lg hover:bg-green-700 text-sm\",children:\"Activate\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleBulkAction('suspend'),className:\"px-3 py-1 bg-red-600 text-white rounded-lg hover:bg-red-700 text-sm\",children:\"Suspend\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedUsers([]),className:\"px-3 py-1 bg-gray-500 text-white rounded-lg hover:bg-gray-600 text-sm\",children:\"Clear\"})]})]})}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center py-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Loading users...\"})]})}):users.length>0?/*#__PURE__*/_jsx(\"div\",{className:viewMode==='cards'?'grid gap-6 md:grid-cols-2 lg:grid-cols-3':'space-y-4',children:users.map(userData=>/*#__PURE__*/_jsx(UserCard,{userData:userData},userData._id))}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(Users,{className:\"w-16 h-16 text-gray-300 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-medium text-gray-900 mb-2\",children:\"No Users Found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-4\",children:searchQuery||selectedRole||selectedStatus?'No users match your search criteria.':'No users have been created yet.'}),(searchQuery||selectedRole||selectedStatus)&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setSearchQuery('');setSelectedRole('');setSelectedStatus('');setCurrentPage(1);},className:\"text-blue-600 hover:text-blue-700\",children:\"Clear filters\"})]}),totalPages>1&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-8 flex justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage(prev=>Math.max(prev-1,1)),disabled:currentPage===1,className:\"px-4 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\",children:\"Previous\"}),[...Array(Math.min(totalPages,5))].map((_,index)=>{const page=index+Math.max(1,currentPage-2);if(page>totalPages)return null;return/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage(page),className:`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${page===currentPage?'text-white bg-blue-600':'text-gray-500 bg-white border border-gray-300 hover:bg-gray-50'}`,children:page},page);}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage(prev=>Math.min(prev+1,totalPages)),disabled:currentPage===totalPages,className:\"px-4 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\",children:\"Next\"})]})}),/*#__PURE__*/_jsx(AnimatePresence,{children:showCreateForm&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\",children:/*#__PURE__*/_jsx(motion.div,{initial:{scale:0.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0.95,opacity:0},className:\"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:\"Create New User\"}),/*#__PURE__*/_jsx(\"button\",{onClick:resetForm,className:\"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100\",children:/*#__PURE__*/_jsx(XCircle,{className:\"w-6 h-6\"})})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleCreateUser,className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"First Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"firstName\",value:formData.firstName,onChange:handleInputChange,required:true,className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Last Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"lastName\",value:formData.lastName,onChange:handleInputChange,required:true,className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Email *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:formData.email,onChange:handleInputChange,required:true,className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Phone\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",name:\"phone\",value:formData.phone,onChange:handleInputChange,className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Role *\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"role\",value:formData.role,onChange:handleInputChange,className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"customer\",children:\"Customer\"}),/*#__PURE__*/_jsx(\"option\",{value:\"vendor\",children:\"Vendor\"}),(user===null||user===void 0?void 0:user.role)==='admin'&&/*#__PURE__*/_jsx(\"option\",{value:\"admin\",children:\"Admin\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Status *\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"status\",value:formData.status,onChange:handleInputChange,className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"ACTIVE\",children:\"Active\"}),/*#__PURE__*/_jsx(\"option\",{value:\"PENDING\",children:\"Pending\"}),/*#__PURE__*/_jsx(\"option\",{value:\"INACTIVE\",children:\"Inactive\"}),/*#__PURE__*/_jsx(\"option\",{value:\"SUSPENDED\",children:\"Suspended\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Password *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:formData.password,onChange:handleInputChange,required:true,className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"})]})]}),formData.role==='vendor'&&/*#__PURE__*/_jsxs(\"div\",{className:\"border-t pt-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Vendor Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Skills (comma-separated)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"e.g. Plumbing, Electrical, Carpentry\",onChange:e=>{const skills=e.target.value.split(',').map(s=>s.trim()).filter(s=>s);setFormData({...formData,skills});},className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Years of Experience\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"experience\",value:formData.experience,onChange:handleInputChange,min:\"0\",className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"})]})]})]}),formData.role==='admin'&&/*#__PURE__*/_jsxs(\"div\",{className:\"border-t pt-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Admin Permissions\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid md:grid-cols-2 gap-3\",children:permissionOptions.map(permission=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:permission.value,checked:formData.permissions.includes(permission.value),onChange:()=>handlePermissionChange(permission.value),className:\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:permission.value,className:\"ml-2 block text-sm text-gray-700\",children:permission.label})]},permission.value))}),(user===null||user===void 0?void 0:user.isSuper)&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"isSuper\",checked:formData.isSuper,onChange:handleInputChange,className:\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"}),/*#__PURE__*/_jsx(\"label\",{className:\"ml-2 block text-sm font-medium text-gray-700\",children:\"Super Administrator\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4 pt-6 border-t\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:\"flex-1 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors font-medium\",children:[\"Create \",formData.role.charAt(0).toUpperCase()+formData.role.slice(1)]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:resetForm,className:\"flex-1 bg-gray-100 text-gray-700 px-6 py-3 rounded-lg hover:bg-gray-200 transition-colors font-medium\",children:\"Cancel\"})]})]})]})})})})]})]});};export default UserManagement;","map":{"version":3,"names":["React","useState","useEffect","motion","AnimatePresence","Users","Search","Filter","Plus","Edit2","Trash2","Eye","EyeOff","Shield","UserCheck","UserX","Clock","Mail","Phone","MapPin","Calendar","Crown","Grid","List","Download","RefreshCw","AlertCircle","CheckCircle","XCircle","Star","Award","DollarSign","Briefcase","MoreHorizontal","useAuth","toast","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","UserManagement","user","users","setUsers","filteredUsers","setFilteredUsers","loading","setLoading","stats","setStats","searchQuery","setSearchQuery","selectedRole","setSelectedRole","selectedStatus","setSelectedStatus","currentPage","setCurrentPage","totalPages","setTotalPages","viewMode","setViewMode","showCreateForm","setShowCreateForm","selectedUsers","setSelectedUsers","sortBy","setSortBy","editingUser","setEditingUser","formData","setFormData","firstName","lastName","email","password","phone","city","country","role","skills","experience","hourlyRate","permissions","isSuper","status","roleOptions","value","label","color","statusOptions","sortOptions","permissionOptions","fetchUsers","params","URLSearchParams","page","toString","limit","append","trim","response","fetch","headers","localStorage","getItem","ok","data","json","error","console","fetchStats","handleSearch","query","handleFilter","type","handleCreateUser","e","preventDefault","method","body","JSON","stringify","resetForm","success","charAt","toUpperCase","slice","message","updateUserStatus","userId","newStatus","statusText","handleBulkAction","action","length","confirmMessage","window","confirm","promises","map","Promise","all","deleteUser","handleInputChange","name","checked","target","prev","handlePermissionChange","permission","includes","filter","p","getStatusStyle","styles","getRoleStyle","UserCard","_ref","_userData$firstName","userData","div","initial","opacity","y","animate","className","children","fullName","title","skill","idx","rating","Date","createdAt","toLocaleDateString","lastLogin","onClick","_id","pendingUsers","totalUsers","transition","delay","totalCustomers","totalVendors","totalAdmins","activeUsers","placeholder","onChange","option","Math","max","disabled","Array","min","_","index","exit","scale","onSubmit","required","split","s","id","htmlFor"],"sources":["C:/Users/Le520/Documents/Property-Maintainance-Service/src/pages/admin/UserManagement.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { \r\n  Users, \r\n  Search, \r\n  Filter, \r\n  Plus, \r\n  Edit2, \r\n  Trash2, \r\n  Eye,\r\n  EyeOff,\r\n  Shield,\r\n  UserCheck,\r\n  UserX,\r\n  Clock,\r\n  Mail,\r\n  Phone,\r\n  MapPin,\r\n  Calendar,\r\n  Crown,\r\n  Grid,\r\n  List,\r\n  Download,\r\n  RefreshCw,\r\n  AlertCircle,\r\n  CheckCircle,\r\n  XCircle,\r\n  Star,\r\n  Award,\r\n  DollarSign,\r\n  Briefcase,\r\n  MoreHorizontal\r\n} from 'lucide-react';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport toast from 'react-hot-toast';\r\n\r\nconst UserManagement = () => {\r\n  const { user } = useAuth();\r\n  const [users, setUsers] = useState([]);\r\n  const [filteredUsers, setFilteredUsers] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [stats, setStats] = useState({});\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [selectedRole, setSelectedRole] = useState('');\r\n  const [selectedStatus, setSelectedStatus] = useState('');\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [totalPages, setTotalPages] = useState(1);\r\n  const [viewMode, setViewMode] = useState('cards'); // 'cards' or 'table'\r\n  const [showCreateForm, setShowCreateForm] = useState(false);\r\n  const [selectedUsers, setSelectedUsers] = useState([]);\r\n  const [sortBy, setSortBy] = useState('newest');\r\n  const [editingUser, setEditingUser] = useState(null);\r\n  const [formData, setFormData] = useState({\r\n    firstName: '',\r\n    lastName: '',\r\n    email: '',\r\n    password: '',\r\n    phone: '',\r\n    city: '',\r\n    country: 'Singapore',\r\n    role: 'customer',\r\n    skills: [],\r\n    experience: 0,\r\n    hourlyRate: 0,\r\n    permissions: [],\r\n    isSuper: false,\r\n    status: 'ACTIVE'\r\n  });\r\n\r\n  // 角色选项\r\n  const roleOptions = [\r\n    { value: '', label: 'All Roles' },\r\n    { value: 'customer', label: 'Customer', color: 'blue' },\r\n    { value: 'vendor', label: 'Vendor', color: 'purple' },\r\n    { value: 'admin', label: 'Admin', color: 'orange' }\r\n  ];\r\n\r\n  // 状态选项\r\n  const statusOptions = [\r\n    { value: '', label: 'All Status' },\r\n    { value: 'ACTIVE', label: 'Active', color: 'green' },\r\n    { value: 'PENDING', label: 'Pending', color: 'yellow' },\r\n    { value: 'INACTIVE', label: 'Inactive', color: 'gray' },\r\n    { value: 'SUSPENDED', label: 'Suspended', color: 'red' }\r\n  ];\r\n\r\n  // 排序选项\r\n  const sortOptions = [\r\n    { value: 'newest', label: 'Newest First' },\r\n    { value: 'oldest', label: 'Oldest First' },\r\n    { value: 'name_asc', label: 'Name A-Z' },\r\n    { value: 'name_desc', label: 'Name Z-A' },\r\n    { value: 'last_login', label: 'Last Login' }\r\n  ];\r\n\r\n  // 权限选项\r\n  const permissionOptions = [\r\n    { value: 'manage_users', label: 'Manage Users' },\r\n    { value: 'manage_content', label: 'Manage Content' },\r\n    { value: 'manage_services', label: 'Manage Services' },\r\n    { value: 'manage_payments', label: 'Manage Payments' },\r\n    { value: 'view_analytics', label: 'View Analytics' },\r\n    { value: 'manage_system', label: 'Manage System' }\r\n  ];\r\n\r\n  // 获取用户列表\r\n  const fetchUsers = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const params = new URLSearchParams({\r\n        page: currentPage.toString(),\r\n        limit: '10'\r\n      });\r\n      \r\n      if (selectedRole) params.append('role', selectedRole);\r\n      if (selectedStatus) params.append('status', selectedStatus);\r\n      if (searchQuery.trim()) params.append('search', searchQuery.trim());\r\n\r\n      const response = await fetch(`http://localhost:5000/api/admin/users?${params.toString()}`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n        }\r\n      });\r\n\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setUsers(data.users);\r\n        setTotalPages(data.totalPages);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching users:', error);\r\n      toast.error('Failed to load users');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // 获取统计数据\r\n  const fetchStats = async () => {\r\n    try {\r\n      const response = await fetch('http://localhost:5000/api/admin/stats', {\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n        }\r\n      });\r\n\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setStats(data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching stats:', error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (user?.role === 'admin') {\r\n      fetchUsers();\r\n      fetchStats();\r\n    }\r\n  }, [user, currentPage, selectedRole, selectedStatus, searchQuery]);\r\n\r\n  // 处理搜索\r\n  const handleSearch = (query) => {\r\n    setSearchQuery(query);\r\n    setCurrentPage(1);\r\n  };\r\n\r\n  // 处理筛选\r\n  const handleFilter = (type, value) => {\r\n    if (type === 'role') setSelectedRole(value);\r\n    if (type === 'status') setSelectedStatus(value);\r\n    setCurrentPage(1);\r\n  };\r\n\r\n  // 创建用户\r\n  const handleCreateUser = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const response = await fetch('http://localhost:5000/api/admin/create-user', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n        },\r\n        body: JSON.stringify(formData)\r\n      });\r\n\r\n      if (response.ok) {\r\n        await fetchUsers();\r\n        await fetchStats();\r\n        resetForm();\r\n        toast.success(`${formData.role.charAt(0).toUpperCase() + formData.role.slice(1)} user created successfully!`);\r\n      } else {\r\n        const error = await response.json();\r\n        toast.error(error.message);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error creating user:', error);\r\n      toast.error('Error creating user');\r\n    }\r\n  };\r\n\r\n  // 更新用户状态\r\n  const updateUserStatus = async (userId, newStatus) => {\r\n    try {\r\n      const response = await fetch(`http://localhost:5000/api/admin/users/${userId}/status`, {\r\n        method: 'PATCH',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n        },\r\n        body: JSON.stringify({ status: newStatus })\r\n      });\r\n\r\n      if (response.ok) {\r\n        await fetchUsers();\r\n        await fetchStats();\r\n        const statusText = newStatus === 'ACTIVE' ? 'approved' : 'updated';\r\n        toast.success(`User status ${statusText} successfully!`);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error updating user status:', error);\r\n      toast.error('Failed to update user status');\r\n    }\r\n  };\r\n\r\n  // 批量操作\r\n  const handleBulkAction = async (action) => {\r\n    if (selectedUsers.length === 0) {\r\n      toast.error('Please select users first');\r\n      return;\r\n    }\r\n\r\n    const confirmMessage = `Are you sure you want to ${action} ${selectedUsers.length} user(s)?`;\r\n    if (!window.confirm(confirmMessage)) return;\r\n\r\n    try {\r\n      const promises = selectedUsers.map(userId => {\r\n        if (action === 'activate') {\r\n          return updateUserStatus(userId, 'ACTIVE');\r\n        } else if (action === 'suspend') {\r\n          return updateUserStatus(userId, 'SUSPENDED');\r\n        }\r\n      });\r\n\r\n      await Promise.all(promises);\r\n      setSelectedUsers([]);\r\n      toast.success(`Bulk ${action} completed successfully!`);\r\n    } catch (error) {\r\n      toast.error(`Failed to ${action} users`);\r\n    }\r\n  };\r\n\r\n  // 删除用户\r\n  const deleteUser = async (userId) => {\r\n    if (window.confirm('Are you sure you want to delete this user?')) {\r\n      try {\r\n        const response = await fetch(`http://localhost:5000/api/admin/users/${userId}`, {\r\n          method: 'DELETE',\r\n          headers: {\r\n            'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n          }\r\n        });\r\n\r\n        if (response.ok) {\r\n          await fetchUsers();\r\n          await fetchStats();\r\n          toast.success('User deleted successfully');\r\n        }\r\n      } catch (error) {\r\n        console.error('Error deleting user:', error);\r\n        toast.error('Failed to delete user');\r\n      }\r\n    }\r\n  };\r\n\r\n  // 重置表单\r\n  const resetForm = () => {\r\n    setFormData({\r\n      firstName: '',\r\n      lastName: '',\r\n      email: '',\r\n      password: '',\r\n      phone: '',\r\n      city: '',\r\n      country: 'Singapore',\r\n      role: 'customer',\r\n      skills: [],\r\n      experience: 0,\r\n      hourlyRate: 0,\r\n      permissions: [],\r\n      isSuper: false,\r\n      status: 'ACTIVE'\r\n    });\r\n    setShowCreateForm(false);\r\n    setEditingUser(null);\r\n  };\r\n\r\n  // 处理表单输入\r\n  const handleInputChange = (e) => {\r\n    const { name, value, type, checked } = e.target;\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: type === 'checkbox' ? checked : value\r\n    }));\r\n  };\r\n\r\n  // 处理权限变更\r\n  const handlePermissionChange = (permission) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      permissions: prev.permissions.includes(permission)\r\n        ? prev.permissions.filter(p => p !== permission)\r\n        : [...prev.permissions, permission]\r\n    }));\r\n  };\r\n\r\n  // 获取状态样式\r\n  const getStatusStyle = (status) => {\r\n    const styles = {\r\n      'ACTIVE': 'bg-green-100 text-green-800 border-green-200',\r\n      'PENDING': 'bg-yellow-100 text-yellow-800 border-yellow-200',\r\n      'INACTIVE': 'bg-gray-100 text-gray-800 border-gray-200',\r\n      'SUSPENDED': 'bg-red-100 text-red-800 border-red-200'\r\n    };\r\n    return styles[status] || 'bg-gray-100 text-gray-800';\r\n  };\r\n\r\n  // 获取角色样式\r\n  const getRoleStyle = (role) => {\r\n    const styles = {\r\n      'customer': 'bg-blue-100 text-blue-800 border-blue-200',\r\n      'vendor': 'bg-purple-100 text-purple-800 border-purple-200',\r\n      'admin': 'bg-orange-100 text-orange-800 border-orange-200'\r\n    };\r\n    return styles[role] || 'bg-gray-100 text-gray-800';\r\n  };\r\n\r\n  // 用户卡片组件\r\n  const UserCard = ({ userData }) => (\r\n    <motion.div\r\n      initial={{ opacity: 0, y: 20 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      className=\"bg-white rounded-xl shadow-sm border border-gray-200 hover:shadow-md transition-all duration-200 p-6\"\r\n    >\r\n      <div className=\"flex items-start justify-between mb-4\">\r\n        <div className=\"flex items-center space-x-4\">\r\n          <div className=\"relative\">\r\n            <div className=\"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-semibold text-lg\">\r\n              {userData.firstName?.[0] || userData.email[0].toUpperCase()}\r\n            </div>\r\n            {userData.status === 'ACTIVE' && (\r\n              <div className=\"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-white\"></div>\r\n            )}\r\n          </div>\r\n          <div>\r\n            <h3 className=\"font-semibold text-gray-900 text-lg\">\r\n              {userData.fullName || `${userData.firstName} ${userData.lastName}`}\r\n            </h3>\r\n            <div className=\"flex items-center space-x-2 mt-1\">\r\n              <span className={`px-2 py-1 rounded-full text-xs font-medium border ${getRoleStyle(userData.role)}`}>\r\n                {userData.role}\r\n              </span>\r\n              {userData.isSuper && (\r\n                <Crown className=\"w-4 h-4 text-yellow-500\" title=\"Super Admin\" />\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"flex items-center space-x-2\">\r\n          <span className={`px-3 py-1 rounded-full text-xs font-medium border ${getStatusStyle(userData.status)}`}>\r\n            {userData.status}\r\n          </span>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"space-y-2 mb-4\">\r\n        <div className=\"flex items-center text-gray-600 text-sm\">\r\n          <Mail className=\"w-4 h-4 mr-2\" />\r\n          {userData.email}\r\n        </div>\r\n        {userData.phone && (\r\n          <div className=\"flex items-center text-gray-600 text-sm\">\r\n            <Phone className=\"w-4 h-4 mr-2\" />\r\n            {userData.phone}\r\n          </div>\r\n        )}\r\n        {userData.city && (\r\n          <div className=\"flex items-center text-gray-600 text-sm\">\r\n            <MapPin className=\"w-4 h-4 mr-2\" />\r\n            {userData.city}, {userData.country}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {userData.role === 'vendor' && (\r\n        <div className=\"bg-gray-50 rounded-lg p-3 mb-4\">\r\n          <div className=\"grid grid-cols-2 gap-3\">\r\n            {userData.skills && userData.skills.length > 0 && (\r\n              <div>\r\n                <p className=\"text-xs text-gray-500 mb-1\">Skills</p>\r\n                <div className=\"flex flex-wrap gap-1\">\r\n                  {userData.skills.slice(0, 2).map((skill, idx) => (\r\n                    <span key={idx} className=\"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs\">\r\n                      {skill}\r\n                    </span>\r\n                  ))}\r\n                  {userData.skills.length > 2 && (\r\n                    <span className=\"px-2 py-1 bg-gray-200 text-gray-600 rounded-full text-xs\">\r\n                      +{userData.skills.length - 2}\r\n                    </span>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            )}\r\n            <div>\r\n              <p className=\"text-xs text-gray-500 mb-1\">Experience</p>\r\n              <p className=\"text-sm font-medium\">{userData.experience} years</p>\r\n            </div>\r\n            {userData.hourlyRate > 0 && (\r\n              <div>\r\n                <p className=\"text-xs text-gray-500 mb-1\">Rate</p>\r\n                <p className=\"text-sm font-medium\">${userData.hourlyRate}/hr</p>\r\n              </div>\r\n            )}\r\n            <div>\r\n              <p className=\"text-xs text-gray-500 mb-1\">Rating</p>\r\n              <div className=\"flex items-center\">\r\n                <Star className=\"w-4 h-4 text-yellow-500 mr-1\" />\r\n                <span className=\"text-sm font-medium\">{userData.rating || 0}/5</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"flex items-center justify-between text-sm text-gray-500 mb-4\">\r\n        <span>Joined: {new Date(userData.createdAt).toLocaleDateString()}</span>\r\n        <span>\r\n          Last login: {userData.lastLogin ? new Date(userData.lastLogin).toLocaleDateString() : 'Never'}\r\n        </span>\r\n      </div>\r\n\r\n      <div className=\"flex items-center justify-between pt-4 border-t border-gray-100\">\r\n        {userData.status === 'PENDING' ? (\r\n          <div className=\"flex space-x-2\">\r\n            <button\r\n              onClick={() => updateUserStatus(userData._id, 'ACTIVE')}\r\n              className=\"flex items-center px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm\"\r\n            >\r\n              <UserCheck className=\"w-4 h-4 mr-1\" />\r\n              Approve\r\n            </button>\r\n            <button\r\n              onClick={() => updateUserStatus(userData._id, 'SUSPENDED')}\r\n              className=\"flex items-center px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm\"\r\n            >\r\n              <UserX className=\"w-4 h-4 mr-1\" />\r\n              Reject\r\n            </button>\r\n          </div>\r\n        ) : (\r\n          <div className=\"flex space-x-2\">\r\n            <button\r\n              onClick={() => updateUserStatus(userData._id, userData.status === 'ACTIVE' ? 'SUSPENDED' : 'ACTIVE')}\r\n              className={`flex items-center px-3 py-2 rounded-lg transition-colors text-sm ${\r\n                userData.status === 'ACTIVE'\r\n                  ? 'bg-red-100 text-red-700 hover:bg-red-200'\r\n                  : 'bg-green-100 text-green-700 hover:bg-green-200'\r\n              }`}\r\n            >\r\n              {userData.status === 'ACTIVE' ? (\r\n                <>\r\n                  <UserX className=\"w-4 h-4 mr-1\" />\r\n                  Suspend\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <UserCheck className=\"w-4 h-4 mr-1\" />\r\n                  Activate\r\n                </>\r\n              )}\r\n            </button>\r\n          </div>\r\n        )}\r\n        \r\n        <div className=\"flex items-center space-x-2\">\r\n          <button className=\"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100\">\r\n            <Edit2 className=\"w-4 h-4\" />\r\n          </button>\r\n          {user.isSuper && (\r\n            <button\r\n              onClick={() => deleteUser(userData._id)}\r\n              className=\"p-2 text-red-400 hover:text-red-600 rounded-lg hover:bg-red-50\"\r\n            >\r\n              <Trash2 className=\"w-4 h-4\" />\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </motion.div>\r\n  );\r\n\r\n  if (user?.role !== 'admin') {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\r\n        <div className=\"text-center\">\r\n          <AlertCircle className=\"w-16 h-16 text-red-500 mx-auto mb-4\" />\r\n          <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">Access Denied</h2>\r\n          <p className=\"text-gray-600\">Admin privileges required to access this page.</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      {/* Header Section */}\r\n      <section className=\"bg-gradient-to-r from-orange-600 to-orange-600 text-white py-20\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"flex flex-col lg:flex-row lg:items-center lg:justify-between\">\r\n            <div className=\"mb-4 lg:mb-0\">\r\n              <h1 className=\"text-3xl font-bold text-white\">User Management</h1>\r\n              <p className=\"text-orange-100 mt-1\">Manage users, approve vendors, and monitor system activity</p>\r\n              {stats.pendingUsers > 0 && (\r\n                <div className=\"flex items-center mt-2 px-3 py-2 bg-orange-800 text-orange-100 rounded-lg inline-flex\">\r\n                  <AlertCircle className=\"w-4 h-4 mr-2\" />\r\n                  {stats.pendingUsers} user{stats.pendingUsers > 1 ? 's' : ''} pending approval\r\n                </div>\r\n              )}\r\n            </div>\r\n            \r\n            <div className=\"flex flex-wrap gap-3\">\r\n              {stats.pendingUsers > 0 && (\r\n                <button\r\n                  onClick={() => {\r\n                    setSelectedStatus('PENDING');\r\n                    setSelectedRole('vendor');\r\n                    setCurrentPage(1);\r\n                  }}\r\n                  className=\"flex items-center px-4 py-2 bg-orange-800 text-white rounded-lg hover:bg-orange-900 transition-colors\"\r\n                >\r\n                  <Clock className=\"w-4 h-4 mr-2\" />\r\n                  View Pending ({stats.pendingUsers})\r\n                </button>\r\n              )}\r\n              \r\n              <button\r\n                onClick={() => fetchUsers()}\r\n                className=\"flex items-center px-4 py-2 bg-white text-orange-600 rounded-lg hover:bg-orange-50 transition-colors\"\r\n              >\r\n                <RefreshCw className=\"w-4 h-4 mr-2\" />\r\n                Refresh\r\n              </button>\r\n              \r\n              {user.isSuper && (\r\n                <button\r\n                  onClick={() => setShowCreateForm(true)}\r\n                  className=\"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\r\n                >\r\n                  <Plus className=\"w-4 h-4 mr-2\" />\r\n                  Create User\r\n                </button>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n        {/* Statistics Cards */}\r\n        <div className=\"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 mb-8\">\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            className=\"bg-white rounded-xl p-6 shadow-sm border border-gray-200\"\r\n          >\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm text-gray-500\">Total Users</p>\r\n                <p className=\"text-2xl font-bold text-blue-600\">{stats.totalUsers || 0}</p>\r\n              </div>\r\n              <div className=\"p-3 bg-blue-100 rounded-lg\">\r\n                <Users className=\"w-6 h-6 text-blue-600\" />\r\n              </div>\r\n            </div>\r\n          </motion.div>\r\n\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ delay: 0.1 }}\r\n            className=\"bg-white rounded-xl p-6 shadow-sm border border-gray-200\"\r\n          >\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm text-gray-500\">Customers</p>\r\n                <p className=\"text-2xl font-bold text-green-600\">{stats.totalCustomers || 0}</p>\r\n              </div>\r\n              <div className=\"p-3 bg-green-100 rounded-lg\">\r\n                <UserCheck className=\"w-6 h-6 text-green-600\" />\r\n              </div>\r\n            </div>\r\n          </motion.div>\r\n\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ delay: 0.2 }}\r\n            className=\"bg-white rounded-xl p-6 shadow-sm border border-gray-200\"\r\n          >\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm text-gray-500\">Vendors</p>\r\n                <p className=\"text-2xl font-bold text-purple-600\">{stats.totalVendors || 0}</p>\r\n              </div>\r\n              <div className=\"p-3 bg-purple-100 rounded-lg\">\r\n                <Shield className=\"w-6 h-6 text-purple-600\" />\r\n              </div>\r\n            </div>\r\n          </motion.div>\r\n\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ delay: 0.3 }}\r\n            className=\"bg-white rounded-xl p-6 shadow-sm border border-gray-200\"\r\n          >\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm text-gray-500\">Admins</p>\r\n                <p className=\"text-2xl font-bold text-orange-600\">{stats.totalAdmins || 0}</p>\r\n              </div>\r\n              <div className=\"p-3 bg-orange-100 rounded-lg\">\r\n                <Crown className=\"w-6 h-6 text-orange-600\" />\r\n              </div>\r\n            </div>\r\n          </motion.div>\r\n\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ delay: 0.4 }}\r\n            className=\"bg-white rounded-xl p-6 shadow-sm border border-gray-200\"\r\n          >\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm text-gray-500\">Active</p>\r\n                <p className=\"text-2xl font-bold text-green-600\">{stats.activeUsers || 0}</p>\r\n              </div>\r\n              <div className=\"p-3 bg-green-100 rounded-lg\">\r\n                <CheckCircle className=\"w-6 h-6 text-green-600\" />\r\n              </div>\r\n            </div>\r\n          </motion.div>\r\n\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ delay: 0.5 }}\r\n            className=\"bg-white rounded-xl p-6 shadow-sm border border-gray-200\"\r\n          >\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm text-gray-500\">Pending</p>\r\n                <p className=\"text-2xl font-bold text-yellow-600\">{stats.pendingUsers || 0}</p>\r\n              </div>\r\n              <div className=\"p-3 bg-yellow-100 rounded-lg\">\r\n                <Clock className=\"w-6 h-6 text-yellow-600\" />\r\n              </div>\r\n            </div>\r\n          </motion.div>\r\n        </div>\r\n\r\n        {/* Filters and Search */}\r\n        <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-8\">\r\n          <div className=\"flex flex-col lg:flex-row gap-4\">\r\n            {/* Search */}\r\n            <div className=\"flex-1\">\r\n              <div className=\"relative\">\r\n                <div className=\"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none\">\r\n                  <Search className=\"h-5 w-5 text-gray-400\" />\r\n                </div>\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Search users by name, email, or phone...\"\r\n                  value={searchQuery}\r\n                  onChange={(e) => handleSearch(e.target.value)}\r\n                  className=\"block w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {/* Filters */}\r\n            <div className=\"flex flex-wrap gap-3\">\r\n              <select\r\n                value={selectedRole}\r\n                onChange={(e) => handleFilter('role', e.target.value)}\r\n                className=\"border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent min-w-[140px]\"\r\n              >\r\n                {roleOptions.map(option => (\r\n                  <option key={option.value} value={option.value}>\r\n                    {option.label}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n\r\n              <select\r\n                value={selectedStatus}\r\n                onChange={(e) => handleFilter('status', e.target.value)}\r\n                className=\"border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent min-w-[140px]\"\r\n              >\r\n                {statusOptions.map(option => (\r\n                  <option key={option.value} value={option.value}>\r\n                    {option.label}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n\r\n              <select\r\n                value={sortBy}\r\n                onChange={(e) => setSortBy(e.target.value)}\r\n                className=\"border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent min-w-[140px]\"\r\n              >\r\n                {sortOptions.map(option => (\r\n                  <option key={option.value} value={option.value}>\r\n                    {option.label}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n\r\n              {/* View Toggle */}\r\n              <div className=\"flex border border-gray-300 rounded-lg overflow-hidden\">\r\n                <button\r\n                  onClick={() => setViewMode('cards')}\r\n                  className={`p-3 ${viewMode === 'cards' ? 'bg-blue-600 text-white' : 'bg-white text-gray-600 hover:bg-gray-50'}`}\r\n                >\r\n                  <Grid className=\"w-5 h-5\" />\r\n                </button>\r\n                <button\r\n                  onClick={() => setViewMode('table')}\r\n                  className={`p-3 ${viewMode === 'table' ? 'bg-blue-600 text-white' : 'bg-white text-gray-600 hover:bg-gray-50'}`}\r\n                >\r\n                  <List className=\"w-5 h-5\" />\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Bulk Actions */}\r\n        {selectedUsers.length > 0 && (\r\n          <motion.div\r\n            initial={{ opacity: 0, y: -20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            className=\"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6\"\r\n          >\r\n            <div className=\"flex items-center justify-between\">\r\n              <span className=\"text-sm text-blue-800\">\r\n                {selectedUsers.length} user{selectedUsers.length > 1 ? 's' : ''} selected\r\n              </span>\r\n              <div className=\"flex gap-2\">\r\n                <button\r\n                  onClick={() => handleBulkAction('activate')}\r\n                  className=\"px-3 py-1 bg-green-600 text-white rounded-lg hover:bg-green-700 text-sm\"\r\n                >\r\n                  Activate\r\n                </button>\r\n                <button\r\n                  onClick={() => handleBulkAction('suspend')}\r\n                  className=\"px-3 py-1 bg-red-600 text-white rounded-lg hover:bg-red-700 text-sm\"\r\n                >\r\n                  Suspend\r\n                </button>\r\n                <button\r\n                  onClick={() => setSelectedUsers([])}\r\n                  className=\"px-3 py-1 bg-gray-500 text-white rounded-lg hover:bg-gray-600 text-sm\"\r\n                >\r\n                  Clear\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </motion.div>\r\n        )}\r\n\r\n        {/* User List */}\r\n        {loading ? (\r\n          <div className=\"flex items-center justify-center py-12\">\r\n            <div className=\"flex flex-col items-center\">\r\n              <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mb-4\"></div>\r\n              <p className=\"text-gray-600\">Loading users...</p>\r\n            </div>\r\n          </div>\r\n        ) : users.length > 0 ? (\r\n          <div className={viewMode === 'cards' ? 'grid gap-6 md:grid-cols-2 lg:grid-cols-3' : 'space-y-4'}>\r\n            {users.map((userData) => (\r\n              <UserCard key={userData._id} userData={userData} />\r\n            ))}\r\n          </div>\r\n        ) : (\r\n          <div className=\"text-center py-12\">\r\n            <Users className=\"w-16 h-16 text-gray-300 mx-auto mb-4\" />\r\n            <h3 className=\"text-xl font-medium text-gray-900 mb-2\">No Users Found</h3>\r\n            <p className=\"text-gray-600 mb-4\">\r\n              {searchQuery || selectedRole || selectedStatus\r\n                ? 'No users match your search criteria.'\r\n                : 'No users have been created yet.'}\r\n            </p>\r\n            {(searchQuery || selectedRole || selectedStatus) && (\r\n              <button\r\n                onClick={() => {\r\n                  setSearchQuery('');\r\n                  setSelectedRole('');\r\n                  setSelectedStatus('');\r\n                  setCurrentPage(1);\r\n                }}\r\n                className=\"text-blue-600 hover:text-blue-700\"\r\n              >\r\n                Clear filters\r\n              </button>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Pagination */}\r\n        {totalPages > 1 && (\r\n          <div className=\"mt-8 flex justify-center\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <button\r\n                onClick={() => setCurrentPage(prev => Math.max(prev - 1, 1))}\r\n                disabled={currentPage === 1}\r\n                className=\"px-4 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\r\n              >\r\n                Previous\r\n              </button>\r\n              \r\n              {[...Array(Math.min(totalPages, 5))].map((_, index) => {\r\n                const page = index + Math.max(1, currentPage - 2);\r\n                if (page > totalPages) return null;\r\n                \r\n                return (\r\n                  <button\r\n                    key={page}\r\n                    onClick={() => setCurrentPage(page)}\r\n                    className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n                      page === currentPage\r\n                        ? 'text-white bg-blue-600'\r\n                        : 'text-gray-500 bg-white border border-gray-300 hover:bg-gray-50'\r\n                    }`}\r\n                  >\r\n                    {page}\r\n                  </button>\r\n                );\r\n              })}\r\n              \r\n              <button\r\n                onClick={() => setCurrentPage(prev => Math.min(prev + 1, totalPages))}\r\n                disabled={currentPage === totalPages}\r\n                className=\"px-4 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\r\n              >\r\n                Next\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Create User Modal */}\r\n        <AnimatePresence>\r\n          {showCreateForm && (\r\n            <motion.div\r\n              initial={{ opacity: 0 }}\r\n              animate={{ opacity: 1 }}\r\n              exit={{ opacity: 0 }}\r\n              className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\"\r\n            >\r\n              <motion.div\r\n                initial={{ scale: 0.95, opacity: 0 }}\r\n                animate={{ scale: 1, opacity: 1 }}\r\n                exit={{ scale: 0.95, opacity: 0 }}\r\n                className=\"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\"\r\n              >\r\n                <div className=\"p-6\">\r\n                  <div className=\"flex justify-between items-center mb-6\">\r\n                    <h2 className=\"text-2xl font-bold text-gray-900\">Create New User</h2>\r\n                    <button\r\n                      onClick={resetForm}\r\n                      className=\"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100\"\r\n                    >\r\n                      <XCircle className=\"w-6 h-6\" />\r\n                    </button>\r\n                  </div>\r\n\r\n                  <form onSubmit={handleCreateUser} className=\"space-y-6\">\r\n                    <div className=\"grid md:grid-cols-2 gap-4\">\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                          First Name *\r\n                        </label>\r\n                        <input\r\n                          type=\"text\"\r\n                          name=\"firstName\"\r\n                          value={formData.firstName}\r\n                          onChange={handleInputChange}\r\n                          required\r\n                          className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                        />\r\n                      </div>\r\n\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                          Last Name *\r\n                        </label>\r\n                        <input\r\n                          type=\"text\"\r\n                          name=\"lastName\"\r\n                          value={formData.lastName}\r\n                          onChange={handleInputChange}\r\n                          required\r\n                          className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                        />\r\n                      </div>\r\n\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                          Email *\r\n                        </label>\r\n                        <input\r\n                          type=\"email\"\r\n                          name=\"email\"\r\n                          value={formData.email}\r\n                          onChange={handleInputChange}\r\n                          required\r\n                          className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                        />\r\n                      </div>\r\n\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                          Phone\r\n                        </label>\r\n                        <input\r\n                          type=\"tel\"\r\n                          name=\"phone\"\r\n                          value={formData.phone}\r\n                          onChange={handleInputChange}\r\n                          className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                        />\r\n                      </div>\r\n\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                          Role *\r\n                        </label>\r\n                        <select\r\n                          name=\"role\"\r\n                          value={formData.role}\r\n                          onChange={handleInputChange}\r\n                          className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                        >\r\n                          <option value=\"customer\">Customer</option>\r\n                          <option value=\"vendor\">Vendor</option>\r\n                          {user?.role === 'admin' && <option value=\"admin\">Admin</option>}\r\n                        </select>\r\n                      </div>\r\n\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                          Status *\r\n                        </label>\r\n                        <select\r\n                          name=\"status\"\r\n                          value={formData.status}\r\n                          onChange={handleInputChange}\r\n                          className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                        >\r\n                          <option value=\"ACTIVE\">Active</option>\r\n                          <option value=\"PENDING\">Pending</option>\r\n                          <option value=\"INACTIVE\">Inactive</option>\r\n                          <option value=\"SUSPENDED\">Suspended</option>\r\n                        </select>\r\n                      </div>\r\n\r\n                      <div className=\"md:col-span-2\">\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                          Password *\r\n                        </label>\r\n                        <input\r\n                          type=\"password\"\r\n                          name=\"password\"\r\n                          value={formData.password}\r\n                          onChange={handleInputChange}\r\n                          required\r\n                          className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* Vendor specific fields */}\r\n                    {formData.role === 'vendor' && (\r\n                      <div className=\"border-t pt-6\">\r\n                        <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Vendor Information</h3>\r\n                        <div className=\"grid md:grid-cols-2 gap-4\">\r\n                          <div>\r\n                            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                              Skills (comma-separated)\r\n                            </label>\r\n                            <input\r\n                              type=\"text\"\r\n                              placeholder=\"e.g. Plumbing, Electrical, Carpentry\"\r\n                              onChange={(e) => {\r\n                                const skills = e.target.value.split(',').map(s => s.trim()).filter(s => s);\r\n                                setFormData({...formData, skills});\r\n                              }}\r\n                              className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                            />\r\n                          </div>\r\n                          <div>\r\n                            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                              Years of Experience\r\n                            </label>\r\n                            <input\r\n                              type=\"number\"\r\n                              name=\"experience\"\r\n                              value={formData.experience}\r\n                              onChange={handleInputChange}\r\n                              min=\"0\"\r\n                              className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                            />\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n\r\n                    {/* Admin specific fields */}\r\n                    {formData.role === 'admin' && (\r\n                      <div className=\"border-t pt-6\">\r\n                        <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Admin Permissions</h3>\r\n                        <div className=\"grid md:grid-cols-2 gap-3\">\r\n                          {permissionOptions.map(permission => (\r\n                            <div key={permission.value} className=\"flex items-center\">\r\n                              <input\r\n                                type=\"checkbox\"\r\n                                id={permission.value}\r\n                                checked={formData.permissions.includes(permission.value)}\r\n                                onChange={() => handlePermissionChange(permission.value)}\r\n                                className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\r\n                              />\r\n                              <label htmlFor={permission.value} className=\"ml-2 block text-sm text-gray-700\">\r\n                                {permission.label}\r\n                              </label>\r\n                            </div>\r\n                          ))}\r\n                        </div>\r\n\r\n                        {user?.isSuper && (\r\n                          <div className=\"mt-4\">\r\n                            <div className=\"flex items-center\">\r\n                              <input\r\n                                type=\"checkbox\"\r\n                                name=\"isSuper\"\r\n                                checked={formData.isSuper}\r\n                                onChange={handleInputChange}\r\n                                className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\r\n                              />\r\n                              <label className=\"ml-2 block text-sm font-medium text-gray-700\">\r\n                                Super Administrator\r\n                              </label>\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    )}\r\n\r\n                    <div className=\"flex gap-4 pt-6 border-t\">\r\n                      <button\r\n                        type=\"submit\"\r\n                        className=\"flex-1 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors font-medium\"\r\n                      >\r\n                        Create {formData.role.charAt(0).toUpperCase() + formData.role.slice(1)}\r\n                      </button>\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={resetForm}\r\n                        className=\"flex-1 bg-gray-100 text-gray-700 px-6 py-3 rounded-lg hover:bg-gray-200 transition-colors font-medium\"\r\n                      >\r\n                        Cancel\r\n                      </button>\r\n                    </div>\r\n                  </form>\r\n                </div>\r\n              </motion.div>\r\n            </motion.div>\r\n          )}\r\n        </AnimatePresence>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserManagement;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}