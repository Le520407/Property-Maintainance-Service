{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useLocation}from'react-router-dom';import{motion}from'framer-motion';import{User,Calendar,DollarSign,Star,TrendingUp,Award,Clock,CheckCircle,AlertCircle,Settings,FileText,Activity,BarChart3,Users,MapPin,Plus,Edit2,Trash2,Save,X,ArrowLeft,CreditCard,MessageSquare,Shield,History}from'lucide-react';import{api}from'../../services/api';import toast from'react-hot-toast';import VendorPricingManagement from'../../components/vendor/VendorPricingManagement';import{CurrentPlanTab,UpgradePlansTab,UsageStatsTab,BillingHistoryTab}from'../../components/vendor/VendorMembership';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProfileTab=_ref=>{let{vendor,onUpdate,activeSection:initialSection}=_ref;const[activeSection,setActiveSection]=useState(initialSection||'services');const[servicePackages,setServicePackages]=useState(vendor.servicePackages||[]);const[priceLists,setPriceLists]=useState(vendor.priceLists||[]);const[availabilitySchedule,setAvailabilitySchedule]=useState(vendor.availabilitySchedule||[]);const[editingPackage,setEditingPackage]=useState(null);const[editingPrice,setEditingPrice]=useState(null);const[editingSchedule,setEditingSchedule]=useState(null);const[loading,setLoading]=useState(false);const serviceCategories=['plumbing','electrical','cleaning','gardening','painting','security','hvac','general'];const days=['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];const saveProfile=async updatedData=>{try{setLoading(true);await api.vendor.updateProfile(updatedData);toast.success('Profile updated successfully!');onUpdate();}catch(error){console.error('Error updating profile:',error);toast.error('Failed to update profile');}finally{setLoading(false);}};const handleAddServicePackage=()=>{const newPackage={id:Date.now(),name:'',description:'',category:'general',price:0,duration:1,isActive:true};setEditingPackage(newPackage);};const handleSaveServicePackage=async()=>{if(!editingPackage.name||!editingPackage.description||editingPackage.price<=0){toast.error('Please fill in all required fields');return;}const updatedPackages=editingPackage.id&&servicePackages.find(p=>p.id===editingPackage.id)?servicePackages.map(p=>p.id===editingPackage.id?editingPackage:p):[...servicePackages,{...editingPackage,id:editingPackage._id||Date.now()}];setServicePackages(updatedPackages);await saveProfile({servicePackages:updatedPackages});setEditingPackage(null);};const handleDeleteServicePackage=async packageId=>{const updatedPackages=servicePackages.filter(p=>(p.id||p._id)!==packageId);setServicePackages(updatedPackages);await saveProfile({servicePackages:updatedPackages});};const handleAddPriceList=()=>{const newPriceList={id:Date.now(),category:'general',baseRate:0,emergencyRate:0,weekendRate:0,nightRate:0};setEditingPrice(newPriceList);};const handleSavePriceList=async()=>{if(editingPrice.baseRate<=0){toast.error('Base rate must be greater than 0');return;}const updatedPriceLists=editingPrice.id&&priceLists.find(p=>p.id===editingPrice.id)?priceLists.map(p=>p.id===editingPrice.id?editingPrice:p):[...priceLists,{...editingPrice,id:editingPrice._id||Date.now()}];setPriceLists(updatedPriceLists);await saveProfile({priceLists:updatedPriceLists});setEditingPrice(null);};const handleDeletePriceList=async priceId=>{const updatedPriceLists=priceLists.filter(p=>(p.id||p._id)!==priceId);setPriceLists(updatedPriceLists);await saveProfile({priceLists:updatedPriceLists});};const handleAddAvailabilitySlot=()=>{const newSlot={id:Date.now(),dayOfWeek:1,startTime:'09:00',endTime:'17:00',isAvailable:true};setEditingSchedule(newSlot);};const handleSaveAvailabilitySlot=async()=>{if(editingSchedule.startTime>=editingSchedule.endTime){toast.error('End time must be after start time');return;}const updatedSchedule=editingSchedule.id&&availabilitySchedule.find(s=>s.id===editingSchedule.id)?availabilitySchedule.map(s=>s.id===editingSchedule.id?editingSchedule:s):[...availabilitySchedule,{...editingSchedule,id:editingSchedule._id||Date.now()}];setAvailabilitySchedule(updatedSchedule);await saveProfile({availabilitySchedule:updatedSchedule});setEditingSchedule(null);};const handleDeleteAvailabilitySlot=async slotId=>{const updatedSchedule=availabilitySchedule.filter(s=>(s.id||s._id)!==slotId);setAvailabilitySchedule(updatedSchedule);await saveProfile({availabilitySchedule:updatedSchedule});};const sections=[{id:'services',name:'Service Packages',icon:FileText},{id:'pricing',name:'Price Lists',icon:DollarSign},{id:'schedule',name:'Availability',icon:Calendar}];return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"border-b border-gray-200\",children:/*#__PURE__*/_jsx(\"nav\",{className:\"flex space-x-8\",children:sections.map(section=>{const Icon=section.icon;return/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveSection(section.id),className:`flex items-center py-2 px-1 border-b-2 font-medium text-sm ${activeSection===section.id?'border-orange-500 text-orange-600':'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`,children:[/*#__PURE__*/_jsx(Icon,{className:\"h-4 w-4 mr-2\"}),section.name]},section.id);})})}),activeSection==='services'&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:\"Service Packages\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleAddServicePackage,className:\"flex items-center px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700\",children:[/*#__PURE__*/_jsx(Plus,{className:\"h-4 w-4 mr-2\"}),\"Add Package\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[servicePackages.map(pkg=>/*#__PURE__*/_jsx(\"div\",{className:\"border border-gray-200 rounded-lg p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900\",children:pkg.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mt-1\",children:pkg.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 mt-2\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500\",children:[\"Category: \",pkg.category]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500\",children:[\"Price: $\",pkg.price]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500\",children:[\"Duration: \",pkg.duration,\"h\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setEditingPackage(pkg),className:\"p-2 text-gray-400 hover:text-orange-600\",children:/*#__PURE__*/_jsx(Edit2,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteServicePackage(pkg.id||pkg._id),className:\"p-2 text-gray-400 hover:text-red-600\",children:/*#__PURE__*/_jsx(Trash2,{className:\"h-4 w-4\"})})]})]})},pkg.id||pkg._id)),servicePackages.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(FileText,{className:\"mx-auto h-8 w-8 text-gray-400 mb-2\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"No service packages yet\"})]})]}),editingPackage&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-6 w-full max-w-md\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:editingPackage._id?'Edit Service Package':'Add Service Package'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setEditingPackage(null),className:\"text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(X,{className:\"h-5 w-5\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Package Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:editingPackage.name,onChange:e=>setEditingPackage({...editingPackage,name:e.target.value}),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500\",placeholder:\"e.g., Basic Plumbing Service\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Description *\"}),/*#__PURE__*/_jsx(\"textarea\",{value:editingPackage.description,onChange:e=>setEditingPackage({...editingPackage,description:e.target.value}),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500\",rows:3,placeholder:\"Describe what's included in this package\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Category *\"}),/*#__PURE__*/_jsx(\"select\",{value:editingPackage.category,onChange:e=>setEditingPackage({...editingPackage,category:e.target.value}),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500\",children:serviceCategories.map(category=>/*#__PURE__*/_jsx(\"option\",{value:category,children:category.charAt(0).toUpperCase()+category.slice(1)},category))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Price ($) *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:editingPackage.price,onChange:e=>setEditingPackage({...editingPackage,price:parseFloat(e.target.value)||0}),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500\",min:\"0\",step:\"0.01\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Duration (hours) *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:editingPackage.duration,onChange:e=>setEditingPackage({...editingPackage,duration:parseFloat(e.target.value)||0}),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500\",min:\"0.5\",step:\"0.5\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-end space-x-3 mt-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setEditingPackage(null),className:\"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\",children:\"Cancel\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleSaveServicePackage,disabled:loading,className:\"flex items-center px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:opacity-50\",children:[/*#__PURE__*/_jsx(Save,{className:\"h-4 w-4 mr-2\"}),loading?'Saving...':'Save Package']})]})]})})]}),activeSection==='pricing'&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:\"Price Lists\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleAddPriceList,className:\"flex items-center px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700\",children:[/*#__PURE__*/_jsx(Plus,{className:\"h-4 w-4 mr-2\"}),\"Add Price List\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[priceLists.map(priceList=>/*#__PURE__*/_jsx(\"div\",{className:\"border border-gray-200 rounded-lg p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-medium text-gray-900 capitalize\",children:[priceList.category,\" Services\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-4 mt-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-500\",children:\"Base Rate:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"ml-2 font-medium\",children:[\"$\",priceList.baseRate,\"/hr\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-500\",children:\"Emergency:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"ml-2 font-medium\",children:[\"$\",priceList.emergencyRate,\"/hr\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-500\",children:\"Weekend:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"ml-2 font-medium\",children:[\"$\",priceList.weekendRate,\"/hr\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-500\",children:\"Night:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"ml-2 font-medium\",children:[\"$\",priceList.nightRate,\"/hr\"]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setEditingPrice(priceList),className:\"p-2 text-gray-400 hover:text-orange-600\",children:/*#__PURE__*/_jsx(Edit2,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeletePriceList(priceList.id||priceList._id),className:\"p-2 text-gray-400 hover:text-red-600\",children:/*#__PURE__*/_jsx(Trash2,{className:\"h-4 w-4\"})})]})]})},priceList.id||priceList._id)),priceLists.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(DollarSign,{className:\"mx-auto h-8 w-8 text-gray-400 mb-2\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"No price lists yet\"})]})]}),editingPrice&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-6 w-full max-w-md\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:editingPrice._id?'Edit Price List':'Add Price List'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setEditingPrice(null),className:\"text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(X,{className:\"h-5 w-5\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Service Category *\"}),/*#__PURE__*/_jsx(\"select\",{value:editingPrice.category,onChange:e=>setEditingPrice({...editingPrice,category:e.target.value}),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500\",children:serviceCategories.map(category=>/*#__PURE__*/_jsx(\"option\",{value:category,children:category.charAt(0).toUpperCase()+category.slice(1)},category))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Base Rate ($/hr) *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:editingPrice.baseRate,onChange:e=>setEditingPrice({...editingPrice,baseRate:parseFloat(e.target.value)||0}),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500\",min:\"0\",step:\"0.01\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Emergency Rate ($/hr)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:editingPrice.emergencyRate,onChange:e=>setEditingPrice({...editingPrice,emergencyRate:parseFloat(e.target.value)||0}),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500\",min:\"0\",step:\"0.01\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Weekend Rate ($/hr)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:editingPrice.weekendRate,onChange:e=>setEditingPrice({...editingPrice,weekendRate:parseFloat(e.target.value)||0}),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500\",min:\"0\",step:\"0.01\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Night Rate ($/hr)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:editingPrice.nightRate,onChange:e=>setEditingPrice({...editingPrice,nightRate:parseFloat(e.target.value)||0}),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500\",min:\"0\",step:\"0.01\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-end space-x-3 mt-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setEditingPrice(null),className:\"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\",children:\"Cancel\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleSavePriceList,disabled:loading,className:\"flex items-center px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:opacity-50\",children:[/*#__PURE__*/_jsx(Save,{className:\"h-4 w-4 mr-2\"}),loading?'Saving...':'Save Price List']})]})]})})]}),activeSection==='schedule'&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:\"Availability Schedule\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleAddAvailabilitySlot,className:\"flex items-center px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700\",children:[/*#__PURE__*/_jsx(Plus,{className:\"h-4 w-4 mr-2\"}),\"Add Time Slot\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[availabilitySchedule.map(slot=>/*#__PURE__*/_jsx(\"div\",{className:\"border border-gray-200 rounded-lg p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900\",children:days[slot.dayOfWeek]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 mt-1\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-600\",children:[slot.startTime,\" - \",slot.endTime]}),/*#__PURE__*/_jsx(\"span\",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${slot.isAvailable?'bg-green-100 text-green-800':'bg-red-100 text-red-800'}`,children:slot.isAvailable?'Available':'Unavailable'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setEditingSchedule(slot),className:\"p-2 text-gray-400 hover:text-orange-600\",children:/*#__PURE__*/_jsx(Edit2,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteAvailabilitySlot(slot.id||slot._id),className:\"p-2 text-gray-400 hover:text-red-600\",children:/*#__PURE__*/_jsx(Trash2,{className:\"h-4 w-4\"})})]})]})},slot.id||slot._id)),availabilitySchedule.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"mx-auto h-8 w-8 text-gray-400 mb-2\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"No availability schedule set\"})]})]}),editingSchedule&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-6 w-full max-w-md\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:editingSchedule._id?'Edit Time Slot':'Add Time Slot'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setEditingSchedule(null),className:\"text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(X,{className:\"h-5 w-5\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Day of Week *\"}),/*#__PURE__*/_jsx(\"select\",{value:editingSchedule.dayOfWeek,onChange:e=>setEditingSchedule({...editingSchedule,dayOfWeek:parseInt(e.target.value)}),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500\",children:days.map((day,index)=>/*#__PURE__*/_jsx(\"option\",{value:index,children:day},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Start Time *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"time\",value:editingSchedule.startTime,onChange:e=>setEditingSchedule({...editingSchedule,startTime:e.target.value}),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"End Time *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"time\",value:editingSchedule.endTime,onChange:e=>setEditingSchedule({...editingSchedule,endTime:e.target.value}),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:editingSchedule.isAvailable,onChange:e=>setEditingSchedule({...editingSchedule,isAvailable:e.target.checked}),className:\"h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded\"}),/*#__PURE__*/_jsx(\"label\",{className:\"ml-2 block text-sm text-gray-700\",children:\"Available for bookings\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-end space-x-3 mt-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setEditingSchedule(null),className:\"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\",children:\"Cancel\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleSaveAvailabilitySlot,disabled:loading,className:\"flex items-center px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:opacity-50\",children:[/*#__PURE__*/_jsx(Save,{className:\"h-4 w-4 mr-2\"}),loading?'Saving...':'Save Slot']})]})]})})]})]});};const VendorDashboardPage=()=>{var _vendor$userId,_mainNavigation$find,_mainNavigation$find$;const location=useLocation();const[dashboardData,setDashboardData]=useState(null);const[loading,setLoading]=useState(true);// Handle URL parameters for navigation\nconst searchParams=new URLSearchParams(location.search);const sectionFromUrl=searchParams.get('section');const tabFromUrl=searchParams.get('tab');const[activeSection,setActiveSection]=useState(sectionFromUrl||'dashboard');const[activeTab,setActiveTab]=useState(tabFromUrl||'overview');useEffect(()=>{fetchDashboardData();},[]);const fetchDashboardData=async()=>{try{setLoading(true);console.log('🔄 Fetching vendor dashboard data...');// Check if user is logged in\nconst token=localStorage.getItem('token');console.log('🔑 Token exists:',!!token);if(token){// Decode token to check user info\nconst payload=JSON.parse(atob(token.split('.')[1]));console.log('👤 User info:',{id:payload._id,role:payload.role,email:payload.email});}const response=await api.vendor.getDashboard();console.log('✅ Dashboard data received:',response);setDashboardData(response);}catch(error){console.error('❌ Error fetching dashboard data:',error);console.error('📝 Error details:',{message:error.message,stack:error.stack});// Auto-load demo data as fallback\nconsole.log('🔄 Auto-loading demo data as fallback...');setDashboardData({vendor:{userId:{firstName:'Demo'},verificationStatus:'VERIFIED',servicePackages:[],priceLists:[],availabilitySchedule:[],serviceCategories:['plumbing'],serviceArea:'Singapore',qualityScore:4.5,onTimePercentage:95,customerSatisfactionScore:4.7,currentRating:4.8,totalJobsCompleted:28},stats:{jobs:{},earnings:{},ratings:{}},recentJobs:[]});toast.error(`API failed, loaded demo data. Error: ${error.message}`);}finally{setLoading(false);}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 border-4 border-orange-600 border-t-transparent rounded-full animate-spin\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600 font-medium\",children:\"Loading dashboard...\"})]})});}if(!dashboardData){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"mx-auto h-12 w-12 text-red-500 mb-4\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900 mb-2\",children:\"Failed to load dashboard\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-4\",children:\"Check the browser console for detailed error information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:fetchDashboardData,className:\"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700\",children:\"Retry\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setDashboardData({vendor:{userId:{firstName:'Demo'},verificationStatus:'VERIFIED',servicePackages:[],priceLists:[],availabilitySchedule:[],serviceCategories:['plumbing'],serviceArea:'Singapore',qualityScore:4.5,onTimePercentage:95,customerSatisfactionScore:4.7},stats:{jobs:{},earnings:{},ratings:{}},recentJobs:[]}),className:\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\",children:\"Load Demo Data\"})]})]})});}const{vendor,stats,recentJobs}=dashboardData;const mainNavigation=[{name:'Dashboard',section:'dashboard',icon:BarChart3,description:'Business Overview',tabs:[{name:'Overview',tab:'overview'},{name:'Analytics',tab:'analytics'},{name:'Performance',tab:'performance'}]},{name:'Business',section:'business',icon:FileText,description:'Jobs & Services',tabs:[{name:'Active Jobs',tab:'jobs'},{name:'Job History',tab:'job-history'},{name:'Service Packages',tab:'services'},{name:'Pricing',tab:'pricing'},{name:'Schedule',tab:'schedule'}]},{name:'Earnings',section:'earnings',icon:DollarSign,description:'Revenue & Payments',tabs:[{name:'Overview',tab:'earnings-overview'},{name:'Transactions',tab:'transactions'},{name:'Payouts',tab:'payouts'},{name:'Tax Reports',tab:'tax-reports'}]},{name:'Customer Relations',section:'customers',icon:Star,description:'Reviews & Feedback',tabs:[{name:'Reviews',tab:'reviews'},{name:'Customer List',tab:'customer-list'},{name:'Feedback',tab:'feedback'},{name:'Communication',tab:'communication'}]},{name:'Membership',section:'membership',icon:CreditCard,description:'Plans & Benefits',tabs:[{name:'Current Plan',tab:'current-plan'},{name:'Upgrade Plans',tab:'upgrade-plans'},{name:'Usage Stats',tab:'usage-stats'},{name:'Billing History',tab:'billing-history'}]},{name:'Account',section:'account',icon:User,description:'Profile & Settings',tabs:[{name:'Profile',tab:'profile'},{name:'Verification',tab:'verification'},{name:'Settings',tab:'settings'}]}];const StatCard=_ref2=>{let{title,value,change,changeType,icon:Icon,color='orange'}=_ref2;return/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:\"bg-white rounded-lg shadow-sm p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900 mt-1\",children:value}),change&&/*#__PURE__*/_jsxs(\"div\",{className:`flex items-center mt-2 ${changeType==='positive'?'text-green-600':changeType==='negative'?'text-red-600':'text-gray-600'}`,children:[/*#__PURE__*/_jsx(TrendingUp,{className:\"h-4 w-4 mr-1\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:change})]})]}),/*#__PURE__*/_jsx(\"div\",{className:`p-3 rounded-full bg-${color}-100`,children:/*#__PURE__*/_jsx(Icon,{className:`h-6 w-6 text-${color}-600`})})]})});};const OverviewTab=()=>{var _stats$earnings$total,_stats$ratings$averag,_vendor$serviceCatego;return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\",children:[/*#__PURE__*/_jsx(StatCard,{title:\"Total Jobs\",value:stats.jobs.completed||0,change:\"+12% this month\",changeType:\"positive\",icon:FileText,color:\"blue\"}),/*#__PURE__*/_jsx(StatCard,{title:\"Total Earnings\",value:`$${((_stats$earnings$total=stats.earnings.total)===null||_stats$earnings$total===void 0?void 0:_stats$earnings$total.toLocaleString())||'0'}`,change:\"+18% this month\",changeType:\"positive\",icon:DollarSign,color:\"green\"}),/*#__PURE__*/_jsx(StatCard,{title:\"Average Rating\",value:((_stats$ratings$averag=stats.ratings.averageRating)===null||_stats$ratings$averag===void 0?void 0:_stats$ratings$averag.toFixed(1))||'0.0',change:\"\\u2605 from ratings\",icon:Star,color:\"yellow\"}),/*#__PURE__*/_jsx(StatCard,{title:\"Active Jobs\",value:stats.jobs.in_progress||0,icon:Activity,color:\"orange\"})]}),vendor.verificationStatus!=='VERIFIED'&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`p-4 rounded-lg ${vendor.verificationStatus==='PENDING'?'bg-yellow-50 border border-yellow-200':'bg-red-50 border border-red-200'}`,children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[vendor.verificationStatus==='PENDING'?/*#__PURE__*/_jsx(Clock,{className:\"h-5 w-5 text-yellow-600 mr-3\"}):/*#__PURE__*/_jsx(AlertCircle,{className:\"h-5 w-5 text-red-600 mr-3\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{className:`font-medium ${vendor.verificationStatus==='PENDING'?'text-yellow-800':'text-red-800'}`,children:[\"Account \",vendor.verificationStatus==='PENDING'?'Pending Verification':'Verification Required']}),/*#__PURE__*/_jsx(\"p\",{className:`text-sm ${vendor.verificationStatus==='PENDING'?'text-yellow-600':'text-red-600'}`,children:vendor.verificationStatus==='PENDING'?'Your account is under review. You will be able to receive job assignments once approved.':'Your account verification was not successful. Please contact support for assistance.'})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 border-b border-gray-200\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:\"Recent Jobs\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"divide-y divide-gray-200\",children:recentJobs.length>0?recentJobs.slice(0,5).map(job=>{var _job$customerId,_job$customerId2,_job$totalAmount;return/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 hover:bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-gray-900\",children:job.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600 mt-1\",children:[\"Customer: \",(_job$customerId=job.customerId)===null||_job$customerId===void 0?void 0:_job$customerId.firstName,\" \",(_job$customerId2=job.customerId)===null||_job$customerId2===void 0?void 0:_job$customerId2.lastName]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mt-2 space-x-4\",children:[/*#__PURE__*/_jsx(\"span\",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${job.status==='COMPLETED'?'bg-green-100 text-green-800':job.status==='IN_PROGRESS'?'bg-blue-100 text-blue-800':job.status==='ASSIGNED'?'bg-yellow-100 text-yellow-800':'bg-gray-100 text-gray-800'}`,children:job.status.replace('_',' ')}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500\",children:[\"$\",(_job$totalAmount=job.totalAmount)===null||_job$totalAmount===void 0?void 0:_job$totalAmount.toLocaleString()]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:new Date(job.createdAt).toLocaleDateString()})]})},job._id);}):/*#__PURE__*/_jsxs(\"div\",{className:\"px-6 py-8 text-center\",children:[/*#__PURE__*/_jsx(FileText,{className:\"mx-auto h-8 w-8 text-gray-400 mb-2\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"No jobs yet\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Performance Score\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Quality Score\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-medium\",children:[vendor.qualityScore,\"/5\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-orange-600 h-2 rounded-full\",style:{width:`${vendor.qualityScore/5*100}%`}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"On-Time Performance\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-medium\",children:[vendor.onTimePercentage,\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-600 h-2 rounded-full\",style:{width:`${vendor.onTimePercentage}%`}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Customer Satisfaction\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-medium\",children:[vendor.customerSatisfactionScore,\"/5\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-600 h-2 rounded-full\",style:{width:`${vendor.customerSatisfactionScore/5*100}%`}})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Service Areas\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:(_vendor$serviceCatego=vendor.serviceCategories)===null||_vendor$serviceCatego===void 0?void 0:_vendor$serviceCatego.map(category=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-orange-600 rounded-full mr-3\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700 capitalize\",children:category.replace('_',' ')})]},category))}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-600 mb-2\",children:[/*#__PURE__*/_jsx(MapPin,{className:\"h-4 w-4 mr-1\"}),\"Service Area\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-900\",children:vendor.serviceArea})]})]})]})]});};const renderContent=()=>{// Dashboard Section\nif(activeSection==='dashboard'){if(activeTab==='overview')return/*#__PURE__*/_jsx(OverviewTab,{});if(activeTab==='analytics')return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Business Analytics\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Analytics dashboard coming soon...\"})]});if(activeTab==='performance')return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Performance Metrics\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Performance tracking coming soon...\"})]});}// Business Section\nif(activeSection==='business'){if(activeTab==='jobs')return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Active Jobs\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Job management interface coming soon...\"})]});if(activeTab==='job-history')return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Job History\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Job history interface coming soon...\"})]});if(activeTab==='services')return/*#__PURE__*/_jsx(ProfileTab,{vendor:vendor,onUpdate:fetchDashboardData,activeSection:\"services\"});if(activeTab==='pricing')return/*#__PURE__*/_jsx(VendorPricingManagement,{});if(activeTab==='schedule')return/*#__PURE__*/_jsx(ProfileTab,{vendor:vendor,onUpdate:fetchDashboardData,activeSection:\"schedule\"});}// Earnings Section\nif(activeSection==='earnings'){if(activeTab==='earnings-overview')return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Earnings Overview\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Earnings dashboard coming soon...\"})]});if(activeTab==='transactions')return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Transaction History\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Transaction history coming soon...\"})]});if(activeTab==='payouts')return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Payouts\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Payout management coming soon...\"})]});if(activeTab==='tax-reports')return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Tax Reports\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Tax reporting coming soon...\"})]});}// Customer Relations Section\nif(activeSection==='customers'){if(activeTab==='reviews')return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Customer Reviews\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Reviews interface coming soon...\"})]});if(activeTab==='customer-list')return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Customer List\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Customer management coming soon...\"})]});if(activeTab==='feedback')return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Feedback Management\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Feedback management coming soon...\"})]});if(activeTab==='communication')return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Customer Communication\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Communication tools coming soon...\"})]});}// Membership Section\nif(activeSection==='membership'){if(activeTab==='current-plan')return/*#__PURE__*/_jsx(CurrentPlanTab,{});if(activeTab==='upgrade-plans')return/*#__PURE__*/_jsx(UpgradePlansTab,{});if(activeTab==='usage-stats')return/*#__PURE__*/_jsx(UsageStatsTab,{});if(activeTab==='billing-history')return/*#__PURE__*/_jsx(BillingHistoryTab,{});}// Account Section  \nif(activeSection==='account'){if(activeTab==='profile')return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Profile Information\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Profile management coming soon...\"})]});if(activeTab==='verification')return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Account Verification\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Verification status and documents...\"})]});if(activeTab==='settings')return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Account Settings\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Settings and preferences coming soon...\"})]});}return/*#__PURE__*/_jsx(OverviewTab,{});};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-orange-500 to-orange-600 text-white\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16\",children:/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.6},className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl md:text-5xl font-bold mb-4\",children:\"Vendor Dashboard\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xl md:text-2xl text-orange-100 mb-6\",children:[\"Welcome back, \",((_vendor$userId=vendor.userId)===null||_vendor$userId===void 0?void 0:_vendor$userId.firstName)||'Vendor',\"!\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center space-x-6 text-orange-100\",children:[vendor.verificationStatus==='VERIFIED'&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"h-6 w-6 mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-lg font-medium\",children:\"Verified Vendor\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(Star,{className:\"h-6 w-6 mr-2\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-lg font-medium\",children:[vendor.currentRating||'5.0',\" Rating\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(Users,{className:\"h-6 w-6 mr-2\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-lg font-medium\",children:[vendor.totalJobsCompleted||0,\" Jobs Completed\"]})]})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-6 -mt-12 mb-8\",children:[/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:0.2},className:\"bg-white rounded-lg shadow-lg p-6 text-center\",children:[/*#__PURE__*/_jsx(DollarSign,{className:\"h-12 w-12 text-green-500 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold text-gray-900\",children:\"$8,450\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Total Earnings\"})]}),/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:0.3},className:\"bg-white rounded-lg shadow-lg p-6 text-center\",children:[/*#__PURE__*/_jsx(FileText,{className:\"h-12 w-12 text-blue-500 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold text-gray-900\",children:\"28\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Active Jobs\"})]}),/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:0.4},className:\"bg-white rounded-lg shadow-lg p-6 text-center\",children:[/*#__PURE__*/_jsx(Award,{className:\"h-12 w-12 text-yellow-500 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold text-gray-900\",children:\"4.8\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Customer Rating\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"border-b border-gray-200\",children:/*#__PURE__*/_jsx(\"nav\",{className:\"flex space-x-8 px-6\",children:mainNavigation.map(item=>{const Icon=item.icon;return/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setActiveSection(item.section);setActiveTab(item.tabs[0].tab);},className:`flex items-center py-4 px-1 border-b-2 font-medium text-sm transition-colors ${activeSection===item.section?'border-orange-500 text-orange-600':'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`,children:[/*#__PURE__*/_jsx(Icon,{className:\"h-5 w-5 mr-2\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-left\",children:[/*#__PURE__*/_jsx(\"div\",{children:item.name}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-400 font-normal\",children:item.description})]})]},item.section);})})}),activeSection&&/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-3 bg-gray-50\",children:/*#__PURE__*/_jsx(\"nav\",{className:\"flex space-x-6\",children:(_mainNavigation$find=mainNavigation.find(item=>item.section===activeSection))===null||_mainNavigation$find===void 0?void 0:(_mainNavigation$find$=_mainNavigation$find.tabs)===null||_mainNavigation$find$===void 0?void 0:_mainNavigation$find$.map(tab=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab(tab.tab),className:`px-3 py-2 text-sm font-medium rounded-md transition-colors ${activeTab===tab.tab?'bg-orange-600 text-white':'text-gray-600 hover:text-gray-900 hover:bg-gray-200'}`,children:tab.name},tab.tab))})})]}),renderContent()]})]});};export default VendorDashboardPage;","map":{"version":3,"names":["React","useState","useEffect","useLocation","motion","User","Calendar","DollarSign","Star","TrendingUp","Award","Clock","CheckCircle","AlertCircle","Settings","FileText","Activity","BarChart3","Users","MapPin","Plus","Edit2","Trash2","Save","X","ArrowLeft","CreditCard","MessageSquare","Shield","History","api","toast","VendorPricingManagement","CurrentPlanTab","UpgradePlansTab","UsageStatsTab","BillingHistoryTab","jsx","_jsx","jsxs","_jsxs","ProfileTab","_ref","vendor","onUpdate","activeSection","initialSection","setActiveSection","servicePackages","setServicePackages","priceLists","setPriceLists","availabilitySchedule","setAvailabilitySchedule","editingPackage","setEditingPackage","editingPrice","setEditingPrice","editingSchedule","setEditingSchedule","loading","setLoading","serviceCategories","days","saveProfile","updatedData","updateProfile","success","error","console","handleAddServicePackage","newPackage","id","Date","now","name","description","category","price","duration","isActive","handleSaveServicePackage","updatedPackages","find","p","map","_id","handleDeleteServicePackage","packageId","filter","handleAddPriceList","newPriceList","baseRate","emergencyRate","weekendRate","nightRate","handleSavePriceList","updatedPriceLists","handleDeletePriceList","priceId","handleAddAvailabilitySlot","newSlot","dayOfWeek","startTime","endTime","isAvailable","handleSaveAvailabilitySlot","updatedSchedule","s","handleDeleteAvailabilitySlot","slotId","sections","icon","className","children","section","Icon","onClick","pkg","length","type","value","onChange","e","target","placeholder","rows","charAt","toUpperCase","slice","parseFloat","min","step","disabled","priceList","slot","parseInt","day","index","checked","VendorDashboardPage","_vendor$userId","_mainNavigation$find","_mainNavigation$find$","location","dashboardData","setDashboardData","searchParams","URLSearchParams","search","sectionFromUrl","get","tabFromUrl","activeTab","setActiveTab","fetchDashboardData","log","token","localStorage","getItem","payload","JSON","parse","atob","split","role","email","response","getDashboard","message","stack","userId","firstName","verificationStatus","serviceArea","qualityScore","onTimePercentage","customerSatisfactionScore","currentRating","totalJobsCompleted","stats","jobs","earnings","ratings","recentJobs","mainNavigation","tabs","tab","StatCard","_ref2","title","change","changeType","color","div","initial","opacity","y","animate","OverviewTab","_stats$earnings$total","_stats$ratings$averag","_vendor$serviceCatego","completed","total","toLocaleString","averageRating","toFixed","in_progress","job","_job$customerId","_job$customerId2","_job$totalAmount","customerId","lastName","status","replace","totalAmount","createdAt","toLocaleDateString","style","width","renderContent","transition","delay","item"],"sources":["C:/Users/Le520/Documents/Property-Maintainance-Service/src/pages/vendor/VendorDashboardPage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { motion } from 'framer-motion';\r\nimport { \r\n  User, \r\n  Calendar, \r\n  DollarSign, \r\n  Star, \r\n  TrendingUp, \r\n  Award, \r\n  Clock,\r\n  CheckCircle,\r\n  AlertCircle,\r\n  Settings,\r\n  FileText,\r\n  Activity,\r\n  BarChart3,\r\n  Users,\r\n  MapPin,\r\n  Plus,\r\n  Edit2,\r\n  Trash2,\r\n  Save,\r\n  X,\r\n  ArrowLeft,\r\n  CreditCard,\r\n  MessageSquare,\r\n  Shield,\r\n  History\r\n} from 'lucide-react';\r\nimport { api } from '../../services/api';\r\nimport toast from 'react-hot-toast';\r\nimport VendorPricingManagement from '../../components/vendor/VendorPricingManagement';\r\nimport { CurrentPlanTab, UpgradePlansTab, UsageStatsTab, BillingHistoryTab } from '../../components/vendor/VendorMembership';\r\n\r\nconst ProfileTab = ({ vendor, onUpdate, activeSection: initialSection }) => {\r\n  const [activeSection, setActiveSection] = useState(initialSection || 'services');\r\n  const [servicePackages, setServicePackages] = useState(vendor.servicePackages || []);\r\n  const [priceLists, setPriceLists] = useState(vendor.priceLists || []);\r\n  const [availabilitySchedule, setAvailabilitySchedule] = useState(vendor.availabilitySchedule || []);\r\n  const [editingPackage, setEditingPackage] = useState(null);\r\n  const [editingPrice, setEditingPrice] = useState(null);\r\n  const [editingSchedule, setEditingSchedule] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const serviceCategories = ['plumbing', 'electrical', 'cleaning', 'gardening', 'painting', 'security', 'hvac', 'general'];\r\n  const days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\r\n\r\n  const saveProfile = async (updatedData) => {\r\n    try {\r\n      setLoading(true);\r\n      await api.vendor.updateProfile(updatedData);\r\n      toast.success('Profile updated successfully!');\r\n      onUpdate();\r\n    } catch (error) {\r\n      console.error('Error updating profile:', error);\r\n      toast.error('Failed to update profile');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleAddServicePackage = () => {\r\n    const newPackage = {\r\n      id: Date.now(),\r\n      name: '',\r\n      description: '',\r\n      category: 'general',\r\n      price: 0,\r\n      duration: 1,\r\n      isActive: true\r\n    };\r\n    setEditingPackage(newPackage);\r\n  };\r\n\r\n  const handleSaveServicePackage = async () => {\r\n    if (!editingPackage.name || !editingPackage.description || editingPackage.price <= 0) {\r\n      toast.error('Please fill in all required fields');\r\n      return;\r\n    }\r\n\r\n    const updatedPackages = editingPackage.id && servicePackages.find(p => p.id === editingPackage.id)\r\n      ? servicePackages.map(p => p.id === editingPackage.id ? editingPackage : p)\r\n      : [...servicePackages, { ...editingPackage, id: editingPackage._id || Date.now() }];\r\n\r\n    setServicePackages(updatedPackages);\r\n    await saveProfile({ servicePackages: updatedPackages });\r\n    setEditingPackage(null);\r\n  };\r\n\r\n  const handleDeleteServicePackage = async (packageId) => {\r\n    const updatedPackages = servicePackages.filter(p => (p.id || p._id) !== packageId);\r\n    setServicePackages(updatedPackages);\r\n    await saveProfile({ servicePackages: updatedPackages });\r\n  };\r\n\r\n  const handleAddPriceList = () => {\r\n    const newPriceList = {\r\n      id: Date.now(),\r\n      category: 'general',\r\n      baseRate: 0,\r\n      emergencyRate: 0,\r\n      weekendRate: 0,\r\n      nightRate: 0\r\n    };\r\n    setEditingPrice(newPriceList);\r\n  };\r\n\r\n  const handleSavePriceList = async () => {\r\n    if (editingPrice.baseRate <= 0) {\r\n      toast.error('Base rate must be greater than 0');\r\n      return;\r\n    }\r\n\r\n    const updatedPriceLists = editingPrice.id && priceLists.find(p => p.id === editingPrice.id)\r\n      ? priceLists.map(p => p.id === editingPrice.id ? editingPrice : p)\r\n      : [...priceLists, { ...editingPrice, id: editingPrice._id || Date.now() }];\r\n\r\n    setPriceLists(updatedPriceLists);\r\n    await saveProfile({ priceLists: updatedPriceLists });\r\n    setEditingPrice(null);\r\n  };\r\n\r\n  const handleDeletePriceList = async (priceId) => {\r\n    const updatedPriceLists = priceLists.filter(p => (p.id || p._id) !== priceId);\r\n    setPriceLists(updatedPriceLists);\r\n    await saveProfile({ priceLists: updatedPriceLists });\r\n  };\r\n\r\n  const handleAddAvailabilitySlot = () => {\r\n    const newSlot = {\r\n      id: Date.now(),\r\n      dayOfWeek: 1,\r\n      startTime: '09:00',\r\n      endTime: '17:00',\r\n      isAvailable: true\r\n    };\r\n    setEditingSchedule(newSlot);\r\n  };\r\n\r\n  const handleSaveAvailabilitySlot = async () => {\r\n    if (editingSchedule.startTime >= editingSchedule.endTime) {\r\n      toast.error('End time must be after start time');\r\n      return;\r\n    }\r\n\r\n    const updatedSchedule = editingSchedule.id && availabilitySchedule.find(s => s.id === editingSchedule.id)\r\n      ? availabilitySchedule.map(s => s.id === editingSchedule.id ? editingSchedule : s)\r\n      : [...availabilitySchedule, { ...editingSchedule, id: editingSchedule._id || Date.now() }];\r\n\r\n    setAvailabilitySchedule(updatedSchedule);\r\n    await saveProfile({ availabilitySchedule: updatedSchedule });\r\n    setEditingSchedule(null);\r\n  };\r\n\r\n  const handleDeleteAvailabilitySlot = async (slotId) => {\r\n    const updatedSchedule = availabilitySchedule.filter(s => (s.id || s._id) !== slotId);\r\n    setAvailabilitySchedule(updatedSchedule);\r\n    await saveProfile({ availabilitySchedule: updatedSchedule });\r\n  };\r\n\r\n  const sections = [\r\n    { id: 'services', name: 'Service Packages', icon: FileText },\r\n    { id: 'pricing', name: 'Price Lists', icon: DollarSign },\r\n    { id: 'schedule', name: 'Availability', icon: Calendar }\r\n  ];\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Section Navigation */}\r\n      <div className=\"border-b border-gray-200\">\r\n        <nav className=\"flex space-x-8\">\r\n          {sections.map((section) => {\r\n            const Icon = section.icon;\r\n            return (\r\n              <button\r\n                key={section.id}\r\n                onClick={() => setActiveSection(section.id)}\r\n                className={`flex items-center py-2 px-1 border-b-2 font-medium text-sm ${\r\n                  activeSection === section.id\r\n                    ? 'border-orange-500 text-orange-600'\r\n                    : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\r\n                }`}\r\n              >\r\n                <Icon className=\"h-4 w-4 mr-2\" />\r\n                {section.name}\r\n              </button>\r\n            );\r\n          })}\r\n        </nav>\r\n      </div>\r\n\r\n      {/* Service Packages Section */}\r\n      {activeSection === 'services' && (\r\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n          <div className=\"flex items-center justify-between mb-6\">\r\n            <h3 className=\"text-lg font-medium text-gray-900\">Service Packages</h3>\r\n            <button\r\n              onClick={handleAddServicePackage}\r\n              className=\"flex items-center px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700\"\r\n            >\r\n              <Plus className=\"h-4 w-4 mr-2\" />\r\n              Add Package\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"space-y-4\">\r\n            {servicePackages.map((pkg) => (\r\n              <div key={pkg.id || pkg._id} className=\"border border-gray-200 rounded-lg p-4\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div className=\"flex-1\">\r\n                    <h4 className=\"font-medium text-gray-900\">{pkg.name}</h4>\r\n                    <p className=\"text-sm text-gray-600 mt-1\">{pkg.description}</p>\r\n                    <div className=\"flex items-center space-x-4 mt-2\">\r\n                      <span className=\"text-sm text-gray-500\">Category: {pkg.category}</span>\r\n                      <span className=\"text-sm text-gray-500\">Price: ${pkg.price}</span>\r\n                      <span className=\"text-sm text-gray-500\">Duration: {pkg.duration}h</span>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"flex items-center space-x-2\">\r\n                    <button\r\n                      onClick={() => setEditingPackage(pkg)}\r\n                      className=\"p-2 text-gray-400 hover:text-orange-600\"\r\n                    >\r\n                      <Edit2 className=\"h-4 w-4\" />\r\n                    </button>\r\n                    <button\r\n                      onClick={() => handleDeleteServicePackage(pkg.id || pkg._id)}\r\n                      className=\"p-2 text-gray-400 hover:text-red-600\"\r\n                    >\r\n                      <Trash2 className=\"h-4 w-4\" />\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n\r\n            {servicePackages.length === 0 && (\r\n              <div className=\"text-center py-8\">\r\n                <FileText className=\"mx-auto h-8 w-8 text-gray-400 mb-2\" />\r\n                <p className=\"text-gray-500\">No service packages yet</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Edit Service Package Modal */}\r\n          {editingPackage && (\r\n            <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n              <div className=\"bg-white rounded-lg p-6 w-full max-w-md\">\r\n                <div className=\"flex items-center justify-between mb-4\">\r\n                  <h3 className=\"text-lg font-medium text-gray-900\">\r\n                    {editingPackage._id ? 'Edit Service Package' : 'Add Service Package'}\r\n                  </h3>\r\n                  <button\r\n                    onClick={() => setEditingPackage(null)}\r\n                    className=\"text-gray-400 hover:text-gray-600\"\r\n                  >\r\n                    <X className=\"h-5 w-5\" />\r\n                  </button>\r\n                </div>\r\n\r\n                <div className=\"space-y-4\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                      Package Name *\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={editingPackage.name}\r\n                      onChange={(e) => setEditingPackage({ ...editingPackage, name: e.target.value })}\r\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500\"\r\n                      placeholder=\"e.g., Basic Plumbing Service\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                      Description *\r\n                    </label>\r\n                    <textarea\r\n                      value={editingPackage.description}\r\n                      onChange={(e) => setEditingPackage({ ...editingPackage, description: e.target.value })}\r\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500\"\r\n                      rows={3}\r\n                      placeholder=\"Describe what's included in this package\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"grid grid-cols-2 gap-4\">\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                        Category *\r\n                      </label>\r\n                      <select\r\n                        value={editingPackage.category}\r\n                        onChange={(e) => setEditingPackage({ ...editingPackage, category: e.target.value })}\r\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500\"\r\n                      >\r\n                        {serviceCategories.map(category => (\r\n                          <option key={category} value={category}>\r\n                            {category.charAt(0).toUpperCase() + category.slice(1)}\r\n                          </option>\r\n                        ))}\r\n                      </select>\r\n                    </div>\r\n\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                        Price ($) *\r\n                      </label>\r\n                      <input\r\n                        type=\"number\"\r\n                        value={editingPackage.price}\r\n                        onChange={(e) => setEditingPackage({ ...editingPackage, price: parseFloat(e.target.value) || 0 })}\r\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500\"\r\n                        min=\"0\"\r\n                        step=\"0.01\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                      Duration (hours) *\r\n                    </label>\r\n                    <input\r\n                      type=\"number\"\r\n                      value={editingPackage.duration}\r\n                      onChange={(e) => setEditingPackage({ ...editingPackage, duration: parseFloat(e.target.value) || 0 })}\r\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500\"\r\n                      min=\"0.5\"\r\n                      step=\"0.5\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"flex items-center justify-end space-x-3 mt-6\">\r\n                  <button\r\n                    onClick={() => setEditingPackage(null)}\r\n                    className=\"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\"\r\n                  >\r\n                    Cancel\r\n                  </button>\r\n                  <button\r\n                    onClick={handleSaveServicePackage}\r\n                    disabled={loading}\r\n                    className=\"flex items-center px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:opacity-50\"\r\n                  >\r\n                    <Save className=\"h-4 w-4 mr-2\" />\r\n                    {loading ? 'Saving...' : 'Save Package'}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* Price Lists Section */}\r\n      {activeSection === 'pricing' && (\r\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n          <div className=\"flex items-center justify-between mb-6\">\r\n            <h3 className=\"text-lg font-medium text-gray-900\">Price Lists</h3>\r\n            <button\r\n              onClick={handleAddPriceList}\r\n              className=\"flex items-center px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700\"\r\n            >\r\n              <Plus className=\"h-4 w-4 mr-2\" />\r\n              Add Price List\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"space-y-4\">\r\n            {priceLists.map((priceList) => (\r\n              <div key={priceList.id || priceList._id} className=\"border border-gray-200 rounded-lg p-4\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div className=\"flex-1\">\r\n                    <h4 className=\"font-medium text-gray-900 capitalize\">{priceList.category} Services</h4>\r\n                    <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mt-2\">\r\n                      <div className=\"text-sm\">\r\n                        <span className=\"text-gray-500\">Base Rate:</span>\r\n                        <span className=\"ml-2 font-medium\">${priceList.baseRate}/hr</span>\r\n                      </div>\r\n                      <div className=\"text-sm\">\r\n                        <span className=\"text-gray-500\">Emergency:</span>\r\n                        <span className=\"ml-2 font-medium\">${priceList.emergencyRate}/hr</span>\r\n                      </div>\r\n                      <div className=\"text-sm\">\r\n                        <span className=\"text-gray-500\">Weekend:</span>\r\n                        <span className=\"ml-2 font-medium\">${priceList.weekendRate}/hr</span>\r\n                      </div>\r\n                      <div className=\"text-sm\">\r\n                        <span className=\"text-gray-500\">Night:</span>\r\n                        <span className=\"ml-2 font-medium\">${priceList.nightRate}/hr</span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"flex items-center space-x-2\">\r\n                    <button\r\n                      onClick={() => setEditingPrice(priceList)}\r\n                      className=\"p-2 text-gray-400 hover:text-orange-600\"\r\n                    >\r\n                      <Edit2 className=\"h-4 w-4\" />\r\n                    </button>\r\n                    <button\r\n                      onClick={() => handleDeletePriceList(priceList.id || priceList._id)}\r\n                      className=\"p-2 text-gray-400 hover:text-red-600\"\r\n                    >\r\n                      <Trash2 className=\"h-4 w-4\" />\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n\r\n            {priceLists.length === 0 && (\r\n              <div className=\"text-center py-8\">\r\n                <DollarSign className=\"mx-auto h-8 w-8 text-gray-400 mb-2\" />\r\n                <p className=\"text-gray-500\">No price lists yet</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Edit Price List Modal */}\r\n          {editingPrice && (\r\n            <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n              <div className=\"bg-white rounded-lg p-6 w-full max-w-md\">\r\n                <div className=\"flex items-center justify-between mb-4\">\r\n                  <h3 className=\"text-lg font-medium text-gray-900\">\r\n                    {editingPrice._id ? 'Edit Price List' : 'Add Price List'}\r\n                  </h3>\r\n                  <button\r\n                    onClick={() => setEditingPrice(null)}\r\n                    className=\"text-gray-400 hover:text-gray-600\"\r\n                  >\r\n                    <X className=\"h-5 w-5\" />\r\n                  </button>\r\n                </div>\r\n\r\n                <div className=\"space-y-4\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                      Service Category *\r\n                    </label>\r\n                    <select\r\n                      value={editingPrice.category}\r\n                      onChange={(e) => setEditingPrice({ ...editingPrice, category: e.target.value })}\r\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500\"\r\n                    >\r\n                      {serviceCategories.map(category => (\r\n                        <option key={category} value={category}>\r\n                          {category.charAt(0).toUpperCase() + category.slice(1)}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n\r\n                  <div className=\"grid grid-cols-2 gap-4\">\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                        Base Rate ($/hr) *\r\n                      </label>\r\n                      <input\r\n                        type=\"number\"\r\n                        value={editingPrice.baseRate}\r\n                        onChange={(e) => setEditingPrice({ ...editingPrice, baseRate: parseFloat(e.target.value) || 0 })}\r\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500\"\r\n                        min=\"0\"\r\n                        step=\"0.01\"\r\n                      />\r\n                    </div>\r\n\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                        Emergency Rate ($/hr)\r\n                      </label>\r\n                      <input\r\n                        type=\"number\"\r\n                        value={editingPrice.emergencyRate}\r\n                        onChange={(e) => setEditingPrice({ ...editingPrice, emergencyRate: parseFloat(e.target.value) || 0 })}\r\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500\"\r\n                        min=\"0\"\r\n                        step=\"0.01\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"grid grid-cols-2 gap-4\">\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                        Weekend Rate ($/hr)\r\n                      </label>\r\n                      <input\r\n                        type=\"number\"\r\n                        value={editingPrice.weekendRate}\r\n                        onChange={(e) => setEditingPrice({ ...editingPrice, weekendRate: parseFloat(e.target.value) || 0 })}\r\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500\"\r\n                        min=\"0\"\r\n                        step=\"0.01\"\r\n                      />\r\n                    </div>\r\n\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                        Night Rate ($/hr)\r\n                      </label>\r\n                      <input\r\n                        type=\"number\"\r\n                        value={editingPrice.nightRate}\r\n                        onChange={(e) => setEditingPrice({ ...editingPrice, nightRate: parseFloat(e.target.value) || 0 })}\r\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500\"\r\n                        min=\"0\"\r\n                        step=\"0.01\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"flex items-center justify-end space-x-3 mt-6\">\r\n                  <button\r\n                    onClick={() => setEditingPrice(null)}\r\n                    className=\"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\"\r\n                  >\r\n                    Cancel\r\n                  </button>\r\n                  <button\r\n                    onClick={handleSavePriceList}\r\n                    disabled={loading}\r\n                    className=\"flex items-center px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:opacity-50\"\r\n                  >\r\n                    <Save className=\"h-4 w-4 mr-2\" />\r\n                    {loading ? 'Saving...' : 'Save Price List'}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* Availability Schedule Section */}\r\n      {activeSection === 'schedule' && (\r\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n          <div className=\"flex items-center justify-between mb-6\">\r\n            <h3 className=\"text-lg font-medium text-gray-900\">Availability Schedule</h3>\r\n            <button\r\n              onClick={handleAddAvailabilitySlot}\r\n              className=\"flex items-center px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700\"\r\n            >\r\n              <Plus className=\"h-4 w-4 mr-2\" />\r\n              Add Time Slot\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"space-y-4\">\r\n            {availabilitySchedule.map((slot) => (\r\n              <div key={slot.id || slot._id} className=\"border border-gray-200 rounded-lg p-4\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div className=\"flex-1\">\r\n                    <h4 className=\"font-medium text-gray-900\">{days[slot.dayOfWeek]}</h4>\r\n                    <div className=\"flex items-center space-x-4 mt-1\">\r\n                      <span className=\"text-sm text-gray-600\">{slot.startTime} - {slot.endTime}</span>\r\n                      <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${\r\n                        slot.isAvailable ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'\r\n                      }`}>\r\n                        {slot.isAvailable ? 'Available' : 'Unavailable'}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"flex items-center space-x-2\">\r\n                    <button\r\n                      onClick={() => setEditingSchedule(slot)}\r\n                      className=\"p-2 text-gray-400 hover:text-orange-600\"\r\n                    >\r\n                      <Edit2 className=\"h-4 w-4\" />\r\n                    </button>\r\n                    <button\r\n                      onClick={() => handleDeleteAvailabilitySlot(slot.id || slot._id)}\r\n                      className=\"p-2 text-gray-400 hover:text-red-600\"\r\n                    >\r\n                      <Trash2 className=\"h-4 w-4\" />\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n\r\n            {availabilitySchedule.length === 0 && (\r\n              <div className=\"text-center py-8\">\r\n                <Calendar className=\"mx-auto h-8 w-8 text-gray-400 mb-2\" />\r\n                <p className=\"text-gray-500\">No availability schedule set</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Edit Availability Slot Modal */}\r\n          {editingSchedule && (\r\n            <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n              <div className=\"bg-white rounded-lg p-6 w-full max-w-md\">\r\n                <div className=\"flex items-center justify-between mb-4\">\r\n                  <h3 className=\"text-lg font-medium text-gray-900\">\r\n                    {editingSchedule._id ? 'Edit Time Slot' : 'Add Time Slot'}\r\n                  </h3>\r\n                  <button\r\n                    onClick={() => setEditingSchedule(null)}\r\n                    className=\"text-gray-400 hover:text-gray-600\"\r\n                  >\r\n                    <X className=\"h-5 w-5\" />\r\n                  </button>\r\n                </div>\r\n\r\n                <div className=\"space-y-4\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                      Day of Week *\r\n                    </label>\r\n                    <select\r\n                      value={editingSchedule.dayOfWeek}\r\n                      onChange={(e) => setEditingSchedule({ ...editingSchedule, dayOfWeek: parseInt(e.target.value) })}\r\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500\"\r\n                    >\r\n                      {days.map((day, index) => (\r\n                        <option key={index} value={index}>\r\n                          {day}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n\r\n                  <div className=\"grid grid-cols-2 gap-4\">\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                        Start Time *\r\n                      </label>\r\n                      <input\r\n                        type=\"time\"\r\n                        value={editingSchedule.startTime}\r\n                        onChange={(e) => setEditingSchedule({ ...editingSchedule, startTime: e.target.value })}\r\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500\"\r\n                      />\r\n                    </div>\r\n\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                        End Time *\r\n                      </label>\r\n                      <input\r\n                        type=\"time\"\r\n                        value={editingSchedule.endTime}\r\n                        onChange={(e) => setEditingSchedule({ ...editingSchedule, endTime: e.target.value })}\r\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"flex items-center\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={editingSchedule.isAvailable}\r\n                      onChange={(e) => setEditingSchedule({ ...editingSchedule, isAvailable: e.target.checked })}\r\n                      className=\"h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded\"\r\n                    />\r\n                    <label className=\"ml-2 block text-sm text-gray-700\">\r\n                      Available for bookings\r\n                    </label>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"flex items-center justify-end space-x-3 mt-6\">\r\n                  <button\r\n                    onClick={() => setEditingSchedule(null)}\r\n                    className=\"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\"\r\n                  >\r\n                    Cancel\r\n                  </button>\r\n                  <button\r\n                    onClick={handleSaveAvailabilitySlot}\r\n                    disabled={loading}\r\n                    className=\"flex items-center px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:opacity-50\"\r\n                  >\r\n                    <Save className=\"h-4 w-4 mr-2\" />\r\n                    {loading ? 'Saving...' : 'Save Slot'}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst VendorDashboardPage = () => {\r\n  const location = useLocation();\r\n  const [dashboardData, setDashboardData] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  \r\n  // Handle URL parameters for navigation\r\n  const searchParams = new URLSearchParams(location.search);\r\n  const sectionFromUrl = searchParams.get('section');\r\n  const tabFromUrl = searchParams.get('tab');\r\n  \r\n  const [activeSection, setActiveSection] = useState(sectionFromUrl || 'dashboard');\r\n  const [activeTab, setActiveTab] = useState(tabFromUrl || 'overview');\r\n\r\n  useEffect(() => {\r\n    fetchDashboardData();\r\n  }, []);\r\n\r\n  const fetchDashboardData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      console.log('🔄 Fetching vendor dashboard data...');\r\n      \r\n      // Check if user is logged in\r\n      const token = localStorage.getItem('token');\r\n      console.log('🔑 Token exists:', !!token);\r\n      \r\n      if (token) {\r\n        // Decode token to check user info\r\n        const payload = JSON.parse(atob(token.split('.')[1]));\r\n        console.log('👤 User info:', { id: payload._id, role: payload.role, email: payload.email });\r\n      }\r\n      \r\n      const response = await api.vendor.getDashboard();\r\n      console.log('✅ Dashboard data received:', response);\r\n      setDashboardData(response);\r\n    } catch (error) {\r\n      console.error('❌ Error fetching dashboard data:', error);\r\n      console.error('📝 Error details:', {\r\n        message: error.message,\r\n        stack: error.stack\r\n      });\r\n      \r\n      // Auto-load demo data as fallback\r\n      console.log('🔄 Auto-loading demo data as fallback...');\r\n      setDashboardData({\r\n        vendor: { \r\n          userId: { firstName: 'Demo' }, \r\n          verificationStatus: 'VERIFIED',\r\n          servicePackages: [],\r\n          priceLists: [],\r\n          availabilitySchedule: [],\r\n          serviceCategories: ['plumbing'],\r\n          serviceArea: 'Singapore',\r\n          qualityScore: 4.5,\r\n          onTimePercentage: 95,\r\n          customerSatisfactionScore: 4.7,\r\n          currentRating: 4.8,\r\n          totalJobsCompleted: 28\r\n        },\r\n        stats: { jobs: {}, earnings: {}, ratings: {} },\r\n        recentJobs: []\r\n      });\r\n      \r\n      toast.error(`API failed, loaded demo data. Error: ${error.message}`);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\r\n        <div className=\"flex items-center space-x-2\">\r\n          <div className=\"w-8 h-8 border-4 border-orange-600 border-t-transparent rounded-full animate-spin\"></div>\r\n          <span className=\"text-gray-600 font-medium\">Loading dashboard...</span>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!dashboardData) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <AlertCircle className=\"mx-auto h-12 w-12 text-red-500 mb-4\" />\r\n          <h2 className=\"text-xl font-semibold text-gray-900 mb-2\">Failed to load dashboard</h2>\r\n          <p className=\"text-gray-600 mb-4\">Check the browser console for detailed error information</p>\r\n          <div className=\"space-x-4\">\r\n            <button\r\n              onClick={fetchDashboardData}\r\n              className=\"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700\"\r\n            >\r\n              Retry\r\n            </button>\r\n            <button\r\n              onClick={() => setDashboardData({\r\n                vendor: { \r\n                  userId: { firstName: 'Demo' }, \r\n                  verificationStatus: 'VERIFIED',\r\n                  servicePackages: [],\r\n                  priceLists: [],\r\n                  availabilitySchedule: [],\r\n                  serviceCategories: ['plumbing'],\r\n                  serviceArea: 'Singapore',\r\n                  qualityScore: 4.5,\r\n                  onTimePercentage: 95,\r\n                  customerSatisfactionScore: 4.7\r\n                },\r\n                stats: { jobs: {}, earnings: {}, ratings: {} },\r\n                recentJobs: []\r\n              })}\r\n              className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\r\n            >\r\n              Load Demo Data\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const { vendor, stats, recentJobs } = dashboardData;\r\n\r\n  const mainNavigation = [\r\n    { \r\n      name: 'Dashboard', \r\n      section: 'dashboard',\r\n      icon: BarChart3,\r\n      description: 'Business Overview',\r\n      tabs: [\r\n        { name: 'Overview', tab: 'overview' },\r\n        { name: 'Analytics', tab: 'analytics' },\r\n        { name: 'Performance', tab: 'performance' }\r\n      ]\r\n    },\r\n    { \r\n      name: 'Business', \r\n      section: 'business',\r\n      icon: FileText,\r\n      description: 'Jobs & Services',\r\n      tabs: [\r\n        { name: 'Active Jobs', tab: 'jobs' },\r\n        { name: 'Job History', tab: 'job-history' },\r\n        { name: 'Service Packages', tab: 'services' },\r\n        { name: 'Pricing', tab: 'pricing' },\r\n        { name: 'Schedule', tab: 'schedule' }\r\n      ]\r\n    },\r\n    { \r\n      name: 'Earnings', \r\n      section: 'earnings',\r\n      icon: DollarSign,\r\n      description: 'Revenue & Payments',\r\n      tabs: [\r\n        { name: 'Overview', tab: 'earnings-overview' },\r\n        { name: 'Transactions', tab: 'transactions' },\r\n        { name: 'Payouts', tab: 'payouts' },\r\n        { name: 'Tax Reports', tab: 'tax-reports' }\r\n      ]\r\n    },\r\n    { \r\n      name: 'Customer Relations', \r\n      section: 'customers',\r\n      icon: Star,\r\n      description: 'Reviews & Feedback',\r\n      tabs: [\r\n        { name: 'Reviews', tab: 'reviews' },\r\n        { name: 'Customer List', tab: 'customer-list' },\r\n        { name: 'Feedback', tab: 'feedback' },\r\n        { name: 'Communication', tab: 'communication' }\r\n      ]\r\n    },\r\n    { \r\n      name: 'Membership', \r\n      section: 'membership',\r\n      icon: CreditCard,\r\n      description: 'Plans & Benefits',\r\n      tabs: [\r\n        { name: 'Current Plan', tab: 'current-plan' },\r\n        { name: 'Upgrade Plans', tab: 'upgrade-plans' },\r\n        { name: 'Usage Stats', tab: 'usage-stats' },\r\n        { name: 'Billing History', tab: 'billing-history' }\r\n      ]\r\n    },\r\n    { \r\n      name: 'Account', \r\n      section: 'account',\r\n      icon: User,\r\n      description: 'Profile & Settings',\r\n      tabs: [\r\n        { name: 'Profile', tab: 'profile' },\r\n        { name: 'Verification', tab: 'verification' },\r\n        { name: 'Settings', tab: 'settings' }\r\n      ]\r\n    }\r\n  ];\r\n\r\n  const StatCard = ({ title, value, change, changeType, icon: Icon, color = 'orange' }) => (\r\n    <motion.div\r\n      initial={{ opacity: 0, y: 20 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      className=\"bg-white rounded-lg shadow-sm p-6\"\r\n    >\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <p className=\"text-sm font-medium text-gray-600\">{title}</p>\r\n          <p className=\"text-2xl font-bold text-gray-900 mt-1\">{value}</p>\r\n          {change && (\r\n            <div className={`flex items-center mt-2 ${\r\n              changeType === 'positive' ? 'text-green-600' : \r\n              changeType === 'negative' ? 'text-red-600' : 'text-gray-600'\r\n            }`}>\r\n              <TrendingUp className=\"h-4 w-4 mr-1\" />\r\n              <span className=\"text-sm font-medium\">{change}</span>\r\n            </div>\r\n          )}\r\n        </div>\r\n        <div className={`p-3 rounded-full bg-${color}-100`}>\r\n          <Icon className={`h-6 w-6 text-${color}-600`} />\r\n        </div>\r\n      </div>\r\n    </motion.div>\r\n  );\r\n\r\n  const OverviewTab = () => (\r\n    <div className=\"space-y-6\">\r\n      {/* Stats Grid */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n        <StatCard\r\n          title=\"Total Jobs\"\r\n          value={stats.jobs.completed || 0}\r\n          change=\"+12% this month\"\r\n          changeType=\"positive\"\r\n          icon={FileText}\r\n          color=\"blue\"\r\n        />\r\n        <StatCard\r\n          title=\"Total Earnings\"\r\n          value={`$${stats.earnings.total?.toLocaleString() || '0'}`}\r\n          change=\"+18% this month\"\r\n          changeType=\"positive\"\r\n          icon={DollarSign}\r\n          color=\"green\"\r\n        />\r\n        <StatCard\r\n          title=\"Average Rating\"\r\n          value={stats.ratings.averageRating?.toFixed(1) || '0.0'}\r\n          change=\"★ from ratings\"\r\n          icon={Star}\r\n          color=\"yellow\"\r\n        />\r\n        <StatCard\r\n          title=\"Active Jobs\"\r\n          value={stats.jobs.in_progress || 0}\r\n          icon={Activity}\r\n          color=\"orange\"\r\n        />\r\n      </div>\r\n\r\n      {/* Verification Status */}\r\n      {vendor.verificationStatus !== 'VERIFIED' && (\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          className={`p-4 rounded-lg ${\r\n            vendor.verificationStatus === 'PENDING' \r\n              ? 'bg-yellow-50 border border-yellow-200' \r\n              : 'bg-red-50 border border-red-200'\r\n          }`}\r\n        >\r\n          <div className=\"flex items-center\">\r\n            {vendor.verificationStatus === 'PENDING' ? (\r\n              <Clock className=\"h-5 w-5 text-yellow-600 mr-3\" />\r\n            ) : (\r\n              <AlertCircle className=\"h-5 w-5 text-red-600 mr-3\" />\r\n            )}\r\n            <div>\r\n              <h3 className={`font-medium ${\r\n                vendor.verificationStatus === 'PENDING' ? 'text-yellow-800' : 'text-red-800'\r\n              }`}>\r\n                Account {vendor.verificationStatus === 'PENDING' ? 'Pending Verification' : 'Verification Required'}\r\n              </h3>\r\n              <p className={`text-sm ${\r\n                vendor.verificationStatus === 'PENDING' ? 'text-yellow-600' : 'text-red-600'\r\n              }`}>\r\n                {vendor.verificationStatus === 'PENDING' \r\n                  ? 'Your account is under review. You will be able to receive job assignments once approved.'\r\n                  : 'Your account verification was not successful. Please contact support for assistance.'\r\n                }\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </motion.div>\r\n      )}\r\n\r\n      {/* Recent Jobs */}\r\n      <div className=\"bg-white rounded-lg shadow-sm\">\r\n        <div className=\"px-6 py-4 border-b border-gray-200\">\r\n          <h3 className=\"text-lg font-medium text-gray-900\">Recent Jobs</h3>\r\n        </div>\r\n        <div className=\"divide-y divide-gray-200\">\r\n          {recentJobs.length > 0 ? (\r\n            recentJobs.slice(0, 5).map((job) => (\r\n              <div key={job._id} className=\"px-6 py-4 hover:bg-gray-50\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div className=\"flex-1\">\r\n                    <h4 className=\"text-sm font-medium text-gray-900\">{job.title}</h4>\r\n                    <p className=\"text-sm text-gray-600 mt-1\">\r\n                      Customer: {job.customerId?.firstName} {job.customerId?.lastName}\r\n                    </p>\r\n                    <div className=\"flex items-center mt-2 space-x-4\">\r\n                      <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${\r\n                        job.status === 'COMPLETED' ? 'bg-green-100 text-green-800' :\r\n                        job.status === 'IN_PROGRESS' ? 'bg-blue-100 text-blue-800' :\r\n                        job.status === 'ASSIGNED' ? 'bg-yellow-100 text-yellow-800' :\r\n                        'bg-gray-100 text-gray-800'\r\n                      }`}>\r\n                        {job.status.replace('_', ' ')}\r\n                      </span>\r\n                      <span className=\"text-sm text-gray-500\">\r\n                        ${job.totalAmount?.toLocaleString()}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"text-sm text-gray-500\">\r\n                    {new Date(job.createdAt).toLocaleDateString()}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))\r\n          ) : (\r\n            <div className=\"px-6 py-8 text-center\">\r\n              <FileText className=\"mx-auto h-8 w-8 text-gray-400 mb-2\" />\r\n              <p className=\"text-gray-500\">No jobs yet</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Performance Metrics */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n          <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Performance Score</h3>\r\n          <div className=\"space-y-4\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <span className=\"text-sm text-gray-600\">Quality Score</span>\r\n              <span className=\"text-sm font-medium\">{vendor.qualityScore}/5</span>\r\n            </div>\r\n            <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n              <div \r\n                className=\"bg-orange-600 h-2 rounded-full\" \r\n                style={{ width: `${(vendor.qualityScore / 5) * 100}%` }}\r\n              ></div>\r\n            </div>\r\n            \r\n            <div className=\"flex items-center justify-between\">\r\n              <span className=\"text-sm text-gray-600\">On-Time Performance</span>\r\n              <span className=\"text-sm font-medium\">{vendor.onTimePercentage}%</span>\r\n            </div>\r\n            <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n              <div \r\n                className=\"bg-green-600 h-2 rounded-full\" \r\n                style={{ width: `${vendor.onTimePercentage}%` }}\r\n              ></div>\r\n            </div>\r\n\r\n            <div className=\"flex items-center justify-between\">\r\n              <span className=\"text-sm text-gray-600\">Customer Satisfaction</span>\r\n              <span className=\"text-sm font-medium\">{vendor.customerSatisfactionScore}/5</span>\r\n            </div>\r\n            <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n              <div \r\n                className=\"bg-blue-600 h-2 rounded-full\" \r\n                style={{ width: `${(vendor.customerSatisfactionScore / 5) * 100}%` }}\r\n              ></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n          <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Service Areas</h3>\r\n          <div className=\"space-y-3\">\r\n            {vendor.serviceCategories?.map((category) => (\r\n              <div key={category} className=\"flex items-center\">\r\n                <div className=\"w-2 h-2 bg-orange-600 rounded-full mr-3\"></div>\r\n                <span className=\"text-sm text-gray-700 capitalize\">\r\n                  {category.replace('_', ' ')}\r\n                </span>\r\n              </div>\r\n            ))}\r\n          </div>\r\n          \r\n          <div className=\"mt-6\">\r\n            <div className=\"flex items-center text-sm text-gray-600 mb-2\">\r\n              <MapPin className=\"h-4 w-4 mr-1\" />\r\n              Service Area\r\n            </div>\r\n            <p className=\"text-sm font-medium text-gray-900\">{vendor.serviceArea}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const renderContent = () => {\r\n    // Dashboard Section\r\n    if (activeSection === 'dashboard') {\r\n      if (activeTab === 'overview') return <OverviewTab />;\r\n      if (activeTab === 'analytics') return (\r\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n          <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Business Analytics</h3>\r\n          <p className=\"text-gray-600\">Analytics dashboard coming soon...</p>\r\n        </div>\r\n      );\r\n      if (activeTab === 'performance') return (\r\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n          <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Performance Metrics</h3>\r\n          <p className=\"text-gray-600\">Performance tracking coming soon...</p>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    // Business Section\r\n    if (activeSection === 'business') {\r\n      if (activeTab === 'jobs') return (\r\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n          <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Active Jobs</h3>\r\n          <p className=\"text-gray-600\">Job management interface coming soon...</p>\r\n        </div>\r\n      );\r\n      if (activeTab === 'job-history') return (\r\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n          <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Job History</h3>\r\n          <p className=\"text-gray-600\">Job history interface coming soon...</p>\r\n        </div>\r\n      );\r\n      if (activeTab === 'services') return <ProfileTab vendor={vendor} onUpdate={fetchDashboardData} activeSection=\"services\" />;\r\n      if (activeTab === 'pricing') return <VendorPricingManagement />;\r\n      if (activeTab === 'schedule') return <ProfileTab vendor={vendor} onUpdate={fetchDashboardData} activeSection=\"schedule\" />;\r\n    }\r\n\r\n    // Earnings Section\r\n    if (activeSection === 'earnings') {\r\n      if (activeTab === 'earnings-overview') return (\r\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n          <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Earnings Overview</h3>\r\n          <p className=\"text-gray-600\">Earnings dashboard coming soon...</p>\r\n        </div>\r\n      );\r\n      if (activeTab === 'transactions') return (\r\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n          <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Transaction History</h3>\r\n          <p className=\"text-gray-600\">Transaction history coming soon...</p>\r\n        </div>\r\n      );\r\n      if (activeTab === 'payouts') return (\r\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n          <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Payouts</h3>\r\n          <p className=\"text-gray-600\">Payout management coming soon...</p>\r\n        </div>\r\n      );\r\n      if (activeTab === 'tax-reports') return (\r\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n          <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Tax Reports</h3>\r\n          <p className=\"text-gray-600\">Tax reporting coming soon...</p>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    // Customer Relations Section\r\n    if (activeSection === 'customers') {\r\n      if (activeTab === 'reviews') return (\r\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n          <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Customer Reviews</h3>\r\n          <p className=\"text-gray-600\">Reviews interface coming soon...</p>\r\n        </div>\r\n      );\r\n      if (activeTab === 'customer-list') return (\r\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n          <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Customer List</h3>\r\n          <p className=\"text-gray-600\">Customer management coming soon...</p>\r\n        </div>\r\n      );\r\n      if (activeTab === 'feedback') return (\r\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n          <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Feedback Management</h3>\r\n          <p className=\"text-gray-600\">Feedback management coming soon...</p>\r\n        </div>\r\n      );\r\n      if (activeTab === 'communication') return (\r\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n          <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Customer Communication</h3>\r\n          <p className=\"text-gray-600\">Communication tools coming soon...</p>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    // Membership Section\r\n    if (activeSection === 'membership') {\r\n      if (activeTab === 'current-plan') return <CurrentPlanTab />;\r\n      if (activeTab === 'upgrade-plans') return <UpgradePlansTab />;\r\n      if (activeTab === 'usage-stats') return <UsageStatsTab />;\r\n      if (activeTab === 'billing-history') return <BillingHistoryTab />;\r\n    }\r\n\r\n    // Account Section  \r\n    if (activeSection === 'account') {\r\n      if (activeTab === 'profile') return (\r\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n          <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Profile Information</h3>\r\n          <p className=\"text-gray-600\">Profile management coming soon...</p>\r\n        </div>\r\n      );\r\n      if (activeTab === 'verification') return (\r\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n          <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Account Verification</h3>\r\n          <p className=\"text-gray-600\">Verification status and documents...</p>\r\n        </div>\r\n      );\r\n      if (activeTab === 'settings') return (\r\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n          <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Account Settings</h3>\r\n          <p className=\"text-gray-600\">Settings and preferences coming soon...</p>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return <OverviewTab />;\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      {/* Orange Hero Section */}\r\n      <div className=\"bg-gradient-to-r from-orange-500 to-orange-600 text-white\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16\">\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.6 }}\r\n            className=\"text-center\"\r\n          >\r\n            <h1 className=\"text-4xl md:text-5xl font-bold mb-4\">\r\n              Vendor Dashboard\r\n            </h1>\r\n            <p className=\"text-xl md:text-2xl text-orange-100 mb-6\">\r\n              Welcome back, {vendor.userId?.firstName || 'Vendor'}!\r\n            </p>\r\n            <div className=\"flex items-center justify-center space-x-6 text-orange-100\">\r\n              {vendor.verificationStatus === 'VERIFIED' && (\r\n                <div className=\"flex items-center\">\r\n                  <CheckCircle className=\"h-6 w-6 mr-2\" />\r\n                  <span className=\"text-lg font-medium\">Verified Vendor</span>\r\n                </div>\r\n              )}\r\n              <div className=\"flex items-center\">\r\n                <Star className=\"h-6 w-6 mr-2\" />\r\n                <span className=\"text-lg font-medium\">{vendor.currentRating || '5.0'} Rating</span>\r\n              </div>\r\n              <div className=\"flex items-center\">\r\n                <Users className=\"h-6 w-6 mr-2\" />\r\n                <span className=\"text-lg font-medium\">{vendor.totalJobsCompleted || 0} Jobs Completed</span>\r\n              </div>\r\n            </div>\r\n          </motion.div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n        {/* Quick Stats Cards */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 -mt-12 mb-8\">\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ delay: 0.2 }}\r\n            className=\"bg-white rounded-lg shadow-lg p-6 text-center\"\r\n          >\r\n            <DollarSign className=\"h-12 w-12 text-green-500 mx-auto mb-4\" />\r\n            <h3 className=\"text-2xl font-bold text-gray-900\">$8,450</h3>\r\n            <p className=\"text-gray-600\">Total Earnings</p>\r\n          </motion.div>\r\n          \r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ delay: 0.3 }}\r\n            className=\"bg-white rounded-lg shadow-lg p-6 text-center\"\r\n          >\r\n            <FileText className=\"h-12 w-12 text-blue-500 mx-auto mb-4\" />\r\n            <h3 className=\"text-2xl font-bold text-gray-900\">28</h3>\r\n            <p className=\"text-gray-600\">Active Jobs</p>\r\n          </motion.div>\r\n          \r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ delay: 0.4 }}\r\n            className=\"bg-white rounded-lg shadow-lg p-6 text-center\"\r\n          >\r\n            <Award className=\"h-12 w-12 text-yellow-500 mx-auto mb-4\" />\r\n            <h3 className=\"text-2xl font-bold text-gray-900\">4.8</h3>\r\n            <p className=\"text-gray-600\">Customer Rating</p>\r\n          </motion.div>\r\n        </div>\r\n\r\n        {/* Main Navigation */}\r\n        <div className=\"bg-white rounded-lg shadow-sm mb-6\">\r\n          <div className=\"border-b border-gray-200\">\r\n            <nav className=\"flex space-x-8 px-6\">\r\n              {mainNavigation.map((item) => {\r\n                const Icon = item.icon;\r\n                return (\r\n                  <button\r\n                    key={item.section}\r\n                    onClick={() => {\r\n                      setActiveSection(item.section);\r\n                      setActiveTab(item.tabs[0].tab);\r\n                    }}\r\n                    className={`flex items-center py-4 px-1 border-b-2 font-medium text-sm transition-colors ${\r\n                      activeSection === item.section\r\n                        ? 'border-orange-500 text-orange-600'\r\n                        : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\r\n                    }`}\r\n                  >\r\n                    <Icon className=\"h-5 w-5 mr-2\" />\r\n                    <div className=\"text-left\">\r\n                      <div>{item.name}</div>\r\n                      <div className=\"text-xs text-gray-400 font-normal\">{item.description}</div>\r\n                    </div>\r\n                  </button>\r\n                );\r\n              })}\r\n            </nav>\r\n          </div>\r\n          \r\n          {/* Sub Navigation */}\r\n          {activeSection && (\r\n            <div className=\"px-6 py-3 bg-gray-50\">\r\n              <nav className=\"flex space-x-6\">\r\n                {mainNavigation.find(item => item.section === activeSection)?.tabs?.map((tab) => (\r\n                  <button\r\n                    key={tab.tab}\r\n                    onClick={() => setActiveTab(tab.tab)}\r\n                    className={`px-3 py-2 text-sm font-medium rounded-md transition-colors ${\r\n                      activeTab === tab.tab\r\n                        ? 'bg-orange-600 text-white'\r\n                        : 'text-gray-600 hover:text-gray-900 hover:bg-gray-200'\r\n                    }`}\r\n                  >\r\n                    {tab.name}\r\n                  </button>\r\n                ))}\r\n              </nav>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Content Area */}\r\n        {renderContent()}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VendorDashboardPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}