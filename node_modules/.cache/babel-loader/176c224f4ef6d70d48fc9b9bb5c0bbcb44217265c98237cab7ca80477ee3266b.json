{"ast":null,"code":"import React,{useState,useEffect}from'react';import{motion}from'framer-motion';import{MessageCircle,ArrowLeft,Users,Bell,Settings,HelpCircle,CreditCard}from'lucide-react';import ConversationsList from'../components/communication/ConversationsList';import JobChat from'../components/communication/JobChat';import{useAuth}from'../contexts/AuthContext';import{useNavigate}from'react-router-dom';import{api}from'../services/api';import toast from'react-hot-toast';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const MessagesPage=()=>{var _selectedJob$location;const{user}=useAuth();const navigate=useNavigate();const[selectedJob,setSelectedJob]=useState(null);const[isMobileView,setIsMobileView]=useState(false);const[showConversations,setShowConversations]=useState(true);useEffect(()=>{const checkMobileView=()=>{setIsMobileView(window.innerWidth<768);};checkMobileView();window.addEventListener('resize',checkMobileView);return()=>window.removeEventListener('resize',checkMobileView);},[]);const handleSelectConversation=async conversation=>{try{// Try to fetch full job details from API\ntry{const response=await api.jobs.getJob(conversation._id);setSelectedJob(response.job||response);}catch(apiError){var _conversation$locatio;console.log('Job API not available, using conversation data');// If API fails, use the conversation data as job data\nsetSelectedJob({_id:conversation._id,title:conversation.title,jobNumber:conversation.jobNumber,status:conversation.status,priority:conversation.priority,category:conversation.category,estimatedBudget:conversation.estimatedBudget,location:conversation.location,customer:conversation.customer,vendor:conversation.vendor,createdAt:conversation.createdAt,description:`${conversation.category} service request for ${(_conversation$locatio=conversation.location)===null||_conversation$locatio===void 0?void 0:_conversation$locatio.city}`,// Add any other fields that might be needed\ntotalAmount:conversation.estimatedBudget||0,customerContactNumber:'+65 9876 5432',specialInstructions:'Please contact before arrival',requestedTimeSlot:{date:new Date().toISOString().split('T')[0],startTime:'09:00',endTime:'17:00'}});}if(isMobileView){setShowConversations(false);}}catch(error){console.error('Error handling conversation selection:',error);toast.error('Unable to load conversation details');}};const handleBackToConversations=()=>{setShowConversations(true);setSelectedJob(null);};const handleJobUpdate=updatedJob=>{setSelectedJob(updatedJob);};const WelcomeScreen=()=>/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 flex items-center justify-center bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-24 h-24 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-6\",children:/*#__PURE__*/_jsx(MessageCircle,{className:\"w-12 h-12 text-orange-600\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-4\",children:\"Welcome to Messages\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6 max-w-md\",children:(user===null||user===void 0?void 0:user.role)==='vendor'?'Connect with customers, send quotes, and manage your jobs all in one place.':(user===null||user===void 0?void 0:user.role)==='customer'?'Chat with vendors, discuss your projects, and approve quotes seamlessly.':'Monitor all communications between customers and vendors.'}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4 text-sm text-gray-500\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-green-500 rounded-full\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Real-time messaging\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-blue-500 rounded-full\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Quote management\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-purple-500 rounded-full\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Contact sharing\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-8 text-xs text-gray-400\",children:\"Select a conversation from the left to start messaging\"})]})});// Mobile layout\nif(isMobileView){return/*#__PURE__*/_jsx(\"div\",{className:\"h-[calc(100vh-7rem)] mt-28 bg-white\",children:showConversations?/*#__PURE__*/_jsx(ConversationsList,{onSelectConversation:handleSelectConversation,selectedJobId:selectedJob===null||selectedJob===void 0?void 0:selectedJob._id}):selectedJob?/*#__PURE__*/_jsxs(\"div\",{className:\"h-full flex flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center p-4 border-b border-gray-200 bg-white\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleBackToConversations,className:\"mr-3 p-2 -ml-2 text-gray-600 hover:text-gray-800\",children:/*#__PURE__*/_jsx(ArrowLeft,{className:\"w-5 h-5\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-lg font-semibold\",children:selectedJob.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:selectedJob.jobNumber})]}),(user===null||user===void 0?void 0:user.role)==='customer'&&selectedJob.status==='QUOTE_ACCEPTED'&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(`/payment/${selectedJob._id}`),className:\"flex items-center px-3 py-1 bg-orange-600 text-white rounded-lg text-sm hover:bg-orange-700 transition-colors ml-2\",children:\"Pay Now\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1\",children:/*#__PURE__*/_jsx(JobChat,{job:selectedJob,onJobUpdate:handleJobUpdate,hideHeader:true},selectedJob._id)})]}):null});}// Desktop layout\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"h-[calc(100vh-7rem)] mt-28 bg-gray-100 flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-80 bg-white border-r border-gray-200 flex flex-col\",children:/*#__PURE__*/_jsx(ConversationsList,{onSelectConversation:handleSelectConversation,selectedJobId:selectedJob===null||selectedJob===void 0?void 0:selectedJob._id})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 flex flex-col\",children:selectedJob?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white border-b border-gray-200 px-6 py-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-semibold text-gray-900\",children:selectedJob.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 text-sm text-gray-600\",children:[/*#__PURE__*/_jsx(\"span\",{children:selectedJob.jobNumber}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"span\",{children:selectedJob.category}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"span\",{children:(_selectedJob$location=selectedJob.location)===null||_selectedJob$location===void 0?void 0:_selectedJob$location.city})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"span\",{className:`px-3 py-1 rounded-full text-sm font-medium ${selectedJob.status==='QUOTE_SENT'?'bg-blue-100 text-blue-800':selectedJob.status==='QUOTE_ACCEPTED'?'bg-green-100 text-green-800':selectedJob.status==='IN_DISCUSSION'?'bg-purple-100 text-purple-800':'bg-gray-100 text-gray-800'}`,children:selectedJob.status.replace('_',' ')}),(user===null||user===void 0?void 0:user.role)==='customer'&&selectedJob.status==='QUOTE_ACCEPTED'&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate(`/payment/${selectedJob._id}`),className:\"flex items-center px-3 py-1 bg-orange-600 text-white rounded-lg text-sm hover:bg-orange-700 transition-colors\",children:[/*#__PURE__*/_jsx(CreditCard,{className:\"w-3 h-3 mr-1\"}),\"Pay Now\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"p-2 text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(Settings,{className:\"w-5 h-5\"})})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 bg-white\",children:/*#__PURE__*/_jsx(JobChat,{job:selectedJob,onJobUpdate:handleJobUpdate,hideHeader:true},selectedJob._id)})]}):/*#__PURE__*/_jsx(WelcomeScreen,{})})]});};export default MessagesPage;","map":{"version":3,"names":["React","useState","useEffect","motion","MessageCircle","ArrowLeft","Users","Bell","Settings","HelpCircle","CreditCard","ConversationsList","JobChat","useAuth","useNavigate","api","toast","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MessagesPage","_selectedJob$location","user","navigate","selectedJob","setSelectedJob","isMobileView","setIsMobileView","showConversations","setShowConversations","checkMobileView","window","innerWidth","addEventListener","removeEventListener","handleSelectConversation","conversation","response","jobs","getJob","_id","job","apiError","_conversation$locatio","console","log","title","jobNumber","status","priority","category","estimatedBudget","location","customer","vendor","createdAt","description","city","totalAmount","customerContactNumber","specialInstructions","requestedTimeSlot","date","Date","toISOString","split","startTime","endTime","error","handleBackToConversations","handleJobUpdate","updatedJob","WelcomeScreen","className","children","role","onSelectConversation","selectedJobId","onClick","onJobUpdate","hideHeader","replace"],"sources":["C:/Users/Le520/Documents/Property-Maintainance-Service/src/pages/MessagesPage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { \r\n  MessageCircle, \r\n  ArrowLeft, \r\n  Users, \r\n  Bell,\r\n  Settings,\r\n  HelpCircle,\r\n  CreditCard\r\n} from 'lucide-react';\r\nimport ConversationsList from '../components/communication/ConversationsList';\r\nimport JobChat from '../components/communication/JobChat';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { api } from '../services/api';\r\nimport toast from 'react-hot-toast';\r\n\r\nconst MessagesPage = () => {\r\n  const { user } = useAuth();\r\n  const navigate = useNavigate();\r\n  const [selectedJob, setSelectedJob] = useState(null);\r\n  const [isMobileView, setIsMobileView] = useState(false);\r\n  const [showConversations, setShowConversations] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const checkMobileView = () => {\r\n      setIsMobileView(window.innerWidth < 768);\r\n    };\r\n    \r\n    checkMobileView();\r\n    window.addEventListener('resize', checkMobileView);\r\n    return () => window.removeEventListener('resize', checkMobileView);\r\n  }, []);\r\n\r\n  const handleSelectConversation = async (conversation) => {\r\n    try {\r\n      // Try to fetch full job details from API\r\n      try {\r\n        const response = await api.jobs.getJob(conversation._id);\r\n        setSelectedJob(response.job || response);\r\n      } catch (apiError) {\r\n        console.log('Job API not available, using conversation data');\r\n        // If API fails, use the conversation data as job data\r\n        setSelectedJob({\r\n          _id: conversation._id,\r\n          title: conversation.title,\r\n          jobNumber: conversation.jobNumber,\r\n          status: conversation.status,\r\n          priority: conversation.priority,\r\n          category: conversation.category,\r\n          estimatedBudget: conversation.estimatedBudget,\r\n          location: conversation.location,\r\n          customer: conversation.customer,\r\n          vendor: conversation.vendor,\r\n          createdAt: conversation.createdAt,\r\n          description: `${conversation.category} service request for ${conversation.location?.city}`,\r\n          // Add any other fields that might be needed\r\n          totalAmount: conversation.estimatedBudget || 0,\r\n          customerContactNumber: '+65 9876 5432',\r\n          specialInstructions: 'Please contact before arrival',\r\n          requestedTimeSlot: {\r\n            date: new Date().toISOString().split('T')[0],\r\n            startTime: '09:00',\r\n            endTime: '17:00'\r\n          }\r\n        });\r\n      }\r\n      \r\n      if (isMobileView) {\r\n        setShowConversations(false);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error handling conversation selection:', error);\r\n      toast.error('Unable to load conversation details');\r\n    }\r\n  };\r\n\r\n  const handleBackToConversations = () => {\r\n    setShowConversations(true);\r\n    setSelectedJob(null);\r\n  };\r\n\r\n  const handleJobUpdate = (updatedJob) => {\r\n    setSelectedJob(updatedJob);\r\n  };\r\n\r\n  const WelcomeScreen = () => (\r\n    <div className=\"flex-1 flex items-center justify-center bg-gray-50\">\r\n      <div className=\"text-center\">\r\n        <div className=\"w-24 h-24 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-6\">\r\n          <MessageCircle className=\"w-12 h-12 text-orange-600\" />\r\n        </div>\r\n        <h2 className=\"text-2xl font-bold text-gray-900 mb-4\">\r\n          Welcome to Messages\r\n        </h2>\r\n        <p className=\"text-gray-600 mb-6 max-w-md\">\r\n          {user?.role === 'vendor' \r\n            ? 'Connect with customers, send quotes, and manage your jobs all in one place.'\r\n            : user?.role === 'customer'\r\n            ? 'Chat with vendors, discuss your projects, and approve quotes seamlessly.'\r\n            : 'Monitor all communications between customers and vendors.'\r\n          }\r\n        </p>\r\n        \r\n        <div className=\"space-y-4 text-sm text-gray-500\">\r\n          <div className=\"flex items-center justify-center space-x-2\">\r\n            <div className=\"w-2 h-2 bg-green-500 rounded-full\"></div>\r\n            <span>Real-time messaging</span>\r\n          </div>\r\n          <div className=\"flex items-center justify-center space-x-2\">\r\n            <div className=\"w-2 h-2 bg-blue-500 rounded-full\"></div>\r\n            <span>Quote management</span>\r\n          </div>\r\n          <div className=\"flex items-center justify-center space-x-2\">\r\n            <div className=\"w-2 h-2 bg-purple-500 rounded-full\"></div>\r\n            <span>Contact sharing</span>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"mt-8 text-xs text-gray-400\">\r\n          Select a conversation from the left to start messaging\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  // Mobile layout\r\n  if (isMobileView) {\r\n    return (\r\n      <div className=\"h-[calc(100vh-7rem)] mt-28 bg-white\">\r\n        {showConversations ? (\r\n          <ConversationsList\r\n            onSelectConversation={handleSelectConversation}\r\n            selectedJobId={selectedJob?._id}\r\n          />\r\n        ) : selectedJob ? (\r\n          <div className=\"h-full flex flex-col\">\r\n            {/* Mobile Header */}\r\n            <div className=\"flex items-center p-4 border-b border-gray-200 bg-white\">\r\n              <button\r\n                onClick={handleBackToConversations}\r\n                className=\"mr-3 p-2 -ml-2 text-gray-600 hover:text-gray-800\"\r\n              >\r\n                <ArrowLeft className=\"w-5 h-5\" />\r\n              </button>\r\n              <div className=\"flex-1\">\r\n                <h1 className=\"text-lg font-semibold\">{selectedJob.title}</h1>\r\n                <p className=\"text-sm text-gray-600\">{selectedJob.jobNumber}</p>\r\n              </div>\r\n              \r\n              {/* Pay Now Button - Mobile */}\r\n              {user?.role === 'customer' && selectedJob.status === 'QUOTE_ACCEPTED' && (\r\n                <button\r\n                  onClick={() => navigate(`/payment/${selectedJob._id}`)}\r\n                  className=\"flex items-center px-3 py-1 bg-orange-600 text-white rounded-lg text-sm hover:bg-orange-700 transition-colors ml-2\"\r\n                >\r\n                  Pay Now\r\n                </button>\r\n              )}\r\n            </div>\r\n            \r\n            {/* Chat */}\r\n            <div className=\"flex-1\">\r\n              <JobChat\r\n                key={selectedJob._id}\r\n                job={selectedJob}\r\n                onJobUpdate={handleJobUpdate}\r\n                hideHeader={true}\r\n              />\r\n            </div>\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Desktop layout\r\n  return (\r\n    <div className=\"h-[calc(100vh-7rem)] mt-28 bg-gray-100 flex\">\r\n      {/* Sidebar - Conversations List */}\r\n      <div className=\"w-80 bg-white border-r border-gray-200 flex flex-col\">\r\n        <ConversationsList\r\n          onSelectConversation={handleSelectConversation}\r\n          selectedJobId={selectedJob?._id}\r\n        />\r\n      </div>\r\n      \r\n      {/* Main Content - Chat or Welcome */}\r\n      <div className=\"flex-1 flex flex-col\">\r\n        {selectedJob ? (\r\n          <>\r\n            {/* Desktop Chat Header */}\r\n            <div className=\"bg-white border-b border-gray-200 px-6 py-4\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                  <h1 className=\"text-xl font-semibold text-gray-900\">\r\n                    {selectedJob.title}\r\n                  </h1>\r\n                  <div className=\"flex items-center space-x-4 text-sm text-gray-600\">\r\n                    <span>{selectedJob.jobNumber}</span>\r\n                    <span>•</span>\r\n                    <span>{selectedJob.category}</span>\r\n                    <span>•</span>\r\n                    <span>{selectedJob.location?.city}</span>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"flex items-center space-x-4\">\r\n                  <span className={`px-3 py-1 rounded-full text-sm font-medium ${\r\n                    selectedJob.status === 'QUOTE_SENT' ? 'bg-blue-100 text-blue-800' :\r\n                    selectedJob.status === 'QUOTE_ACCEPTED' ? 'bg-green-100 text-green-800' :\r\n                    selectedJob.status === 'IN_DISCUSSION' ? 'bg-purple-100 text-purple-800' :\r\n                    'bg-gray-100 text-gray-800'\r\n                  }`}>\r\n                    {selectedJob.status.replace('_', ' ')}\r\n                  </span>\r\n                  \r\n                  {/* Pay Now Button - Desktop */}\r\n                  {user?.role === 'customer' && selectedJob.status === 'QUOTE_ACCEPTED' && (\r\n                    <button\r\n                      onClick={() => navigate(`/payment/${selectedJob._id}`)}\r\n                      className=\"flex items-center px-3 py-1 bg-orange-600 text-white rounded-lg text-sm hover:bg-orange-700 transition-colors\"\r\n                    >\r\n                      <CreditCard className=\"w-3 h-3 mr-1\" />\r\n                      Pay Now\r\n                    </button>\r\n                  )}\r\n                  \r\n                  <button className=\"p-2 text-gray-400 hover:text-gray-600\">\r\n                    <Settings className=\"w-5 h-5\" />\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            {/* Chat Component */}\r\n            <div className=\"flex-1 bg-white\">\r\n              <JobChat\r\n                key={selectedJob._id}\r\n                job={selectedJob}\r\n                onJobUpdate={handleJobUpdate}\r\n                hideHeader={true}\r\n              />\r\n            </div>\r\n          </>\r\n        ) : (\r\n          <WelcomeScreen />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MessagesPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}