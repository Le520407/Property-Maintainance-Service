{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{Routes,Route,Link,useLocation,useNavigate}from'react-router-dom';import{motion}from'framer-motion';import{Home,User,Settings,LogOut,Calendar,DollarSign,Users,Package,Star,TrendingUp,FileText,MessageSquare,Building,CheckCircle,ArrowLeft,Gift,Share2,Copy,Mail,Phone,MapPin,Edit,Save,X,Eye,EyeOff}from'lucide-react';import{useAuth}from'../../contexts/AuthContext';import{api}from'../../services/api';import toast from'react-hot-toast';// Order Details Modal Component\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const OrderDetailsModal=_ref=>{var _order$subtotal,_order$taxAmount,_order$payment;let{order,onClose,onOrderUpdate}=_ref;const[loading,setLoading]=useState(false);const handleCancelOrder=async()=>{try{setLoading(true);await api.jobs.cancelJob(order._id,'Cancelled by customer');toast.success('Order cancelled successfully');onOrderUpdate();// Refresh parent data\nonClose();}catch(error){console.error('Failed to cancel order:',error);toast.error('Failed to cancel order');}finally{setLoading(false);}};const getStatusColor=status=>{switch(status){case'COMPLETED':return'bg-green-100 text-green-800 border-green-200';case'IN_PROGRESS':return'bg-blue-100 text-blue-800 border-blue-200';case'ASSIGNED':return'bg-purple-100 text-purple-800 border-purple-200';case'PENDING':return'bg-yellow-100 text-yellow-800 border-yellow-200';case'CANCELLED':return'bg-red-100 text-red-800 border-red-200';default:return'bg-gray-100 text-gray-800 border-gray-200';}};const formatDate=dateString=>{return new Date(dateString).toLocaleDateString('en-US',{year:'numeric',month:'long',day:'numeric',hour:'2-digit',minute:'2-digit'});};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4\",children:/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,scale:0.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0.95},className:\"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-screen overflow-y-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-gray-900\",children:\"Order Details\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"Job #\",order.jobNumber]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"text-gray-400 hover:text-gray-600 transition-colors\",children:/*#__PURE__*/_jsx(X,{className:\"w-6 h-6\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:`inline-flex px-3 py-1 rounded-full text-sm font-medium border ${getStatusColor(order.status)}`,children:order.status.replace('_',' ')}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mt-2\",children:order.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:order.description})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:[\"$\",order.totalAmount.toFixed(2)]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Total Amount\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold mb-3\",children:\"Service Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Category\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium capitalize\",children:order.category})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Priority\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium\",children:order.priority})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Estimated Duration\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-medium\",children:[order.estimatedDuration,\" hours\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Emergency Service\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium\",children:order.isEmergency?'Yes':'No'})]})]})]}),order.location&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-semibold mb-3 flex items-center\",children:[/*#__PURE__*/_jsx(MapPin,{className:\"w-4 h-4 mr-2\"}),\"Location\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1\",children:[/*#__PURE__*/_jsx(\"p\",{children:order.location.address}),/*#__PURE__*/_jsxs(\"p\",{children:[order.location.city,\", \",order.location.state,\" \",order.location.zipCode]})]}),order.accessInstructions&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Access Instructions\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:order.accessInstructions})]})]}),order.requestedTimeSlot&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-semibold mb-3 flex items-center\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"w-4 h-4 mr-2\"}),\"Requested Schedule\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Date\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium\",children:new Date(order.requestedTimeSlot.date).toLocaleDateString()})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Time\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-medium\",children:[order.requestedTimeSlot.startTime,\" - \",order.requestedTimeSlot.endTime]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-semibold mb-3 flex items-center\",children:[/*#__PURE__*/_jsx(Phone,{className:\"w-4 h-4 mr-2\"}),\"Contact Information\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium\",children:order.customerContactNumber})]}),order.specialInstructions&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-semibold mb-3 flex items-center\",children:[/*#__PURE__*/_jsx(FileText,{className:\"w-4 h-4 mr-2\"}),\"Special Instructions\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:order.specialInstructions})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold mb-3\",children:\"Order Timeline\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Created:\"}),/*#__PURE__*/_jsx(\"span\",{children:formatDate(order.createdAt)})]}),order.updatedAt!==order.createdAt&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Last Updated:\"}),/*#__PURE__*/_jsx(\"span\",{children:formatDate(order.updatedAt)})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold mb-3\",children:\"Payment Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Subtotal\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-medium\",children:[\"$\",((_order$subtotal=order.subtotal)===null||_order$subtotal===void 0?void 0:_order$subtotal.toFixed(2))||'0.00']})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Tax\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-medium\",children:[\"$\",((_order$taxAmount=order.taxAmount)===null||_order$taxAmount===void 0?void 0:_order$taxAmount.toFixed(2))||'0.00']})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Total\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-bold text-lg\",children:[\"$\",order.totalAmount.toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Status\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium capitalize\",children:((_order$payment=order.payment)===null||_order$payment===void 0?void 0:_order$payment.status)||'Pending'})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sticky bottom-0 bg-white border-t px-6 py-4 flex justify-between\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors\",children:\"Close\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-x-3\",children:[['PENDING','ASSIGNED'].includes(order.status)&&/*#__PURE__*/_jsx(\"button\",{onClick:handleCancelOrder,disabled:loading,className:\"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 transition-colors\",children:loading?'Cancelling...':'Cancel Order'}),order.status==='COMPLETED'&&/*#__PURE__*/_jsx(\"button\",{className:\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\",children:\"Leave Review\"})]})]})]})});};// Enhanced Customer Dashboard with Real Data\nconst CustomerDashboard=()=>{const{user}=useAuth();const navigate=useNavigate();const[loading,setLoading]=useState(true);const[dashboardData,setDashboardData]=useState({stats:{totalOrders:0,pendingOrders:0,completedOrders:0,totalSpent:0},recentOrders:[]});const[selectedOrder,setSelectedOrder]=useState(null);const[showOrderDetails,setShowOrderDetails]=useState(false);const hasShownLoadToast=useRef(false);useEffect(()=>{loadDashboardData();},[]);const loadDashboardData=async()=>{setLoading(true);// Load order data (using sample data as backend is not connected)\nconst orders=[{_id:'689e8db0fca44481aba3371f',jobNumber:'JOB1755221424634BA9G',title:'Pest Control',description:'Effective pest control and prevention services using safe chemicals and professional techniques.',category:'general',status:'PENDING',priority:'MEDIUM',isEmergency:false,totalAmount:200,subtotal:200,taxAmount:0,estimatedDuration:2,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),location:{address:'789 Test Pest Street',city:'Singapore',state:'Singapore',zipCode:'567890'},requestedTimeSlot:{date:'2024-12-17',startTime:'10:00',endTime:'12:00'},customerContactNumber:'+65 9876 5432',specialInstructions:'Please use safe chemicals, we have pets',accessInstructions:'Ring doorbell twice',payment:{status:'PENDING'}},{_id:'689e99a5fca44481aba337ab',jobNumber:'JOB1755224485804756G',title:'Emergency Plumbing Fix',description:'Fix leaking kitchen sink',category:'plumbing',status:'IN_PROGRESS',priority:'HIGH',isEmergency:true,totalAmount:150,subtotal:150,taxAmount:0,estimatedDuration:3,createdAt:new Date(Date.now()-86400000).toISOString(),// 1 day ago\nupdatedAt:new Date().toISOString(),location:{address:'456 Emergency Street',city:'Singapore',state:'Singapore',zipCode:'567890'},requestedTimeSlot:{date:'2024-12-16',startTime:'10:00',endTime:'14:00'},customerContactNumber:'+65 9876 5432',specialInstructions:'Urgent fix needed',accessInstructions:'Ring doorbell',payment:{status:'PENDING'}},{_id:'689e8db0fca44481aba33720',jobNumber:'JOB1755221424634BA9H',title:'House Cleaning Service',description:'Deep cleaning for 3-bedroom apartment',category:'cleaning',status:'COMPLETED',priority:'LOW',isEmergency:false,totalAmount:120,subtotal:120,taxAmount:0,estimatedDuration:4,createdAt:new Date(Date.now()-259200000).toISOString(),// 3 days ago\nupdatedAt:new Date(Date.now()-86400000).toISOString(),// 1 day ago\nlocation:{address:'123 Clean Street',city:'Singapore',state:'Singapore',zipCode:'123456'},requestedTimeSlot:{date:'2024-12-14',startTime:'09:00',endTime:'13:00'},customerContactNumber:'+65 1234 5678',specialInstructions:'Please clean bathroom thoroughly',accessInstructions:'Key under mat',payment:{status:'PAID'}}];// Calculate stats from orders\nconst stats={totalOrders:orders.length,pendingOrders:orders.filter(order=>['PENDING','ASSIGNED','IN_PROGRESS'].includes(order.status)).length,completedOrders:orders.filter(order=>order.status==='COMPLETED').length,totalSpent:orders.reduce((sum,order)=>sum+(order.totalAmount||0),0)};// Set the data\nsetDashboardData({stats,recentOrders:orders});// Show success message only once\nif(!hasShownLoadToast.current){toast.success('Dashboard loaded successfully!',{duration:2000});hasShownLoadToast.current=true;}setLoading(false);};const handleViewOrder=order=>{setSelectedOrder(order);setShowOrderDetails(true);};const handleCancelOrder=async orderId=>{// Check if order is already cancelled to prevent duplicate actions\nconst orderToCancel=dashboardData.recentOrders.find(order=>order._id===orderId);if((orderToCancel===null||orderToCancel===void 0?void 0:orderToCancel.status)==='CANCELLED'){toast.info('Order is already cancelled');return;}// Update order status to cancelled\nsetDashboardData(prevData=>{const updatedOrders=prevData.recentOrders.map(order=>order._id===orderId?{...order,status:'CANCELLED'}:order);// Recalculate all stats from the updated orders\nconst newStats={totalOrders:updatedOrders.length,pendingOrders:updatedOrders.filter(order=>['PENDING','ASSIGNED','IN_PROGRESS'].includes(order.status)).length,completedOrders:updatedOrders.filter(order=>order.status==='COMPLETED').length,// Only count spent money for completed orders (cancelled orders get refunded)\ntotalSpent:updatedOrders.filter(order=>order.status==='COMPLETED').reduce((sum,order)=>sum+(order.totalAmount||0),0)};return{...prevData,recentOrders:updatedOrders,stats:newStats};});toast.success('Order cancelled successfully!',{duration:2000});};const getStatusColor=status=>{switch(status){case'COMPLETED':return'bg-emerald-100 text-emerald-800 border border-emerald-200';case'IN_PROGRESS':return'bg-blue-100 text-blue-800 border border-blue-200';case'ASSIGNED':return'bg-purple-100 text-purple-800 border border-purple-200';case'PENDING':return'bg-amber-100 text-amber-800 border border-amber-200';case'CANCELLED':return'bg-red-100 text-red-800 border border-red-200';default:return'bg-gray-100 text-gray-800 border border-gray-200';}};const formatDate=dateString=>{return new Date(dateString).toLocaleDateString('en-US',{year:'numeric',month:'short',day:'numeric'});};const stats=[{title:'Total Orders',value:dashboardData.stats.totalOrders,icon:Package,color:'bg-gradient-to-r from-blue-500 to-blue-600',textColor:'text-blue-600',bgColor:'bg-blue-50'},{title:'Pending',value:dashboardData.stats.pendingOrders,icon:Calendar,color:'bg-gradient-to-r from-amber-500 to-yellow-600',textColor:'text-amber-600',bgColor:'bg-amber-50'},{title:'Completed',value:dashboardData.stats.completedOrders,icon:CheckCircle,color:'bg-gradient-to-r from-emerald-500 to-green-600',textColor:'text-emerald-600',bgColor:'bg-emerald-50'},{title:'Total Spent',value:`$${dashboardData.stats.totalSpent.toFixed(2)}`,icon:DollarSign,color:'bg-gradient-to-r from-purple-500 to-indigo-600',textColor:'text-purple-600',bgColor:'bg-purple-50'}];if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\",children:[1,2,3,4].map(i=>/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-6 rounded-xl shadow-lg border border-gray-100 animate-pulse\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-14 h-14 bg-gradient-to-r from-gray-200 to-gray-300 rounded-full\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4 flex-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-4 bg-gray-300 rounded-full w-20 mb-3\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-8 bg-gray-300 rounded-full w-16\"})]})]})},i))}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-lg border border-gray-100 p-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-8 bg-gray-300 rounded-full w-48 mb-6\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:[1,2,3].map(i=>/*#__PURE__*/_jsx(\"div\",{className:\"h-16 bg-gray-100 rounded-lg animate-pulse\"},i))})]})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-orange-500 via-orange-600 to-red-600 rounded-2xl p-8 text-white shadow-lg border border-orange-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-3xl font-bold mb-2\",children:[\"Welcome back, \",(user===null||user===void 0?void 0:user.firstName)||(user===null||user===void 0?void 0:user.name),\"! \\uD83D\\uDC4B\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-orange-100 text-lg\",children:\"Track your service requests and manage your property maintenance\"})]}),/*#__PURE__*/_jsx(Link,{to:\"/order-request\",className:\"bg-white text-orange-600 px-8 py-3 rounded-xl font-semibold hover:bg-orange-50 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105\",children:\"+ Request New Service\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\",children:stats.map((stat,index)=>/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.6,delay:index*0.1},className:\"bg-white p-6 rounded-xl shadow-lg border border-gray-100 hover:shadow-xl hover:border-gray-200 transition-all duration-300 transform hover:-translate-y-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:`p-4 rounded-xl ${stat.color} text-white shadow-lg`,children:/*#__PURE__*/_jsx(stat.icon,{size:24})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600 mb-1\",children:stat.title}),/*#__PURE__*/_jsx(\"p\",{className:`text-2xl font-bold ${stat.textColor}`,children:stat.value})]})]}),/*#__PURE__*/_jsx(\"div\",{className:`w-16 h-16 ${stat.bgColor} rounded-full flex items-center justify-center opacity-20`,children:/*#__PURE__*/_jsx(stat.icon,{size:28,className:stat.textColor})})]})},index))}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-lg border border-gray-100 p-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-1\",children:\"Recent Orders\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Track your latest service requests\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/dashboard?section=orders'),className:\"bg-orange-600 text-white px-6 py-2 rounded-lg hover:bg-orange-700 transition-all duration-200 font-medium shadow-md hover:shadow-lg transform hover:scale-105\",children:\"View All Orders \\u2192\"})]}),dashboardData.recentOrders.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"min-w-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"hidden lg:grid lg:grid-cols-6 gap-4 py-4 px-6 bg-gray-50 rounded-lg font-semibold text-gray-700 text-sm mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"Job Number\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Service\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Date\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Amount\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Actions\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:dashboardData.recentOrders.slice(0,5).map((order,index)=>/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:index*0.1},className:\"lg:grid lg:grid-cols-6 gap-4 p-6 bg-gray-50 rounded-xl hover:bg-gray-100 transition-all duration-200 border border-gray-200 hover:border-gray-300\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"lg:hidden space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-mono text-sm text-gray-600\",children:order.jobNumber}),/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-gray-900\",children:order.title})]}),/*#__PURE__*/_jsx(\"span\",{className:`px-3 py-1 rounded-full text-xs font-medium ${getStatusColor(order.status)}`,children:order.status.replace('_',' ')})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:formatDate(order.createdAt)}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-lg font-bold text-gray-900\",children:[\"$\",order.totalAmount.toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleViewOrder(order),className:\"bg-blue-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-blue-700 transition-colors\",children:\"View\"}),['PENDING','ASSIGNED'].includes(order.status)&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleCancelOrder(order._id),className:\"bg-red-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-red-700 transition-colors\",children:\"Cancel\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"hidden lg:flex lg:items-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"font-mono text-sm text-gray-600\",children:order.jobNumber})}),/*#__PURE__*/_jsx(\"div\",{className:\"hidden lg:flex lg:items-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-gray-900\",children:order.title})}),/*#__PURE__*/_jsx(\"div\",{className:\"hidden lg:flex lg:items-center\",children:/*#__PURE__*/_jsx(\"span\",{className:`px-3 py-1 rounded-full text-xs font-medium ${getStatusColor(order.status)}`,children:order.status.replace('_',' ')})}),/*#__PURE__*/_jsx(\"div\",{className:\"hidden lg:flex lg:items-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-700\",children:formatDate(order.createdAt)})}),/*#__PURE__*/_jsx(\"div\",{className:\"hidden lg:flex lg:items-center\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"text-lg font-bold text-gray-900\",children:[\"$\",order.totalAmount.toFixed(2)]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"hidden lg:flex lg:items-center lg:space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleViewOrder(order),className:\"bg-blue-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-blue-700 transition-colors\",children:\"View Details\"}),['PENDING','ASSIGNED'].includes(order.status)&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleCancelOrder(order._id),className:\"bg-red-600 text-white px-3 py-2 rounded-lg text-sm hover:bg-red-700 transition-colors\",children:\"Cancel\"})]})]},order._id))})]})}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-16\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-100 rounded-full w-24 h-24 flex items-center justify-center mx-auto mb-6\",children:/*#__PURE__*/_jsx(Package,{className:\"w-12 h-12 text-gray-400\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-semibold text-gray-900 mb-3\",children:\"No orders yet\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-8 text-lg\",children:\"Ready to get started? Request your first service and let us handle the rest!\"}),/*#__PURE__*/_jsx(Link,{to:\"/order-request\",className:\"bg-gradient-to-r from-orange-600 to-red-600 text-white px-8 py-4 rounded-xl hover:from-orange-700 hover:to-red-700 transition-all duration-200 font-semibold shadow-lg hover:shadow-xl transform hover:scale-105\",children:\"\\uD83D\\uDE80 Request Your First Service\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-6\",children:\"Quick Actions\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsx(Link,{to:\"/order-request\",className:\"bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl shadow-lg p-8 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 block text-white group\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-4 rounded-xl bg-white bg-opacity-20 group-hover:bg-opacity-30 transition-all duration-200\",children:/*#__PURE__*/_jsx(Package,{className:\"w-8 h-8\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold\",children:\"Request Service\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-orange-100 mt-1\",children:\"Book a new maintenance service\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-orange-200 group-hover:text-white transition-colors\",children:\"\\u2192\"})]})}),/*#__PURE__*/_jsx(Link,{to:\"/services\",className:\"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl shadow-lg p-8 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 block text-white group\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-4 rounded-xl bg-white bg-opacity-20 group-hover:bg-opacity-30 transition-all duration-200\",children:/*#__PURE__*/_jsx(Settings,{className:\"w-8 h-8\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold\",children:\"Browse Services\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-blue-100 mt-1\",children:\"Explore available services\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-blue-200 group-hover:text-white transition-colors\",children:\"\\u2192\"})]})}),/*#__PURE__*/_jsx(\"button\",{onClick:loadDashboardData,className:\"bg-gradient-to-br from-emerald-500 to-green-600 rounded-xl shadow-lg p-8 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 text-white group\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-4 rounded-xl bg-white bg-opacity-20 group-hover:bg-opacity-30 transition-all duration-200\",children:/*#__PURE__*/_jsx(TrendingUp,{className:\"w-8 h-8\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold\",children:\"Refresh Data\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-emerald-100 mt-1\",children:\"Update dashboard information\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-emerald-200 group-hover:text-white transition-colors\",children:\"\\u21BB\"})]})})]})]}),showOrderDetails&&selectedOrder&&/*#__PURE__*/_jsx(OrderDetailsModal,{order:selectedOrder,onClose:()=>setShowOrderDetails(false),onOrderUpdate:loadDashboardData})]});};const VendorDashboard=()=>{const stats=[{title:'Total Revenue',value:'SGD 8,450',icon:DollarSign,color:'bg-green-500'},{title:'Monthly Orders',value:'28',icon:Package,color:'bg-blue-500'},{title:'Customer Rating',value:'4.8',icon:Star,color:'bg-yellow-500'},{title:'Active Customers',value:'45',icon:Users,color:'bg-purple-500'},{title:'Monthly Commission',value:'SGD 1,267',icon:TrendingUp,color:'bg-indigo-500'},{title:'Completion Rate',value:'94%',icon:CheckCircle,color:'bg-emerald-500'}];const subscriptionInfo={plan:'Professional',status:'Active',nextBilling:'2024-02-15',features:['Advanced CRM','Detailed Analytics','Custom Quote Templates','Priority Support']};const recentJobs=[{id:1,customer:'John Smith',service:'Plumbing Repair',status:'In Progress',amount:'SGD 350',commission:'SGD 52.50'},{id:2,customer:'Sarah Johnson',service:'Electrical Inspection',status:'Completed',amount:'SGD 200',commission:'SGD 30.00'},{id:3,customer:'Mike Wilson',service:'Cleaning Service',status:'Pending',amount:'SGD 150',commission:'SGD 22.50'}];const upcomingTraining=[{title:'Customer Service Skills',date:'2024-01-25',duration:'2 hours',type:'Online Course'},{title:'Financial Management Basics',date:'2024-01-30',duration:'3 hours',type:'Online Course'}];return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold\",children:\"Vendor Dashboard\"}),/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:\"bg-gradient-to-r from-orange-500 to-orange-600 text-white p-6 rounded-lg shadow-md\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-2\",children:\"Subscription Status\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-orange-50\",children:[\"Current Plan: \",subscriptionInfo.plan]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-orange-50\",children:[\"Next Billing: \",subscriptionInfo.nextBilling]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-right\",children:/*#__PURE__*/_jsx(\"span\",{className:\"bg-green-400 text-green-900 px-3 py-1 rounded-full text-sm font-medium\",children:subscriptionInfo.status})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:stats.map((stat,index)=>/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.6,delay:index*0.1},className:\"bg-white p-6 rounded-lg shadow-md\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:`p-3 rounded-full ${stat.color} text-white`,children:/*#__PURE__*/_jsx(stat.icon,{size:24})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:stat.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold\",children:stat.value})]})]})},index))}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid lg:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-4\",children:\"Recent Jobs\"}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"border-b\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-3\",children:\"Customer\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-3\",children:\"Service\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-3\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-3\",children:\"Amount\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-3\",children:\"Commission\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:recentJobs.map(job=>/*#__PURE__*/_jsxs(\"tr\",{className:\"border-b hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"py-3\",children:job.customer}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3\",children:job.service}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3\",children:/*#__PURE__*/_jsx(\"span\",{className:`px-2 py-1 rounded-full text-xs ${job.status==='Completed'?'bg-green-100 text-green-800':job.status==='In Progress'?'bg-blue-100 text-blue-800':'bg-yellow-100 text-yellow-800'}`,children:job.status})}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 font-medium\",children:job.amount}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 text-green-600 font-medium\",children:job.commission})]},job.id))})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-4\",children:\"Upcoming Training\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:upcomingTraining.map((training,index)=>/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:index*0.1},className:\"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-gray-900\",children:training.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[training.date,\" \\u2022 \",training.duration]}),/*#__PURE__*/_jsx(\"span\",{className:\"inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded mt-2\",children:training.type})]}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700 transition-colors\",children:\"Join\"})]})},index))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-4\",children:\"Quick Actions\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"flex flex-col items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"w-8 h-8 text-blue-600 mb-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:\"Schedule Work\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"flex flex-col items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors\",children:[/*#__PURE__*/_jsx(FileText,{className:\"w-8 h-8 text-green-600 mb-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:\"Create Quote\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"flex flex-col items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors\",children:[/*#__PURE__*/_jsx(MessageSquare,{className:\"w-8 h-8 text-purple-600 mb-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:\"Customer Communication\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"flex flex-col items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors\",children:[/*#__PURE__*/_jsx(TrendingUp,{className:\"w-8 h-8 text-orange-600 mb-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:\"View Reports\"})]})]})]})]});};const AdminDashboard=()=>{const stats=[{title:'Total Users',value:'1,234',icon:Users,color:'bg-blue-500'},{title:'Total Vendors',value:'89',icon:Building,color:'bg-green-500'},{title:'Monthly Revenue',value:'$45,680',icon:DollarSign,color:'bg-purple-500'},{title:'Pending Review',value:'12',icon:FileText,color:'bg-yellow-500'}];return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold\",children:\"Admin Dashboard\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\",children:stats.map((stat,index)=>/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.6,delay:index*0.1},className:\"bg-white p-6 rounded-lg shadow-md\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:`p-3 rounded-full ${stat.color} text-white`,children:/*#__PURE__*/_jsx(stat.icon,{size:24})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:stat.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold\",children:stat.value})]})]})},index))}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-4\",children:\"Quick Actions\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsx(Link,{to:\"/admin/faqs\",className:\"w-full text-left p-3 border rounded-lg hover:bg-gray-50 block transition-colors\",children:\"FAQ Management\"}),/*#__PURE__*/_jsx(Link,{to:\"/admin/pricing\",className:\"w-full text-left p-3 border rounded-lg hover:bg-gray-50 block transition-colors\",children:\"Pricing Management\"}),/*#__PURE__*/_jsx(\"button\",{className:\"w-full text-left p-3 border rounded-lg hover:bg-gray-50\",children:\"Review Vendor Applications\"}),/*#__PURE__*/_jsx(\"button\",{className:\"w-full text-left p-3 border rounded-lg hover:bg-gray-50\",children:\"View System Reports\"}),/*#__PURE__*/_jsx(\"button\",{className:\"w-full text-left p-3 border rounded-lg hover:bg-gray-50\",children:\"Manage User Accounts\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-4\",children:\"System Status\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Server Status\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-green-600\",children:\"Normal\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Database Connection\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-green-600\",children:\"Normal\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Payment System\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-green-600\",children:\"Normal\"})]})]})]})]})]});};// Profile Management Component\nconst ProfileTab=()=>{const{user,updateUser}=useAuth();const[isEditing,setIsEditing]=useState(false);const[showPasswordChange,setShowPasswordChange]=useState(false);const[profileData,setProfileData]=useState({firstName:(user===null||user===void 0?void 0:user.firstName)||'',lastName:(user===null||user===void 0?void 0:user.lastName)||'',email:(user===null||user===void 0?void 0:user.email)||'',phone:(user===null||user===void 0?void 0:user.phone)||'',address:(user===null||user===void 0?void 0:user.address)||'',// Street Address\ncity:(user===null||user===void 0?void 0:user.city)||'',state:(user===null||user===void 0?void 0:user.state)||'',zipCode:(user===null||user===void 0?void 0:user.zipCode)||'',country:(user===null||user===void 0?void 0:user.country)||'Malaysia'});// Update profile data when user context changes\nuseEffect(()=>{if(user){setProfileData({firstName:user.firstName||'',lastName:user.lastName||'',email:user.email||'',phone:user.phone||'',address:user.address||'',city:user.city||'',state:user.state||'',zipCode:user.zipCode||'',country:user.country||'Malaysia'});}},[user]);const[passwordData,setPasswordData]=useState({currentPassword:'',newPassword:'',confirmPassword:''});const handleProfileUpdate=async()=>{try{const response=await api.users.updateProfile(profileData);setIsEditing(false);toast.success('Profile updated successfully! ✅');// Update the profileData state with the response to reflect any server changes\nif(response.user){const updatedProfileData={firstName:response.user.firstName||'',lastName:response.user.lastName||'',email:response.user.email||'',phone:response.user.phone||'',address:response.user.address||'',city:response.user.city||'',state:response.user.state||'',zipCode:response.user.zipCode||'',country:response.user.country||'Malaysia'};setProfileData(updatedProfileData);// Update the AuthContext with new user data so it's reflected everywhere\nupdateUser({// Keep all other user properties unchanged\n...user,firstName:response.user.firstName,lastName:response.user.lastName,name:response.user.fullName||`${response.user.firstName} ${response.user.lastName}`,phone:response.user.phone,address:response.user.address||'',city:response.user.city||'',state:response.user.state||'',zipCode:response.user.zipCode||'',country:response.user.country||'Malaysia'});}}catch(error){console.error('❌ Profile update error:',error);toast.error(`Failed to update profile: ${error.message}`);}};const handlePasswordChange=async()=>{if(passwordData.newPassword!==passwordData.confirmPassword){toast.error('Passwords do not match');return;}if(passwordData.newPassword.length<6){toast.error('New password must be at least 6 characters long');return;}try{const response=await api.users.changePassword(passwordData);setPasswordData({currentPassword:'',newPassword:'',confirmPassword:''});setShowPasswordChange(false);toast.success('Password changed successfully! ✅');}catch(error){console.error('❌ Password change error:',error);toast.error(`Failed to change password: ${error.message}`);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:\"Profile\"}),!isEditing&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setIsEditing(true),className:\"flex items-center px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700\",children:[/*#__PURE__*/_jsx(Edit,{className:\"w-4 h-4 mr-2\"}),\"Edit Profile\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:profileData.firstName,onChange:e=>setProfileData({...profileData,firstName:e.target.value}),disabled:!isEditing,className:\"w-full px-3 py-2 border border-gray-300 rounded-lg disabled:bg-gray-50\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:profileData.lastName,onChange:e=>setProfileData({...profileData,lastName:e.target.value}),disabled:!isEditing,className:\"w-full px-3 py-2 border border-gray-300 rounded-lg disabled:bg-gray-50\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Email\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(Mail,{className:\"absolute left-3 top-3 w-4 h-4 text-gray-400\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:profileData.email,onChange:e=>setProfileData({...profileData,email:e.target.value}),disabled:!isEditing,className:\"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg disabled:bg-gray-50\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Phone\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(Phone,{className:\"absolute left-3 top-3 w-4 h-4 text-gray-400\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",value:profileData.phone,onChange:e=>setProfileData({...profileData,phone:e.target.value}),disabled:!isEditing,className:\"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg disabled:bg-gray-50\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Street Address\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(MapPin,{className:\"absolute left-3 top-3 w-4 h-4 text-gray-400\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:profileData.address,onChange:e=>setProfileData({...profileData,address:e.target.value}),disabled:!isEditing,placeholder:\"Jalan Permas 16/1, Bandar Baru Permas Jaya, 81750, Masai, Johor\",className:\"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg disabled:bg-gray-50\",autoComplete:\"street-address\",name:\"street-address\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"City\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:profileData.city,onChange:e=>setProfileData({...profileData,city:e.target.value}),disabled:!isEditing,placeholder:\"Masai\",className:\"w-full px-3 py-2 border border-gray-300 rounded-lg disabled:bg-gray-50\",autoComplete:\"address-level2\",name:\"city\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"State/Region\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:profileData.state,onChange:e=>setProfileData({...profileData,state:e.target.value}),disabled:!isEditing,placeholder:\"Johor\",className:\"w-full px-3 py-2 border border-gray-300 rounded-lg disabled:bg-gray-50\",autoComplete:\"address-level1\",name:\"state\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Postal Code\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:profileData.zipCode,onChange:e=>setProfileData({...profileData,zipCode:e.target.value}),disabled:!isEditing,placeholder:\"81750\",className:\"w-full px-3 py-2 border border-gray-300 rounded-lg disabled:bg-gray-50\",autoComplete:\"postal-code\",name:\"postal-code\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Country\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:profileData.country,onChange:e=>setProfileData({...profileData,country:e.target.value}),disabled:!isEditing,placeholder:\"Malaysia\",className:\"w-full px-3 py-2 border border-gray-300 rounded-lg disabled:bg-gray-50\",autoComplete:\"country-name\",name:\"country\"})]})]}),isEditing&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 flex justify-end space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsEditing(false),className:\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50\",children:\"Cancel\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleProfileUpdate,className:\"flex items-center px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700\",children:[/*#__PURE__*/_jsx(Save,{className:\"w-4 h-4 mr-2\"}),\"Save Changes\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Password & Security\"}),!showPasswordChange&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowPasswordChange(true),className:\"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700\",children:\"Change Password\"})]}),showPasswordChange&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Current Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:passwordData.currentPassword,onChange:e=>setPasswordData({...passwordData,currentPassword:e.target.value}),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"New Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:passwordData.newPassword,onChange:e=>setPasswordData({...passwordData,newPassword:e.target.value}),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Confirm New Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:passwordData.confirmPassword,onChange:e=>setPasswordData({...passwordData,confirmPassword:e.target.value}),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowPasswordChange(false),className:\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handlePasswordChange,className:\"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700\",children:\"Change Password\"})]})]})]})]});};// Specific Referral Components\nconst ReferralOverview=()=>{const[loading,setLoading]=useState(true);const[dashboardData,setDashboardData]=useState(null);useEffect(()=>{loadReferralData();},[]);const loadReferralData=async()=>{try{const response=await api.referral.getDashboard();setDashboardData(response);}catch(error){console.error('Failed to load referral data:',error);}finally{setLoading(false);}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8\",children:\"Loading referral data...\"});}if(!(dashboardData!==null&&dashboardData!==void 0&&dashboardData.hasReferralCode)){return/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(Gift,{className:\"w-16 h-16 text-orange-600 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-4\",children:\"Welcome to Referrals\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-8\",children:\"Start earning commissions by referring friends to Swift Fix Pro\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-4xl mx-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-orange-50 p-6 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-orange-800 mb-2\",children:\"Bronze Tier\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-orange-600\",children:\"5%\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-orange-600\",children:\"Commission Rate\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-6 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-gray-800 mb-2\",children:\"Silver Tier\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-600\",children:\"7.5%\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"10+ Referrals\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-yellow-50 p-6 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-yellow-800 mb-2\",children:\"Gold Tier\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-yellow-600\",children:\"10%\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-yellow-600\",children:\"25+ Referrals\"})]})]})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-br from-orange-500 to-orange-600 text-white rounded-lg shadow-lg p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-orange-100\",children:\"Your Code\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold\",children:dashboardData.referralCode})]}),/*#__PURE__*/_jsx(Gift,{className:\"w-10 h-10 text-orange-200\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-lg p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Total Referrals\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:dashboardData.statistics.totalReferrals})]}),/*#__PURE__*/_jsx(Users,{className:\"w-10 h-10 text-blue-500\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-lg p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Total Earned\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold text-green-600\",children:[\"$\",dashboardData.statistics.totalEarned.toFixed(2)]})]}),/*#__PURE__*/_jsx(DollarSign,{className:\"w-10 h-10 text-green-500\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-lg p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Current Tier\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xl font-bold text-yellow-600\",children:dashboardData.currentTier.name})]}),/*#__PURE__*/_jsx(Star,{className:\"w-10 h-10 text-yellow-500\"})]})})]}),dashboardData.nextTier&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-lg p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"Tier Progress\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-sm text-gray-600 mb-2\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[dashboardData.currentTier.name,\" (\",dashboardData.currentTier.rate,\"%)\"]}),/*#__PURE__*/_jsxs(\"span\",{children:[dashboardData.nextTier.name,\" (\",dashboardData.nextTier.rate,\"%)\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-orange-600 h-3 rounded-full transition-all duration-300\",style:{width:`${Math.min(dashboardData.nextTier.progress,100)}%`}})}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600 mt-2\",children:[dashboardData.nextTier.requirement-dashboardData.statistics.activeReferrals,\" more referrals needed\"]})]})]});};const ReferralList=()=>{const[referrals,setReferrals]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{loadReferralList();},[]);const loadReferralList=async()=>{try{const response=await api.referral.getDashboard();setReferrals(response.referredUsers||[]);}catch(error){console.error('Failed to load referral list:',error);}finally{setLoading(false);}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8\",children:\"Loading referrals...\"});}return/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-lg p-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold mb-4\",children:[\"My Referrals (\",referrals.length,\")\"]}),referrals.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"border-b-2 border-gray-200\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-3 px-2\",children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-3 px-2\",children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-3 px-2\",children:\"Joined Date\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-3 px-2\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-3 px-2\",children:\"Total Spent\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-3 px-2\",children:\"My Earnings\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:referrals.map((referral,index)=>/*#__PURE__*/_jsxs(\"tr\",{className:\"border-b border-gray-100 hover:bg-gray-50\",children:[/*#__PURE__*/_jsxs(\"td\",{className:\"py-3 px-2 font-medium\",children:[referral.user.firstName,\" \",referral.user.lastName]}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-2 text-gray-600\",children:referral.user.email}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-2\",children:new Date(referral.joinedAt).toLocaleDateString()}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-2\",children:/*#__PURE__*/_jsx(\"span\",{className:`px-3 py-1 rounded-full text-xs font-medium ${referral.status==='ACTIVE'?'bg-green-100 text-green-800':'bg-yellow-100 text-yellow-800'}`,children:referral.status})}),/*#__PURE__*/_jsxs(\"td\",{className:\"py-3 px-2 font-medium\",children:[\"$\",referral.totalSpent.toFixed(2)]}),/*#__PURE__*/_jsxs(\"td\",{className:\"py-3 px-2 font-medium text-green-600\",children:[\"$\",(referral.totalSpent*0.05).toFixed(2)]})]},index))})]})}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8 text-gray-500\",children:[/*#__PURE__*/_jsx(Users,{className:\"w-12 h-12 mx-auto mb-4 text-gray-300\"}),/*#__PURE__*/_jsx(\"p\",{children:\"No referrals yet. Start sharing your referral code!\"})]})]})});};const ReferralEarnings=()=>{const[commissions,setCommissions]=useState([]);const[loading,setLoading]=useState(true);const[stats,setStats]=useState({total:0,pending:0,paid:0});useEffect(()=>{loadCommissions();},[]);const loadCommissions=async()=>{try{var _response$commissions,_response$commissions2,_response$commissions3;const response=await api.referral.getCommissions();setCommissions(response.commissions||[]);const total=((_response$commissions=response.commissions)===null||_response$commissions===void 0?void 0:_response$commissions.reduce((sum,c)=>sum+c.commissionAmount,0))||0;const pending=((_response$commissions2=response.commissions)===null||_response$commissions2===void 0?void 0:_response$commissions2.filter(c=>c.status==='PENDING').reduce((sum,c)=>sum+c.commissionAmount,0))||0;const paid=((_response$commissions3=response.commissions)===null||_response$commissions3===void 0?void 0:_response$commissions3.filter(c=>c.status==='PAID').reduce((sum,c)=>sum+c.commissionAmount,0))||0;setStats({total,pending,paid});}catch(error){console.error('Failed to load commissions:',error);}finally{setLoading(false);}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8\",children:\"Loading earnings...\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 rounded-lg shadow-lg p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-green-800 mb-2\",children:\"Total Earnings\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl font-bold text-green-600\",children:[\"$\",stats.total.toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-yellow-50 rounded-lg shadow-lg p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-yellow-800 mb-2\",children:\"Pending\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl font-bold text-yellow-600\",children:[\"$\",stats.pending.toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 rounded-lg shadow-lg p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-blue-800 mb-2\",children:\"Paid Out\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl font-bold text-blue-600\",children:[\"$\",stats.paid.toFixed(2)]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-lg p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"Commission History\"}),commissions.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"border-b-2 border-gray-200\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-3\",children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-3\",children:\"Referred User\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-3\",children:\"Order Amount\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-3\",children:\"Commission Rate\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-3\",children:\"My Commission\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-3\",children:\"Status\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:commissions.map((commission,index)=>/*#__PURE__*/_jsxs(\"tr\",{className:\"border-b border-gray-100\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"py-3\",children:new Date(commission.createdAt).toLocaleDateString()}),/*#__PURE__*/_jsxs(\"td\",{className:\"py-3\",children:[commission.referredUser.firstName,\" \",commission.referredUser.lastName]}),/*#__PURE__*/_jsxs(\"td\",{className:\"py-3\",children:[\"$\",commission.orderAmount.toFixed(2)]}),/*#__PURE__*/_jsxs(\"td\",{className:\"py-3\",children:[commission.commissionRate,\"%\"]}),/*#__PURE__*/_jsxs(\"td\",{className:\"py-3 font-bold text-green-600\",children:[\"$\",commission.commissionAmount.toFixed(2)]}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3\",children:/*#__PURE__*/_jsx(\"span\",{className:`px-3 py-1 rounded-full text-xs font-medium ${commission.status==='PAID'?'bg-green-100 text-green-800':commission.status==='APPROVED'?'bg-blue-100 text-blue-800':'bg-yellow-100 text-yellow-800'}`,children:commission.status})})]},index))})]})}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8 text-gray-500\",children:[/*#__PURE__*/_jsx(DollarSign,{className:\"w-12 h-12 mx-auto mb-4 text-gray-300\"}),/*#__PURE__*/_jsx(\"p\",{children:\"No commissions yet. Start referring to earn!\"})]})]})]});};const ReferralShare=()=>{const[shareData,setShareData]=useState(null);const[loading,setLoading]=useState(true);useEffect(()=>{loadShareData();},[]);const loadShareData=async()=>{try{const response=await api.referral.getShareLink();setShareData(response);}catch(error){console.error('Failed to load share data:',error);}finally{setLoading(false);}};const copyToClipboard=(text,type)=>{navigator.clipboard.writeText(text).then(()=>{toast.success(`${type} copied to clipboard!`);});};const generateReferralCode=async()=>{try{await api.referral.generateCode();await loadShareData();toast.success('Referral code generated successfully!');}catch(error){toast.error('Failed to generate referral code');}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8\",children:\"Loading share options...\"});}if(!shareData){return/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(Gift,{className:\"w-16 h-16 text-orange-600 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-4\",children:\"Generate Your Referral Code\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-8\",children:\"Create your unique referral code to start sharing\"}),/*#__PURE__*/_jsx(\"button\",{onClick:generateReferralCode,className:\"bg-orange-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-orange-700\",children:\"Generate Referral Code\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-orange-500 to-orange-600 text-white rounded-lg shadow-lg p-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-4\",children:\"Share & Earn Commissions\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-orange-100\",children:\"Share your referral code and earn up to 10% commission on every sale!\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-lg p-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(Gift,{className:\"w-5 h-5 mr-2 text-orange-600\"}),\"Referral Code\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex mb-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:shareData.referralCode,readOnly:true,className:\"flex-1 px-4 py-3 text-lg font-bold border border-gray-300 rounded-l-lg bg-gray-50 text-center\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>copyToClipboard(shareData.referralCode,'Referral code'),className:\"px-6 py-3 bg-orange-600 text-white rounded-r-lg hover:bg-orange-700 flex items-center\",children:[/*#__PURE__*/_jsx(Copy,{className:\"w-4 h-4 mr-2\"}),\"Copy\"]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Share this code with friends during their registration process.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-lg p-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(Share2,{className:\"w-5 h-5 mr-2 text-blue-600\"}),\"Referral Link\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex mb-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:shareData.referralLink,readOnly:true,className:\"flex-1 px-4 py-3 border border-gray-300 rounded-l-lg bg-gray-50 text-sm\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>copyToClipboard(shareData.referralLink,'Referral link'),className:\"px-6 py-3 bg-blue-600 text-white rounded-r-lg hover:bg-blue-700 flex items-center\",children:[/*#__PURE__*/_jsx(Copy,{className:\"w-4 h-4 mr-2\"}),\"Copy\"]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Direct link that automatically applies your referral code.\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-lg p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"Share Message Template\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 p-4 rounded-lg\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700\",children:shareData.shareText})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>copyToClipboard(shareData.shareText,'Share message'),className:\"mt-4 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700\",children:\"Copy Message\"})]})]});};const DashboardPage=()=>{var _getCurrentSection,_getCurrentSection2,_getCurrentSection2$t,_getCurrentSection3,_getCurrentSection3$t,_getCurrentSection3$t2,_getCurrentSection4,_getCurrentSection4$t,_getCurrentSection4$t2,_getCurrentSection5;const{user,logout}=useAuth();const location=useLocation();const navigate=useNavigate();const[activeTab,setActiveTab]=useState('overview');const[activeSection,setActiveSection]=useState('dashboard');// Get active tab from URL or state\nuseEffect(()=>{const pathSegments=location.pathname.split('/').filter(segment=>segment!=='');const currentTab=pathSegments[1]||'overview';// dashboard/profile -> 'profile'\n// Map specific tabs to their sections\nif(['profile','security','preferences'].includes(currentTab)){setActiveSection('account');}else if(['referrals','ref-overview','my-referrals','earnings','share'].includes(currentTab)||location.pathname.startsWith('/dashboard/referrals')){setActiveSection('referrals');}else{setActiveSection('dashboard');}// Set the correct tab based on URL\nif(currentTab==='profile'){setActiveTab('profile');}else if(currentTab==='security'){setActiveTab('security');}else if(currentTab==='preferences'){setActiveTab('preferences');}else if(location.pathname.includes('/referrals')){if(location.pathname.includes('/list')){setActiveTab('my-referrals');}else if(location.pathname.includes('/earnings')){setActiveTab('earnings');}else if(location.pathname.includes('/share')){setActiveTab('share');}else{setActiveTab('ref-overview');}}else{setActiveTab(currentTab||'overview');}},[location]);const mainNavigation=[{name:'Dashboard',section:'dashboard',icon:Home,description:'Overview & Analytics',tabs:[{name:'Overview',tab:'overview',href:'/dashboard'},{name:'Analytics',tab:'analytics',href:'/dashboard/analytics'},{name:'Activity',tab:'activity',href:'/dashboard/activity'}]},{name:'Account',section:'account',icon:User,description:'Profile & Settings',tabs:[{name:'Profile',tab:'profile',href:'/dashboard/profile'},{name:'Security',tab:'security',href:'/dashboard/security'},{name:'Preferences',tab:'preferences',href:'/dashboard/preferences'}]},{name:'Referrals',section:'referrals',icon:Gift,description:'Earn & Share',tabs:[{name:'Overview',tab:'ref-overview',href:'/dashboard/referrals'},{name:'My Referrals',tab:'my-referrals',href:'/dashboard/referrals/list'},{name:'Earnings',tab:'earnings',href:'/dashboard/referrals/earnings'},{name:'Share',tab:'share',href:'/dashboard/referrals/share'}]}];const handleLogout=()=>{logout();};// Show different dashboards based on user role\nconst getDashboardContent=()=>{if(!user)return/*#__PURE__*/_jsx(\"div\",{children:\"Please login first\"});switch(user.role){case'customer':return/*#__PURE__*/_jsx(CustomerDashboard,{});case'vendor':return/*#__PURE__*/_jsx(VendorDashboard,{});case'admin':return/*#__PURE__*/_jsx(AdminDashboard,{});default:return/*#__PURE__*/_jsx(CustomerDashboard,{});}};// Get current section from navigation\nconst getCurrentSection=()=>{return mainNavigation.find(nav=>nav.section===activeSection);};// Get tab content based on active section and tab\nconst getTabContent=()=>{const section=getCurrentSection();if(activeSection==='dashboard'){switch(activeTab){case'analytics':return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-12 text-gray-500\",children:\"Analytics coming soon...\"});case'activity':return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-12 text-gray-500\",children:\"Activity feed coming soon...\"});default:return getDashboardContent();}}if(activeSection==='account'){switch(activeTab){case'profile':return/*#__PURE__*/_jsx(ProfileTab,{});case'security':return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-12 text-gray-500\",children:\"Security settings coming soon...\"});case'preferences':return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-12 text-gray-500\",children:\"Preferences coming soon...\"});default:return/*#__PURE__*/_jsx(ProfileTab,{});}}if(activeSection==='referrals'){switch(activeTab){case'my-referrals':return/*#__PURE__*/_jsx(ReferralList,{});case'earnings':return/*#__PURE__*/_jsx(ReferralEarnings,{});case'share':return/*#__PURE__*/_jsx(ReferralShare,{});default:return/*#__PURE__*/_jsx(ReferralOverview,{});}}return getDashboardContent();};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 pt-16\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-64 bg-white shadow-xl border-r border-gray-200 min-h-screen\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"/\",className:\"block mb-6\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-bold text-gray-900 hover:text-orange-600 transition-colors\",children:\"Swift Fix Pro\"})}),/*#__PURE__*/_jsx(\"nav\",{className:\"space-y-4\",children:mainNavigation.map(item=>{if(item.external){return/*#__PURE__*/_jsxs(\"a\",{href:item.href,className:\"flex items-center px-4 py-2 rounded-lg transition-colors text-gray-600 hover:bg-gray-100\",children:[/*#__PURE__*/_jsx(item.icon,{size:20,className:\"mr-3\"}),item.name]},item.name);}const isActiveSection=item.section===activeSection;return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:`flex items-center px-4 py-3 rounded-lg transition-colors cursor-pointer ${isActiveSection?'bg-orange-100':'hover:bg-gray-100'}`,onClick:()=>{setActiveSection(item.section);setActiveTab(item.tabs[0].tab);navigate(item.tabs[0].href);},children:[/*#__PURE__*/_jsx(item.icon,{size:20,className:`mr-3 ${isActiveSection?'text-orange-600':'text-gray-500'}`}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:`font-medium ${isActiveSection?'text-orange-700':'text-gray-900'}`,children:item.name}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:item.description})]})]}),isActiveSection&&item.tabs&&/*#__PURE__*/_jsx(\"div\",{className:\"ml-8 space-y-1\",children:item.tabs.map(tab=>/*#__PURE__*/_jsx(Link,{to:tab.href,onClick:()=>setActiveTab(tab.tab),className:`block px-4 py-2 text-sm rounded-lg transition-colors ${activeTab===tab.tab?'bg-orange-50 text-orange-700 font-medium':'text-gray-600 hover:bg-gray-50 hover:text-gray-900'}`,children:tab.name},tab.tab))})]},item.name);})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-8 pt-6 border-t\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:handleLogout,className:\"flex items-center px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg w-full\",children:[/*#__PURE__*/_jsx(LogOut,{size:20,className:\"mr-3\"}),\"Logout\"]})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 p-8 bg-gradient-to-br from-transparent via-blue-50/30 to-orange-50/20\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-500 mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{children:(_getCurrentSection=getCurrentSection())===null||_getCurrentSection===void 0?void 0:_getCurrentSection.name}),((_getCurrentSection2=getCurrentSection())===null||_getCurrentSection2===void 0?void 0:(_getCurrentSection2$t=_getCurrentSection2.tabs)===null||_getCurrentSection2$t===void 0?void 0:_getCurrentSection2$t.find(t=>t.tab===activeTab))&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"mx-2\",children:\"\\u203A\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-700\",children:(_getCurrentSection3=getCurrentSection())===null||_getCurrentSection3===void 0?void 0:(_getCurrentSection3$t=_getCurrentSection3.tabs)===null||_getCurrentSection3$t===void 0?void 0:(_getCurrentSection3$t2=_getCurrentSection3$t.find(t=>t.tab===activeTab))===null||_getCurrentSection3$t2===void 0?void 0:_getCurrentSection3$t2.name})]})]}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900\",children:((_getCurrentSection4=getCurrentSection())===null||_getCurrentSection4===void 0?void 0:(_getCurrentSection4$t=_getCurrentSection4.tabs)===null||_getCurrentSection4$t===void 0?void 0:(_getCurrentSection4$t2=_getCurrentSection4$t.find(t=>t.tab===activeTab))===null||_getCurrentSection4$t2===void 0?void 0:_getCurrentSection4$t2.name)||((_getCurrentSection5=getCurrentSection())===null||_getCurrentSection5===void 0?void 0:_getCurrentSection5.name)})]}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:getTabContent()}),/*#__PURE__*/_jsx(Route,{path:\"/analytics\",element:/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-12 text-gray-500\",children:\"Analytics coming soon...\"})}),/*#__PURE__*/_jsx(Route,{path:\"/activity\",element:/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-12 text-gray-500\",children:\"Activity feed coming soon...\"})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:/*#__PURE__*/_jsx(ProfileTab,{})}),/*#__PURE__*/_jsx(Route,{path:\"/security\",element:/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-12 text-gray-500\",children:\"Security settings coming soon...\"})}),/*#__PURE__*/_jsx(Route,{path:\"/preferences\",element:/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-12 text-gray-500\",children:\"Preferences coming soon...\"})}),/*#__PURE__*/_jsx(Route,{path:\"/referrals\",element:/*#__PURE__*/_jsx(ReferralOverview,{})}),/*#__PURE__*/_jsx(Route,{path:\"/referrals/list\",element:/*#__PURE__*/_jsx(ReferralList,{})}),/*#__PURE__*/_jsx(Route,{path:\"/referrals/earnings\",element:/*#__PURE__*/_jsx(ReferralEarnings,{})}),/*#__PURE__*/_jsx(Route,{path:\"/referrals/share\",element:/*#__PURE__*/_jsx(ReferralShare,{})})]})]})]})});};export default DashboardPage;","map":{"version":3,"names":["React","useState","useEffect","useRef","Routes","Route","Link","useLocation","useNavigate","motion","Home","User","Settings","LogOut","Calendar","DollarSign","Users","Package","Star","TrendingUp","FileText","MessageSquare","Building","CheckCircle","ArrowLeft","Gift","Share2","Copy","Mail","Phone","MapPin","Edit","Save","X","Eye","EyeOff","useAuth","api","toast","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","OrderDetailsModal","_ref","_order$subtotal","_order$taxAmount","_order$payment","order","onClose","onOrderUpdate","loading","setLoading","handleCancelOrder","jobs","cancelJob","_id","success","error","console","getStatusColor","status","formatDate","dateString","Date","toLocaleDateString","year","month","day","hour","minute","className","children","div","initial","opacity","scale","animate","exit","jobNumber","onClick","replace","title","description","totalAmount","toFixed","category","priority","estimatedDuration","isEmergency","location","address","city","state","zipCode","accessInstructions","requestedTimeSlot","date","startTime","endTime","customerContactNumber","specialInstructions","createdAt","updatedAt","subtotal","taxAmount","payment","includes","disabled","CustomerDashboard","user","navigate","dashboardData","setDashboardData","stats","totalOrders","pendingOrders","completedOrders","totalSpent","recentOrders","selectedOrder","setSelectedOrder","showOrderDetails","setShowOrderDetails","hasShownLoadToast","loadDashboardData","orders","toISOString","now","length","filter","reduce","sum","current","duration","handleViewOrder","orderId","orderToCancel","find","info","prevData","updatedOrders","map","newStats","value","icon","color","textColor","bgColor","i","firstName","name","to","stat","index","y","transition","delay","size","slice","VendorDashboard","subscriptionInfo","plan","nextBilling","features","recentJobs","id","customer","service","amount","commission","upcomingTraining","type","job","training","x","AdminDashboard","ProfileTab","updateUser","isEditing","setIsEditing","showPasswordChange","setShowPasswordChange","profileData","setProfileData","lastName","email","phone","country","passwordData","setPasswordData","currentPassword","newPassword","confirmPassword","handleProfileUpdate","response","users","updateProfile","updatedProfileData","fullName","message","handlePasswordChange","changePassword","onChange","e","target","placeholder","autoComplete","ReferralOverview","loadReferralData","referral","getDashboard","hasReferralCode","referralCode","statistics","totalReferrals","totalEarned","currentTier","nextTier","rate","style","width","Math","min","progress","requirement","activeReferrals","ReferralList","referrals","setReferrals","loadReferralList","referredUsers","joinedAt","ReferralEarnings","commissions","setCommissions","setStats","total","pending","paid","loadCommissions","_response$commissions","_response$commissions2","_response$commissions3","getCommissions","c","commissionAmount","referredUser","orderAmount","commissionRate","ReferralShare","shareData","setShareData","loadShareData","getShareLink","copyToClipboard","text","navigator","clipboard","writeText","then","generateReferralCode","generateCode","readOnly","referralLink","shareText","DashboardPage","_getCurrentSection","_getCurrentSection2","_getCurrentSection2$t","_getCurrentSection3","_getCurrentSection3$t","_getCurrentSection3$t2","_getCurrentSection4","_getCurrentSection4$t","_getCurrentSection4$t2","_getCurrentSection5","logout","activeTab","setActiveTab","activeSection","setActiveSection","pathSegments","pathname","split","segment","currentTab","startsWith","mainNavigation","section","tabs","tab","href","handleLogout","getDashboardContent","role","getCurrentSection","nav","getTabContent","item","external","isActiveSection","t","path","element"],"sources":["C:/Users/Le520/Documents/Property-Maintainance-Service/src/pages/dashboard/DashboardPage.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { Routes, Route, Link, useLocation, useNavigate } from 'react-router-dom';\r\nimport { motion } from 'framer-motion';\r\nimport { \r\n  Home, \r\n  User, \r\n  Settings, \r\n  LogOut, \r\n  Calendar, \r\n  DollarSign, \r\n  Users, \r\n  Package,\r\n  Star,\r\n  TrendingUp,\r\n  FileText,\r\n  MessageSquare,\r\n  Building,\r\n  CheckCircle,\r\n  ArrowLeft,\r\n  Gift,\r\n  Share2,\r\n  Copy,\r\n  Mail,\r\n  Phone,\r\n  MapPin,\r\n  Edit,\r\n  Save,\r\n  X,\r\n  Eye,\r\n  EyeOff\r\n} from 'lucide-react';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport { api } from '../../services/api';\r\nimport toast from 'react-hot-toast';\r\n\r\n// Order Details Modal Component\r\nconst OrderDetailsModal = ({ order, onClose, onOrderUpdate }) => {\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleCancelOrder = async () => {\r\n    try {\r\n      setLoading(true);\r\n      await api.jobs.cancelJob(order._id, 'Cancelled by customer');\r\n      toast.success('Order cancelled successfully');\r\n      onOrderUpdate(); // Refresh parent data\r\n      onClose();\r\n    } catch (error) {\r\n      console.error('Failed to cancel order:', error);\r\n      toast.error('Failed to cancel order');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getStatusColor = (status) => {\r\n    switch (status) {\r\n      case 'COMPLETED': return 'bg-green-100 text-green-800 border-green-200';\r\n      case 'IN_PROGRESS': return 'bg-blue-100 text-blue-800 border-blue-200';\r\n      case 'ASSIGNED': return 'bg-purple-100 text-purple-800 border-purple-200';\r\n      case 'PENDING': return 'bg-yellow-100 text-yellow-800 border-yellow-200';\r\n      case 'CANCELLED': return 'bg-red-100 text-red-800 border-red-200';\r\n      default: return 'bg-gray-100 text-gray-800 border-gray-200';\r\n    }\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    return new Date(dateString).toLocaleDateString('en-US', {\r\n      year: 'numeric',\r\n      month: 'long',\r\n      day: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4\">\r\n      <motion.div\r\n        initial={{ opacity: 0, scale: 0.95 }}\r\n        animate={{ opacity: 1, scale: 1 }}\r\n        exit={{ opacity: 0, scale: 0.95 }}\r\n        className=\"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-screen overflow-y-auto\"\r\n      >\r\n        {/* Header */}\r\n        <div className=\"sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center\">\r\n          <div>\r\n            <h2 className=\"text-xl font-bold text-gray-900\">Order Details</h2>\r\n            <p className=\"text-sm text-gray-600\">Job #{order.jobNumber}</p>\r\n          </div>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"text-gray-400 hover:text-gray-600 transition-colors\"\r\n          >\r\n            <X className=\"w-6 h-6\" />\r\n          </button>\r\n        </div>\r\n\r\n        {/* Content */}\r\n        <div className=\"p-6 space-y-6\">\r\n          {/* Status and Key Info */}\r\n          <div className=\"flex justify-between items-start\">\r\n            <div>\r\n              <span className={`inline-flex px-3 py-1 rounded-full text-sm font-medium border ${getStatusColor(order.status)}`}>\r\n                {order.status.replace('_', ' ')}\r\n              </span>\r\n              <h3 className=\"text-lg font-semibold mt-2\">{order.title}</h3>\r\n              <p className=\"text-gray-600\">{order.description}</p>\r\n            </div>\r\n            <div className=\"text-right\">\r\n              <p className=\"text-2xl font-bold text-gray-900\">${order.totalAmount.toFixed(2)}</p>\r\n              <p className=\"text-sm text-gray-600\">Total Amount</p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Service Details */}\r\n          <div className=\"bg-gray-50 rounded-lg p-4\">\r\n            <h4 className=\"font-semibold mb-3\">Service Information</h4>\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n              <div>\r\n                <p className=\"text-sm text-gray-600\">Category</p>\r\n                <p className=\"font-medium capitalize\">{order.category}</p>\r\n              </div>\r\n              <div>\r\n                <p className=\"text-sm text-gray-600\">Priority</p>\r\n                <p className=\"font-medium\">{order.priority}</p>\r\n              </div>\r\n              <div>\r\n                <p className=\"text-sm text-gray-600\">Estimated Duration</p>\r\n                <p className=\"font-medium\">{order.estimatedDuration} hours</p>\r\n              </div>\r\n              <div>\r\n                <p className=\"text-sm text-gray-600\">Emergency Service</p>\r\n                <p className=\"font-medium\">{order.isEmergency ? 'Yes' : 'No'}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Location Details */}\r\n          {order.location && (\r\n            <div className=\"bg-gray-50 rounded-lg p-4\">\r\n              <h4 className=\"font-semibold mb-3 flex items-center\">\r\n                <MapPin className=\"w-4 h-4 mr-2\" />\r\n                Location\r\n              </h4>\r\n              <div className=\"space-y-1\">\r\n                <p>{order.location.address}</p>\r\n                <p>{order.location.city}, {order.location.state} {order.location.zipCode}</p>\r\n              </div>\r\n              {order.accessInstructions && (\r\n                <div className=\"mt-3\">\r\n                  <p className=\"text-sm text-gray-600\">Access Instructions</p>\r\n                  <p className=\"text-sm\">{order.accessInstructions}</p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Timing Details */}\r\n          {order.requestedTimeSlot && (\r\n            <div className=\"bg-gray-50 rounded-lg p-4\">\r\n              <h4 className=\"font-semibold mb-3 flex items-center\">\r\n                <Calendar className=\"w-4 h-4 mr-2\" />\r\n                Requested Schedule\r\n              </h4>\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div>\r\n                  <p className=\"text-sm text-gray-600\">Date</p>\r\n                  <p className=\"font-medium\">{new Date(order.requestedTimeSlot.date).toLocaleDateString()}</p>\r\n                </div>\r\n                <div>\r\n                  <p className=\"text-sm text-gray-600\">Time</p>\r\n                  <p className=\"font-medium\">{order.requestedTimeSlot.startTime} - {order.requestedTimeSlot.endTime}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Contact Information */}\r\n          <div className=\"bg-gray-50 rounded-lg p-4\">\r\n            <h4 className=\"font-semibold mb-3 flex items-center\">\r\n              <Phone className=\"w-4 h-4 mr-2\" />\r\n              Contact Information\r\n            </h4>\r\n            <p className=\"font-medium\">{order.customerContactNumber}</p>\r\n          </div>\r\n\r\n          {/* Special Instructions */}\r\n          {order.specialInstructions && (\r\n            <div className=\"bg-gray-50 rounded-lg p-4\">\r\n              <h4 className=\"font-semibold mb-3 flex items-center\">\r\n                <FileText className=\"w-4 h-4 mr-2\" />\r\n                Special Instructions\r\n              </h4>\r\n              <p className=\"text-sm\">{order.specialInstructions}</p>\r\n            </div>\r\n          )}\r\n\r\n          {/* Order Timeline */}\r\n          <div className=\"bg-gray-50 rounded-lg p-4\">\r\n            <h4 className=\"font-semibold mb-3\">Order Timeline</h4>\r\n            <div className=\"space-y-2 text-sm\">\r\n              <div className=\"flex justify-between\">\r\n                <span className=\"text-gray-600\">Created:</span>\r\n                <span>{formatDate(order.createdAt)}</span>\r\n              </div>\r\n              {order.updatedAt !== order.createdAt && (\r\n                <div className=\"flex justify-between\">\r\n                  <span className=\"text-gray-600\">Last Updated:</span>\r\n                  <span>{formatDate(order.updatedAt)}</span>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Payment Details */}\r\n          <div className=\"bg-gray-50 rounded-lg p-4\">\r\n            <h4 className=\"font-semibold mb-3\">Payment Details</h4>\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n              <div>\r\n                <p className=\"text-sm text-gray-600\">Subtotal</p>\r\n                <p className=\"font-medium\">${order.subtotal?.toFixed(2) || '0.00'}</p>\r\n              </div>\r\n              <div>\r\n                <p className=\"text-sm text-gray-600\">Tax</p>\r\n                <p className=\"font-medium\">${order.taxAmount?.toFixed(2) || '0.00'}</p>\r\n              </div>\r\n              <div>\r\n                <p className=\"text-sm text-gray-600\">Total</p>\r\n                <p className=\"font-bold text-lg\">${order.totalAmount.toFixed(2)}</p>\r\n              </div>\r\n              <div>\r\n                <p className=\"text-sm text-gray-600\">Status</p>\r\n                <p className=\"font-medium capitalize\">{order.payment?.status || 'Pending'}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Footer Actions */}\r\n        <div className=\"sticky bottom-0 bg-white border-t px-6 py-4 flex justify-between\">\r\n          <button\r\n            onClick={onClose}\r\n            className=\"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors\"\r\n          >\r\n            Close\r\n          </button>\r\n          \r\n          <div className=\"space-x-3\">\r\n            {['PENDING', 'ASSIGNED'].includes(order.status) && (\r\n              <button\r\n                onClick={handleCancelOrder}\r\n                disabled={loading}\r\n                className=\"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 transition-colors\"\r\n              >\r\n                {loading ? 'Cancelling...' : 'Cancel Order'}\r\n              </button>\r\n            )}\r\n            \r\n            {order.status === 'COMPLETED' && (\r\n              <button className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\">\r\n                Leave Review\r\n              </button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </motion.div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Enhanced Customer Dashboard with Real Data\r\nconst CustomerDashboard = () => {\r\n  const { user } = useAuth();\r\n  const navigate = useNavigate();\r\n  const [loading, setLoading] = useState(true);\r\n  const [dashboardData, setDashboardData] = useState({\r\n    stats: {\r\n      totalOrders: 0,\r\n      pendingOrders: 0,\r\n      completedOrders: 0,\r\n      totalSpent: 0\r\n    },\r\n    recentOrders: []\r\n  });\r\n  const [selectedOrder, setSelectedOrder] = useState(null);\r\n  const [showOrderDetails, setShowOrderDetails] = useState(false);\r\n  const hasShownLoadToast = useRef(false);\r\n\r\n  useEffect(() => {\r\n    loadDashboardData();\r\n  }, []);\r\n\r\n  const loadDashboardData = async () => {\r\n    setLoading(true);\r\n    \r\n    // Load order data (using sample data as backend is not connected)\r\n    const orders = [\r\n      {\r\n        _id: '689e8db0fca44481aba3371f',\r\n        jobNumber: 'JOB1755221424634BA9G',\r\n        title: 'Pest Control',\r\n        description: 'Effective pest control and prevention services using safe chemicals and professional techniques.',\r\n        category: 'general',\r\n        status: 'PENDING',\r\n        priority: 'MEDIUM',\r\n        isEmergency: false,\r\n        totalAmount: 200,\r\n        subtotal: 200,\r\n        taxAmount: 0,\r\n        estimatedDuration: 2,\r\n        createdAt: new Date().toISOString(),\r\n        updatedAt: new Date().toISOString(),\r\n        location: {\r\n          address: '789 Test Pest Street',\r\n          city: 'Singapore',\r\n          state: 'Singapore',\r\n          zipCode: '567890'\r\n        },\r\n        requestedTimeSlot: {\r\n          date: '2024-12-17',\r\n          startTime: '10:00',\r\n          endTime: '12:00'\r\n        },\r\n        customerContactNumber: '+65 9876 5432',\r\n        specialInstructions: 'Please use safe chemicals, we have pets',\r\n        accessInstructions: 'Ring doorbell twice',\r\n        payment: { status: 'PENDING' }\r\n      },\r\n      {\r\n        _id: '689e99a5fca44481aba337ab',\r\n        jobNumber: 'JOB1755224485804756G',\r\n        title: 'Emergency Plumbing Fix',\r\n        description: 'Fix leaking kitchen sink',\r\n        category: 'plumbing',\r\n        status: 'IN_PROGRESS',\r\n        priority: 'HIGH',\r\n        isEmergency: true,\r\n        totalAmount: 150,\r\n        subtotal: 150,\r\n        taxAmount: 0,\r\n        estimatedDuration: 3,\r\n        createdAt: new Date(Date.now() - 86400000).toISOString(), // 1 day ago\r\n        updatedAt: new Date().toISOString(),\r\n        location: {\r\n          address: '456 Emergency Street',\r\n          city: 'Singapore',\r\n          state: 'Singapore',\r\n          zipCode: '567890'\r\n        },\r\n        requestedTimeSlot: {\r\n          date: '2024-12-16',\r\n          startTime: '10:00',\r\n          endTime: '14:00'\r\n        },\r\n        customerContactNumber: '+65 9876 5432',\r\n        specialInstructions: 'Urgent fix needed',\r\n        accessInstructions: 'Ring doorbell',\r\n        payment: { status: 'PENDING' }\r\n      },\r\n      {\r\n        _id: '689e8db0fca44481aba33720',\r\n        jobNumber: 'JOB1755221424634BA9H',\r\n        title: 'House Cleaning Service',\r\n        description: 'Deep cleaning for 3-bedroom apartment',\r\n        category: 'cleaning',\r\n        status: 'COMPLETED',\r\n        priority: 'LOW',\r\n        isEmergency: false,\r\n        totalAmount: 120,\r\n        subtotal: 120,\r\n        taxAmount: 0,\r\n        estimatedDuration: 4,\r\n        createdAt: new Date(Date.now() - 259200000).toISOString(), // 3 days ago\r\n        updatedAt: new Date(Date.now() - 86400000).toISOString(), // 1 day ago\r\n        location: {\r\n          address: '123 Clean Street',\r\n          city: 'Singapore',\r\n          state: 'Singapore',\r\n          zipCode: '123456'\r\n        },\r\n        requestedTimeSlot: {\r\n          date: '2024-12-14',\r\n          startTime: '09:00',\r\n          endTime: '13:00'\r\n        },\r\n        customerContactNumber: '+65 1234 5678',\r\n        specialInstructions: 'Please clean bathroom thoroughly',\r\n        accessInstructions: 'Key under mat',\r\n        payment: { status: 'PAID' }\r\n      }\r\n    ];\r\n    \r\n    \r\n    // Calculate stats from orders\r\n    const stats = {\r\n      totalOrders: orders.length,\r\n      pendingOrders: orders.filter(order => ['PENDING', 'ASSIGNED', 'IN_PROGRESS'].includes(order.status)).length,\r\n      completedOrders: orders.filter(order => order.status === 'COMPLETED').length,\r\n      totalSpent: orders.reduce((sum, order) => sum + (order.totalAmount || 0), 0)\r\n    };\r\n\r\n    \r\n    // Set the data\r\n    setDashboardData({ stats, recentOrders: orders });\r\n    \r\n    // Show success message only once\r\n    if (!hasShownLoadToast.current) {\r\n      toast.success('Dashboard loaded successfully!', { duration: 2000 });\r\n      hasShownLoadToast.current = true;\r\n    }\r\n    \r\n    setLoading(false);\r\n  };\r\n\r\n  const handleViewOrder = (order) => {\r\n    setSelectedOrder(order);\r\n    setShowOrderDetails(true);\r\n  };\r\n\r\n  const handleCancelOrder = async (orderId) => {\r\n    \r\n    // Check if order is already cancelled to prevent duplicate actions\r\n    const orderToCancel = dashboardData.recentOrders.find(order => order._id === orderId);\r\n    if (orderToCancel?.status === 'CANCELLED') {\r\n      toast.info('Order is already cancelled');\r\n      return;\r\n    }\r\n    \r\n    // Update order status to cancelled\r\n    setDashboardData(prevData => {\r\n      const updatedOrders = prevData.recentOrders.map(order => \r\n        order._id === orderId \r\n          ? { ...order, status: 'CANCELLED' }\r\n          : order\r\n      );\r\n      \r\n      // Recalculate all stats from the updated orders\r\n      const newStats = {\r\n        totalOrders: updatedOrders.length,\r\n        pendingOrders: updatedOrders.filter(order => ['PENDING', 'ASSIGNED', 'IN_PROGRESS'].includes(order.status)).length,\r\n        completedOrders: updatedOrders.filter(order => order.status === 'COMPLETED').length,\r\n        // Only count spent money for completed orders (cancelled orders get refunded)\r\n        totalSpent: updatedOrders\r\n          .filter(order => order.status === 'COMPLETED')\r\n          .reduce((sum, order) => sum + (order.totalAmount || 0), 0)\r\n      };\r\n      \r\n      return {\r\n        ...prevData,\r\n        recentOrders: updatedOrders,\r\n        stats: newStats\r\n      };\r\n    });\r\n    \r\n    toast.success('Order cancelled successfully!', { duration: 2000 });\r\n  };\r\n\r\n  const getStatusColor = (status) => {\r\n    switch (status) {\r\n      case 'COMPLETED': return 'bg-emerald-100 text-emerald-800 border border-emerald-200';\r\n      case 'IN_PROGRESS': return 'bg-blue-100 text-blue-800 border border-blue-200';\r\n      case 'ASSIGNED': return 'bg-purple-100 text-purple-800 border border-purple-200';\r\n      case 'PENDING': return 'bg-amber-100 text-amber-800 border border-amber-200';\r\n      case 'CANCELLED': return 'bg-red-100 text-red-800 border border-red-200';\r\n      default: return 'bg-gray-100 text-gray-800 border border-gray-200';\r\n    }\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    return new Date(dateString).toLocaleDateString('en-US', {\r\n      year: 'numeric',\r\n      month: 'short',\r\n      day: 'numeric'\r\n    });\r\n  };\r\n\r\n  const stats = [\r\n    { \r\n      title: 'Total Orders', \r\n      value: dashboardData.stats.totalOrders, \r\n      icon: Package, \r\n      color: 'bg-gradient-to-r from-blue-500 to-blue-600',\r\n      textColor: 'text-blue-600',\r\n      bgColor: 'bg-blue-50'\r\n    },\r\n    { \r\n      title: 'Pending', \r\n      value: dashboardData.stats.pendingOrders, \r\n      icon: Calendar, \r\n      color: 'bg-gradient-to-r from-amber-500 to-yellow-600',\r\n      textColor: 'text-amber-600',\r\n      bgColor: 'bg-amber-50'\r\n    },\r\n    { \r\n      title: 'Completed', \r\n      value: dashboardData.stats.completedOrders, \r\n      icon: CheckCircle, \r\n      color: 'bg-gradient-to-r from-emerald-500 to-green-600',\r\n      textColor: 'text-emerald-600',\r\n      bgColor: 'bg-emerald-50'\r\n    },\r\n    { \r\n      title: 'Total Spent', \r\n      value: `$${dashboardData.stats.totalSpent.toFixed(2)}`, \r\n      icon: DollarSign, \r\n      color: 'bg-gradient-to-r from-purple-500 to-indigo-600',\r\n      textColor: 'text-purple-600',\r\n      bgColor: 'bg-purple-50'\r\n    }\r\n  ];\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"space-y-8\">\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n          {[1, 2, 3, 4].map((i) => (\r\n            <div key={i} className=\"bg-white p-6 rounded-xl shadow-lg border border-gray-100 animate-pulse\">\r\n              <div className=\"flex items-center\">\r\n                <div className=\"w-14 h-14 bg-gradient-to-r from-gray-200 to-gray-300 rounded-full\"></div>\r\n                <div className=\"ml-4 flex-1\">\r\n                  <div className=\"h-4 bg-gray-300 rounded-full w-20 mb-3\"></div>\r\n                  <div className=\"h-8 bg-gray-300 rounded-full w-16\"></div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n        <div className=\"bg-white rounded-xl shadow-lg border border-gray-100 p-8\">\r\n          <div className=\"h-8 bg-gray-300 rounded-full w-48 mb-6\"></div>\r\n          <div className=\"space-y-4\">\r\n            {[1, 2, 3].map((i) => (\r\n              <div key={i} className=\"h-16 bg-gray-100 rounded-lg animate-pulse\"></div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-8\">\r\n      {/* Welcome Header */}\r\n      <div className=\"bg-gradient-to-r from-orange-500 via-orange-600 to-red-600 rounded-2xl p-8 text-white shadow-lg border border-orange-200\">\r\n        <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4\">\r\n          <div>\r\n            <h1 className=\"text-3xl font-bold mb-2\">Welcome back, {user?.firstName || user?.name}! 👋</h1>\r\n            <p className=\"text-orange-100 text-lg\">Track your service requests and manage your property maintenance</p>\r\n          </div>\r\n          <Link\r\n            to=\"/order-request\"\r\n            className=\"bg-white text-orange-600 px-8 py-3 rounded-xl font-semibold hover:bg-orange-50 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105\"\r\n          >\r\n            + Request New Service\r\n          </Link>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Stats */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n        {stats.map((stat, index) => (\r\n          <motion.div\r\n            key={index}\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.6, delay: index * 0.1 }}\r\n            className=\"bg-white p-6 rounded-xl shadow-lg border border-gray-100 hover:shadow-xl hover:border-gray-200 transition-all duration-300 transform hover:-translate-y-1\"\r\n          >\r\n            <div className=\"flex items-center justify-between\">\r\n              <div className=\"flex items-center\">\r\n                <div className={`p-4 rounded-xl ${stat.color} text-white shadow-lg`}>\r\n                  <stat.icon size={24} />\r\n                </div>\r\n                <div className=\"ml-4\">\r\n                  <p className=\"text-sm font-medium text-gray-600 mb-1\">{stat.title}</p>\r\n                  <p className={`text-2xl font-bold ${stat.textColor}`}>{stat.value}</p>\r\n                </div>\r\n              </div>\r\n              <div className={`w-16 h-16 ${stat.bgColor} rounded-full flex items-center justify-center opacity-20`}>\r\n                <stat.icon size={28} className={stat.textColor} />\r\n              </div>\r\n            </div>\r\n          </motion.div>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Recent Orders */}\r\n      <div className=\"bg-white rounded-xl shadow-lg border border-gray-100 p-8\">\r\n        <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6\">\r\n          <div>\r\n            <h2 className=\"text-2xl font-bold text-gray-900 mb-1\">Recent Orders</h2>\r\n            <p className=\"text-gray-600\">Track your latest service requests</p>\r\n          </div>\r\n          <button\r\n            onClick={() => navigate('/dashboard?section=orders')}\r\n            className=\"bg-orange-600 text-white px-6 py-2 rounded-lg hover:bg-orange-700 transition-all duration-200 font-medium shadow-md hover:shadow-lg transform hover:scale-105\"\r\n          >\r\n            View All Orders →\r\n          </button>\r\n        </div>\r\n\r\n        {dashboardData.recentOrders.length > 0 ? (\r\n          <div className=\"overflow-x-auto\">\r\n            <div className=\"min-w-full\">\r\n              <div className=\"hidden lg:grid lg:grid-cols-6 gap-4 py-4 px-6 bg-gray-50 rounded-lg font-semibold text-gray-700 text-sm mb-4\">\r\n                <div>Job Number</div>\r\n                <div>Service</div>\r\n                <div>Status</div>\r\n                <div>Date</div>\r\n                <div>Amount</div>\r\n                <div>Actions</div>\r\n              </div>\r\n              <div className=\"space-y-4\">\r\n                {dashboardData.recentOrders.slice(0, 5).map((order, index) => (\r\n                  <motion.div\r\n                    key={order._id}\r\n                    initial={{ opacity: 0, y: 20 }}\r\n                    animate={{ opacity: 1, y: 0 }}\r\n                    transition={{ delay: index * 0.1 }}\r\n                    className=\"lg:grid lg:grid-cols-6 gap-4 p-6 bg-gray-50 rounded-xl hover:bg-gray-100 transition-all duration-200 border border-gray-200 hover:border-gray-300\"\r\n                  >\r\n                    {/* Mobile layout */}\r\n                    <div className=\"lg:hidden space-y-3\">\r\n                      <div className=\"flex justify-between items-start\">\r\n                        <div>\r\n                          <p className=\"font-mono text-sm text-gray-600\">{order.jobNumber}</p>\r\n                          <p className=\"font-semibold text-gray-900\">{order.title}</p>\r\n                        </div>\r\n                        <span className={`px-3 py-1 rounded-full text-xs font-medium ${getStatusColor(order.status)}`}>\r\n                          {order.status.replace('_', ' ')}\r\n                        </span>\r\n                      </div>\r\n                      <div className=\"flex justify-between items-center\">\r\n                        <div>\r\n                          <p className=\"text-sm text-gray-600\">{formatDate(order.createdAt)}</p>\r\n                          <p className=\"text-lg font-bold text-gray-900\">${order.totalAmount.toFixed(2)}</p>\r\n                        </div>\r\n                        <div className=\"flex space-x-2\">\r\n                          <button\r\n                            onClick={() => handleViewOrder(order)}\r\n                            className=\"bg-blue-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-blue-700 transition-colors\"\r\n                          >\r\n                            View\r\n                          </button>\r\n                          {['PENDING', 'ASSIGNED'].includes(order.status) && (\r\n                            <button\r\n                              onClick={() => handleCancelOrder(order._id)}\r\n                              className=\"bg-red-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-red-700 transition-colors\"\r\n                            >\r\n                              Cancel\r\n                            </button>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    {/* Desktop layout */}\r\n                    <div className=\"hidden lg:flex lg:items-center\">\r\n                      <span className=\"font-mono text-sm text-gray-600\">{order.jobNumber}</span>\r\n                    </div>\r\n                    <div className=\"hidden lg:flex lg:items-center\">\r\n                      <span className=\"font-semibold text-gray-900\">{order.title}</span>\r\n                    </div>\r\n                    <div className=\"hidden lg:flex lg:items-center\">\r\n                      <span className={`px-3 py-1 rounded-full text-xs font-medium ${getStatusColor(order.status)}`}>\r\n                        {order.status.replace('_', ' ')}\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"hidden lg:flex lg:items-center\">\r\n                      <span className=\"text-gray-700\">{formatDate(order.createdAt)}</span>\r\n                    </div>\r\n                    <div className=\"hidden lg:flex lg:items-center\">\r\n                      <span className=\"text-lg font-bold text-gray-900\">${order.totalAmount.toFixed(2)}</span>\r\n                    </div>\r\n                    <div className=\"hidden lg:flex lg:items-center lg:space-x-2\">\r\n                      <button\r\n                        onClick={() => handleViewOrder(order)}\r\n                        className=\"bg-blue-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-blue-700 transition-colors\"\r\n                      >\r\n                        View Details\r\n                      </button>\r\n                      {['PENDING', 'ASSIGNED'].includes(order.status) && (\r\n                        <button\r\n                          onClick={() => handleCancelOrder(order._id)}\r\n                          className=\"bg-red-600 text-white px-3 py-2 rounded-lg text-sm hover:bg-red-700 transition-colors\"\r\n                        >\r\n                          Cancel\r\n                        </button>\r\n                      )}\r\n                    </div>\r\n                  </motion.div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"text-center py-16\">\r\n            <div className=\"bg-gray-100 rounded-full w-24 h-24 flex items-center justify-center mx-auto mb-6\">\r\n              <Package className=\"w-12 h-12 text-gray-400\" />\r\n            </div>\r\n            <h3 className=\"text-2xl font-semibold text-gray-900 mb-3\">No orders yet</h3>\r\n            <p className=\"text-gray-600 mb-8 text-lg\">Ready to get started? Request your first service and let us handle the rest!</p>\r\n            <Link\r\n              to=\"/order-request\"\r\n              className=\"bg-gradient-to-r from-orange-600 to-red-600 text-white px-8 py-4 rounded-xl hover:from-orange-700 hover:to-red-700 transition-all duration-200 font-semibold shadow-lg hover:shadow-xl transform hover:scale-105\"\r\n            >\r\n              🚀 Request Your First Service\r\n            </Link>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Quick Actions */}\r\n      <div>\r\n        <h2 className=\"text-2xl font-bold text-gray-900 mb-6\">Quick Actions</h2>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n          <Link\r\n            to=\"/order-request\"\r\n            className=\"bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl shadow-lg p-8 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 block text-white group\"\r\n          >\r\n            <div className=\"flex items-center justify-between\">\r\n              <div className=\"flex items-center\">\r\n                <div className=\"p-4 rounded-xl bg-white bg-opacity-20 group-hover:bg-opacity-30 transition-all duration-200\">\r\n                  <Package className=\"w-8 h-8\" />\r\n                </div>\r\n                <div className=\"ml-4\">\r\n                  <h3 className=\"text-xl font-bold\">Request Service</h3>\r\n                  <p className=\"text-orange-100 mt-1\">Book a new maintenance service</p>\r\n                </div>\r\n              </div>\r\n              <div className=\"text-orange-200 group-hover:text-white transition-colors\">\r\n                →\r\n              </div>\r\n            </div>\r\n          </Link>\r\n\r\n          <Link\r\n            to=\"/services\"\r\n            className=\"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl shadow-lg p-8 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 block text-white group\"\r\n          >\r\n            <div className=\"flex items-center justify-between\">\r\n              <div className=\"flex items-center\">\r\n                <div className=\"p-4 rounded-xl bg-white bg-opacity-20 group-hover:bg-opacity-30 transition-all duration-200\">\r\n                  <Settings className=\"w-8 h-8\" />\r\n                </div>\r\n                <div className=\"ml-4\">\r\n                  <h3 className=\"text-xl font-bold\">Browse Services</h3>\r\n                  <p className=\"text-blue-100 mt-1\">Explore available services</p>\r\n                </div>\r\n              </div>\r\n              <div className=\"text-blue-200 group-hover:text-white transition-colors\">\r\n                →\r\n              </div>\r\n            </div>\r\n          </Link>\r\n\r\n          <button\r\n            onClick={loadDashboardData}\r\n            className=\"bg-gradient-to-br from-emerald-500 to-green-600 rounded-xl shadow-lg p-8 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 text-white group\"\r\n          >\r\n            <div className=\"flex items-center justify-between\">\r\n              <div className=\"flex items-center\">\r\n                <div className=\"p-4 rounded-xl bg-white bg-opacity-20 group-hover:bg-opacity-30 transition-all duration-200\">\r\n                  <TrendingUp className=\"w-8 h-8\" />\r\n                </div>\r\n                <div className=\"ml-4\">\r\n                  <h3 className=\"text-xl font-bold\">Refresh Data</h3>\r\n                  <p className=\"text-emerald-100 mt-1\">Update dashboard information</p>\r\n                </div>\r\n              </div>\r\n              <div className=\"text-emerald-200 group-hover:text-white transition-colors\">\r\n                ↻\r\n              </div>\r\n            </div>\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Order Details Modal */}\r\n      {showOrderDetails && selectedOrder && (\r\n        <OrderDetailsModal\r\n          order={selectedOrder}\r\n          onClose={() => setShowOrderDetails(false)}\r\n          onOrderUpdate={loadDashboardData}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst VendorDashboard = () => {\r\n  const stats = [\r\n    { title: 'Total Revenue', value: 'SGD 8,450', icon: DollarSign, color: 'bg-green-500' },\r\n    { title: 'Monthly Orders', value: '28', icon: Package, color: 'bg-blue-500' },\r\n    { title: 'Customer Rating', value: '4.8', icon: Star, color: 'bg-yellow-500' },\r\n    { title: 'Active Customers', value: '45', icon: Users, color: 'bg-purple-500' },\r\n    { title: 'Monthly Commission', value: 'SGD 1,267', icon: TrendingUp, color: 'bg-indigo-500' },\r\n    { title: 'Completion Rate', value: '94%', icon: CheckCircle, color: 'bg-emerald-500' }\r\n  ];\r\n\r\n  const subscriptionInfo = {\r\n    plan: 'Professional',\r\n    status: 'Active',\r\n    nextBilling: '2024-02-15',\r\n    features: ['Advanced CRM', 'Detailed Analytics', 'Custom Quote Templates', 'Priority Support']\r\n  };\r\n\r\n  const recentJobs = [\r\n    { id: 1, customer: 'John Smith', service: 'Plumbing Repair', status: 'In Progress', amount: 'SGD 350', commission: 'SGD 52.50' },\r\n    { id: 2, customer: 'Sarah Johnson', service: 'Electrical Inspection', status: 'Completed', amount: 'SGD 200', commission: 'SGD 30.00' },\r\n    { id: 3, customer: 'Mike Wilson', service: 'Cleaning Service', status: 'Pending', amount: 'SGD 150', commission: 'SGD 22.50' }\r\n  ];\r\n\r\n  const upcomingTraining = [\r\n    { title: 'Customer Service Skills', date: '2024-01-25', duration: '2 hours', type: 'Online Course' },\r\n    { title: 'Financial Management Basics', date: '2024-01-30', duration: '3 hours', type: 'Online Course' }\r\n  ];\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <h1 className=\"text-2xl font-bold\">Vendor Dashboard</h1>\r\n      \r\n      {/* Subscription Status */}\r\n      <motion.div\r\n        initial={{ opacity: 0, y: 20 }}\r\n        animate={{ opacity: 1, y: 0 }}\r\n        className=\"bg-gradient-to-r from-orange-500 to-orange-600 text-white p-6 rounded-lg shadow-md\"\r\n      >\r\n        <div className=\"flex items-center justify-between\">\r\n          <div>\r\n            <h2 className=\"text-xl font-semibold mb-2\">Subscription Status</h2>\r\n            <p className=\"text-orange-50\">Current Plan: {subscriptionInfo.plan}</p>\r\n            <p className=\"text-orange-50\">Next Billing: {subscriptionInfo.nextBilling}</p>\r\n          </div>\r\n          <div className=\"text-right\">\r\n            <span className=\"bg-green-400 text-green-900 px-3 py-1 rounded-full text-sm font-medium\">\r\n              {subscriptionInfo.status}\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </motion.div>\r\n      \r\n      {/* Stats */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n        {stats.map((stat, index) => (\r\n          <motion.div\r\n            key={index}\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.6, delay: index * 0.1 }}\r\n            className=\"bg-white p-6 rounded-lg shadow-md\"\r\n          >\r\n            <div className=\"flex items-center\">\r\n              <div className={`p-3 rounded-full ${stat.color} text-white`}>\r\n                <stat.icon size={24} />\r\n              </div>\r\n              <div className=\"ml-4\">\r\n                <p className=\"text-sm text-gray-600\">{stat.title}</p>\r\n                <p className=\"text-2xl font-bold\">{stat.value}</p>\r\n              </div>\r\n            </div>\r\n          </motion.div>\r\n        ))}\r\n      </div>\r\n\r\n      <div className=\"grid lg:grid-cols-2 gap-6\">\r\n        {/* Recent Jobs */}\r\n        <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n          <h2 className=\"text-xl font-semibold mb-4\">Recent Jobs</h2>\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"w-full\">\r\n              <thead>\r\n                <tr className=\"border-b\">\r\n                  <th className=\"text-left py-3\">Customer</th>\r\n                  <th className=\"text-left py-3\">Service</th>\r\n                  <th className=\"text-left py-3\">Status</th>\r\n                  <th className=\"text-left py-3\">Amount</th>\r\n                  <th className=\"text-left py-3\">Commission</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {recentJobs.map((job) => (\r\n                  <tr key={job.id} className=\"border-b hover:bg-gray-50\">\r\n                    <td className=\"py-3\">{job.customer}</td>\r\n                    <td className=\"py-3\">{job.service}</td>\r\n                    <td className=\"py-3\">\r\n                      <span className={`px-2 py-1 rounded-full text-xs ${\r\n                        job.status === 'Completed' ? 'bg-green-100 text-green-800' :\r\n                        job.status === 'In Progress' ? 'bg-blue-100 text-blue-800' :\r\n                        'bg-yellow-100 text-yellow-800'\r\n                      }`}>\r\n                        {job.status}\r\n                      </span>\r\n                    </td>\r\n                    <td className=\"py-3 font-medium\">{job.amount}</td>\r\n                    <td className=\"py-3 text-green-600 font-medium\">{job.commission}</td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Upcoming Training */}\r\n        <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n          <h2 className=\"text-xl font-semibold mb-4\">Upcoming Training</h2>\r\n          <div className=\"space-y-4\">\r\n            {upcomingTraining.map((training, index) => (\r\n              <motion.div\r\n                key={index}\r\n                initial={{ opacity: 0, x: 20 }}\r\n                animate={{ opacity: 1, x: 0 }}\r\n                transition={{ delay: index * 0.1 }}\r\n                className=\"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow\"\r\n              >\r\n                <div className=\"flex justify-between items-start\">\r\n                  <div>\r\n                    <h3 className=\"font-semibold text-gray-900\">{training.title}</h3>\r\n                    <p className=\"text-sm text-gray-600\">{training.date} • {training.duration}</p>\r\n                    <span className=\"inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded mt-2\">\r\n                      {training.type}\r\n                    </span>\r\n                  </div>\r\n                  <button className=\"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700 transition-colors\">\r\n                    Join\r\n                  </button>\r\n                </div>\r\n              </motion.div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Quick Actions */}\r\n      <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n        <h2 className=\"text-xl font-semibold mb-4\">Quick Actions</h2>\r\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n          <button className=\"flex flex-col items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors\">\r\n            <Calendar className=\"w-8 h-8 text-blue-600 mb-2\" />\r\n            <span className=\"text-sm font-medium\">Schedule Work</span>\r\n          </button>\r\n          <button className=\"flex flex-col items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors\">\r\n            <FileText className=\"w-8 h-8 text-green-600 mb-2\" />\r\n            <span className=\"text-sm font-medium\">Create Quote</span>\r\n          </button>\r\n          <button className=\"flex flex-col items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors\">\r\n            <MessageSquare className=\"w-8 h-8 text-purple-600 mb-2\" />\r\n            <span className=\"text-sm font-medium\">Customer Communication</span>\r\n          </button>\r\n          <button className=\"flex flex-col items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors\">\r\n            <TrendingUp className=\"w-8 h-8 text-orange-600 mb-2\" />\r\n            <span className=\"text-sm font-medium\">View Reports</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst AdminDashboard = () => {\r\n  const stats = [\r\n    { title: 'Total Users', value: '1,234', icon: Users, color: 'bg-blue-500' },\r\n    { title: 'Total Vendors', value: '89', icon: Building, color: 'bg-green-500' },\r\n    { title: 'Monthly Revenue', value: '$45,680', icon: DollarSign, color: 'bg-purple-500' },\r\n    { title: 'Pending Review', value: '12', icon: FileText, color: 'bg-yellow-500' }\r\n  ];\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <h1 className=\"text-2xl font-bold\">Admin Dashboard</h1>\r\n      \r\n      {/* Stats */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n        {stats.map((stat, index) => (\r\n          <motion.div\r\n            key={index}\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.6, delay: index * 0.1 }}\r\n            className=\"bg-white p-6 rounded-lg shadow-md\"\r\n          >\r\n            <div className=\"flex items-center\">\r\n              <div className={`p-3 rounded-full ${stat.color} text-white`}>\r\n                <stat.icon size={24} />\r\n              </div>\r\n              <div className=\"ml-4\">\r\n                <p className=\"text-sm text-gray-600\">{stat.title}</p>\r\n                <p className=\"text-2xl font-bold\">{stat.value}</p>\r\n              </div>\r\n            </div>\r\n          </motion.div>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Quick Actions */}\r\n      <div className=\"grid md:grid-cols-2 gap-6\">\r\n        <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n          <h2 className=\"text-xl font-semibold mb-4\">Quick Actions</h2>\r\n          <div className=\"space-y-3\">\r\n            <Link\r\n              to=\"/admin/faqs\"\r\n              className=\"w-full text-left p-3 border rounded-lg hover:bg-gray-50 block transition-colors\"\r\n            >\r\n              FAQ Management\r\n            </Link>\r\n            <Link\r\n              to=\"/admin/pricing\"\r\n              className=\"w-full text-left p-3 border rounded-lg hover:bg-gray-50 block transition-colors\"\r\n            >\r\n              Pricing Management\r\n            </Link>\r\n            <button className=\"w-full text-left p-3 border rounded-lg hover:bg-gray-50\">\r\n              Review Vendor Applications\r\n            </button>\r\n            <button className=\"w-full text-left p-3 border rounded-lg hover:bg-gray-50\">\r\n              View System Reports\r\n            </button>\r\n            <button className=\"w-full text-left p-3 border rounded-lg hover:bg-gray-50\">\r\n              Manage User Accounts\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n          <h2 className=\"text-xl font-semibold mb-4\">System Status</h2>\r\n          <div className=\"space-y-3\">\r\n            <div className=\"flex justify-between\">\r\n              <span>Server Status</span>\r\n              <span className=\"text-green-600\">Normal</span>\r\n            </div>\r\n            <div className=\"flex justify-between\">\r\n              <span>Database Connection</span>\r\n              <span className=\"text-green-600\">Normal</span>\r\n            </div>\r\n            <div className=\"flex justify-between\">\r\n              <span>Payment System</span>\r\n              <span className=\"text-green-600\">Normal</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Profile Management Component\r\nconst ProfileTab = () => {\r\n  const { user, updateUser } = useAuth();\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [showPasswordChange, setShowPasswordChange] = useState(false);\r\n  const [profileData, setProfileData] = useState({\r\n    firstName: user?.firstName || '',\r\n    lastName: user?.lastName || '',\r\n    email: user?.email || '',\r\n    phone: user?.phone || '',\r\n    address: user?.address || '', // Street Address\r\n    city: user?.city || '',\r\n    state: user?.state || '',\r\n    zipCode: user?.zipCode || '',\r\n    country: user?.country || 'Malaysia'\r\n  });\r\n  \r\n  // Update profile data when user context changes\r\n  useEffect(() => {\r\n    if (user) {\r\n      setProfileData({\r\n        firstName: user.firstName || '',\r\n        lastName: user.lastName || '',\r\n        email: user.email || '',\r\n        phone: user.phone || '',\r\n        address: user.address || '',\r\n        city: user.city || '',\r\n        state: user.state || '',\r\n        zipCode: user.zipCode || '',\r\n        country: user.country || 'Malaysia'\r\n      });\r\n    }\r\n  }, [user]);\r\n  const [passwordData, setPasswordData] = useState({\r\n    currentPassword: '',\r\n    newPassword: '',\r\n    confirmPassword: ''\r\n  });\r\n\r\n  const handleProfileUpdate = async () => {\r\n    try {\r\n      const response = await api.users.updateProfile(profileData);\r\n      \r\n      setIsEditing(false);\r\n      toast.success('Profile updated successfully! ✅');\r\n      \r\n      // Update the profileData state with the response to reflect any server changes\r\n      if (response.user) {\r\n        const updatedProfileData = {\r\n          firstName: response.user.firstName || '',\r\n          lastName: response.user.lastName || '',\r\n          email: response.user.email || '',\r\n          phone: response.user.phone || '',\r\n          address: response.user.address || '',\r\n          city: response.user.city || '',\r\n          state: response.user.state || '',\r\n          zipCode: response.user.zipCode || '',\r\n          country: response.user.country || 'Malaysia'\r\n        };\r\n        setProfileData(updatedProfileData);\r\n        \r\n        // Update the AuthContext with new user data so it's reflected everywhere\r\n        updateUser({\r\n          // Keep all other user properties unchanged\r\n          ...user,\r\n          firstName: response.user.firstName,\r\n          lastName: response.user.lastName,\r\n          name: response.user.fullName || `${response.user.firstName} ${response.user.lastName}`,\r\n          phone: response.user.phone,\r\n          address: response.user.address || '',\r\n          city: response.user.city || '',\r\n          state: response.user.state || '',\r\n          zipCode: response.user.zipCode || '',\r\n          country: response.user.country || 'Malaysia'\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error('❌ Profile update error:', error);\r\n      toast.error(`Failed to update profile: ${error.message}`);\r\n    }\r\n  };\r\n\r\n  const handlePasswordChange = async () => {\r\n    \r\n    if (passwordData.newPassword !== passwordData.confirmPassword) {\r\n      toast.error('Passwords do not match');\r\n      return;\r\n    }\r\n    \r\n    if (passwordData.newPassword.length < 6) {\r\n      toast.error('New password must be at least 6 characters long');\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      const response = await api.users.changePassword(passwordData);\r\n      \r\n      setPasswordData({ currentPassword: '', newPassword: '', confirmPassword: '' });\r\n      setShowPasswordChange(false);\r\n      toast.success('Password changed successfully! ✅');\r\n    } catch (error) {\r\n      console.error('❌ Password change error:', error);\r\n      toast.error(`Failed to change password: ${error.message}`);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex justify-between items-center\">\r\n        <h2 className=\"text-2xl font-bold text-gray-900\">Profile</h2>\r\n        {!isEditing && (\r\n          <button\r\n            onClick={() => setIsEditing(true)}\r\n            className=\"flex items-center px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700\"\r\n          >\r\n            <Edit className=\"w-4 h-4 mr-2\" />\r\n            Edit Profile\r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">First Name</label>\r\n            <input\r\n              type=\"text\"\r\n              value={profileData.firstName}\r\n              onChange={(e) => setProfileData({...profileData, firstName: e.target.value})}\r\n              disabled={!isEditing}\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg disabled:bg-gray-50\"\r\n            />\r\n          </div>\r\n          \r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Last Name</label>\r\n            <input\r\n              type=\"text\"\r\n              value={profileData.lastName}\r\n              onChange={(e) => setProfileData({...profileData, lastName: e.target.value})}\r\n              disabled={!isEditing}\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg disabled:bg-gray-50\"\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Email</label>\r\n            <div className=\"relative\">\r\n              <Mail className=\"absolute left-3 top-3 w-4 h-4 text-gray-400\" />\r\n              <input\r\n                type=\"email\"\r\n                value={profileData.email}\r\n                onChange={(e) => setProfileData({...profileData, email: e.target.value})}\r\n                disabled={!isEditing}\r\n                className=\"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg disabled:bg-gray-50\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Phone</label>\r\n            <div className=\"relative\">\r\n              <Phone className=\"absolute left-3 top-3 w-4 h-4 text-gray-400\" />\r\n              <input\r\n                type=\"tel\"\r\n                value={profileData.phone}\r\n                onChange={(e) => setProfileData({...profileData, phone: e.target.value})}\r\n                disabled={!isEditing}\r\n                className=\"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg disabled:bg-gray-50\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"md:col-span-2\">\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Street Address</label>\r\n            <div className=\"relative\">\r\n              <MapPin className=\"absolute left-3 top-3 w-4 h-4 text-gray-400\" />\r\n              <input\r\n                type=\"text\"\r\n                value={profileData.address}\r\n                onChange={(e) => setProfileData({...profileData, address: e.target.value})}\r\n                disabled={!isEditing}\r\n                placeholder=\"Jalan Permas 16/1, Bandar Baru Permas Jaya, 81750, Masai, Johor\"\r\n                className=\"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg disabled:bg-gray-50\"\r\n                autoComplete=\"street-address\"\r\n                name=\"street-address\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">City</label>\r\n            <input\r\n              type=\"text\"\r\n              value={profileData.city}\r\n              onChange={(e) => setProfileData({...profileData, city: e.target.value})}\r\n              disabled={!isEditing}\r\n              placeholder=\"Masai\"\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg disabled:bg-gray-50\"\r\n              autoComplete=\"address-level2\"\r\n              name=\"city\"\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">State/Region</label>\r\n            <input\r\n              type=\"text\"\r\n              value={profileData.state}\r\n              onChange={(e) => setProfileData({...profileData, state: e.target.value})}\r\n              disabled={!isEditing}\r\n              placeholder=\"Johor\"\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg disabled:bg-gray-50\"\r\n              autoComplete=\"address-level1\"\r\n              name=\"state\"\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Postal Code</label>\r\n            <input\r\n              type=\"text\"\r\n              value={profileData.zipCode}\r\n              onChange={(e) => setProfileData({...profileData, zipCode: e.target.value})}\r\n              disabled={!isEditing}\r\n              placeholder=\"81750\"\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg disabled:bg-gray-50\"\r\n              autoComplete=\"postal-code\"\r\n              name=\"postal-code\"\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Country</label>\r\n            <input\r\n              type=\"text\"\r\n              value={profileData.country}\r\n              onChange={(e) => setProfileData({...profileData, country: e.target.value})}\r\n              disabled={!isEditing}\r\n              placeholder=\"Malaysia\"\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg disabled:bg-gray-50\"\r\n              autoComplete=\"country-name\"\r\n              name=\"country\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {isEditing && (\r\n          <div className=\"mt-6 flex justify-end space-x-4\">\r\n            <button\r\n              onClick={() => setIsEditing(false)}\r\n              className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50\"\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              onClick={handleProfileUpdate}\r\n              className=\"flex items-center px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700\"\r\n            >\r\n              <Save className=\"w-4 h-4 mr-2\" />\r\n              Save Changes\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Password Change Section */}\r\n      <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n        <div className=\"flex justify-between items-center mb-4\">\r\n          <h3 className=\"text-lg font-semibold text-gray-900\">Password & Security</h3>\r\n          {!showPasswordChange && (\r\n            <button\r\n              onClick={() => setShowPasswordChange(true)}\r\n              className=\"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700\"\r\n            >\r\n              Change Password\r\n            </button>\r\n          )}\r\n        </div>\r\n\r\n        {showPasswordChange && (\r\n          <div className=\"space-y-4\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Current Password</label>\r\n              <input\r\n                type=\"password\"\r\n                value={passwordData.currentPassword}\r\n                onChange={(e) => setPasswordData({...passwordData, currentPassword: e.target.value})}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg\"\r\n              />\r\n            </div>\r\n            \r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">New Password</label>\r\n              <input\r\n                type=\"password\"\r\n                value={passwordData.newPassword}\r\n                onChange={(e) => setPasswordData({...passwordData, newPassword: e.target.value})}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg\"\r\n              />\r\n            </div>\r\n            \r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Confirm New Password</label>\r\n              <input\r\n                type=\"password\"\r\n                value={passwordData.confirmPassword}\r\n                onChange={(e) => setPasswordData({...passwordData, confirmPassword: e.target.value})}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"flex justify-end space-x-4\">\r\n              <button\r\n                onClick={() => setShowPasswordChange(false)}\r\n                className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50\"\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                onClick={handlePasswordChange}\r\n                className=\"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700\"\r\n              >\r\n                Change Password\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Specific Referral Components\r\nconst ReferralOverview = () => {\r\n  const [loading, setLoading] = useState(true);\r\n  const [dashboardData, setDashboardData] = useState(null);\r\n\r\n  useEffect(() => {\r\n    loadReferralData();\r\n  }, []);\r\n\r\n  const loadReferralData = async () => {\r\n    try {\r\n      const response = await api.referral.getDashboard();\r\n      setDashboardData(response);\r\n    } catch (error) {\r\n      console.error('Failed to load referral data:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return <div className=\"text-center py-8\">Loading referral data...</div>;\r\n  }\r\n\r\n  if (!dashboardData?.hasReferralCode) {\r\n    return (\r\n      <div className=\"text-center py-12\">\r\n        <Gift className=\"w-16 h-16 text-orange-600 mx-auto mb-4\" />\r\n        <h2 className=\"text-2xl font-bold text-gray-900 mb-4\">Welcome to Referrals</h2>\r\n        <p className=\"text-gray-600 mb-8\">Start earning commissions by referring friends to Swift Fix Pro</p>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-4xl mx-auto\">\r\n          <div className=\"bg-orange-50 p-6 rounded-lg\">\r\n            <h3 className=\"font-semibold text-orange-800 mb-2\">Bronze Tier</h3>\r\n            <p className=\"text-2xl font-bold text-orange-600\">5%</p>\r\n            <p className=\"text-sm text-orange-600\">Commission Rate</p>\r\n          </div>\r\n          <div className=\"bg-gray-50 p-6 rounded-lg\">\r\n            <h3 className=\"font-semibold text-gray-800 mb-2\">Silver Tier</h3>\r\n            <p className=\"text-2xl font-bold text-gray-600\">7.5%</p>\r\n            <p className=\"text-sm text-gray-600\">10+ Referrals</p>\r\n          </div>\r\n          <div className=\"bg-yellow-50 p-6 rounded-lg\">\r\n            <h3 className=\"font-semibold text-yellow-800 mb-2\">Gold Tier</h3>\r\n            <p className=\"text-2xl font-bold text-yellow-600\">10%</p>\r\n            <p className=\"text-sm text-yellow-600\">25+ Referrals</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Quick Stats */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n        <div className=\"bg-gradient-to-br from-orange-500 to-orange-600 text-white rounded-lg shadow-lg p-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-orange-100\">Your Code</p>\r\n              <p className=\"text-2xl font-bold\">{dashboardData.referralCode}</p>\r\n            </div>\r\n            <Gift className=\"w-10 h-10 text-orange-200\" />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-lg shadow-lg p-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-gray-600\">Total Referrals</p>\r\n              <p className=\"text-2xl font-bold text-gray-900\">{dashboardData.statistics.totalReferrals}</p>\r\n            </div>\r\n            <Users className=\"w-10 h-10 text-blue-500\" />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-lg shadow-lg p-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-gray-600\">Total Earned</p>\r\n              <p className=\"text-2xl font-bold text-green-600\">${dashboardData.statistics.totalEarned.toFixed(2)}</p>\r\n            </div>\r\n            <DollarSign className=\"w-10 h-10 text-green-500\" />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-lg shadow-lg p-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-gray-600\">Current Tier</p>\r\n              <p className=\"text-xl font-bold text-yellow-600\">{dashboardData.currentTier.name}</p>\r\n            </div>\r\n            <Star className=\"w-10 h-10 text-yellow-500\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Tier Progress */}\r\n      {dashboardData.nextTier && (\r\n        <div className=\"bg-white rounded-lg shadow-lg p-6\">\r\n          <h3 className=\"text-lg font-semibold mb-4\">Tier Progress</h3>\r\n          <div className=\"flex justify-between text-sm text-gray-600 mb-2\">\r\n            <span>{dashboardData.currentTier.name} ({dashboardData.currentTier.rate}%)</span>\r\n            <span>{dashboardData.nextTier.name} ({dashboardData.nextTier.rate}%)</span>\r\n          </div>\r\n          <div className=\"w-full bg-gray-200 rounded-full h-3\">\r\n            <div \r\n              className=\"bg-orange-600 h-3 rounded-full transition-all duration-300\"\r\n              style={{ width: `${Math.min(dashboardData.nextTier.progress, 100)}%` }}\r\n            ></div>\r\n          </div>\r\n          <p className=\"text-sm text-gray-600 mt-2\">\r\n            {dashboardData.nextTier.requirement - dashboardData.statistics.activeReferrals} more referrals needed\r\n          </p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ReferralList = () => {\r\n  const [referrals, setReferrals] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    loadReferralList();\r\n  }, []);\r\n\r\n  const loadReferralList = async () => {\r\n    try {\r\n      const response = await api.referral.getDashboard();\r\n      setReferrals(response.referredUsers || []);\r\n    } catch (error) {\r\n      console.error('Failed to load referral list:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return <div className=\"text-center py-8\">Loading referrals...</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"bg-white rounded-lg shadow-lg p-6\">\r\n        <h3 className=\"text-lg font-semibold mb-4\">My Referrals ({referrals.length})</h3>\r\n        {referrals.length > 0 ? (\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"min-w-full\">\r\n              <thead>\r\n                <tr className=\"border-b-2 border-gray-200\">\r\n                  <th className=\"text-left py-3 px-2\">Name</th>\r\n                  <th className=\"text-left py-3 px-2\">Email</th>\r\n                  <th className=\"text-left py-3 px-2\">Joined Date</th>\r\n                  <th className=\"text-left py-3 px-2\">Status</th>\r\n                  <th className=\"text-left py-3 px-2\">Total Spent</th>\r\n                  <th className=\"text-left py-3 px-2\">My Earnings</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {referrals.map((referral, index) => (\r\n                  <tr key={index} className=\"border-b border-gray-100 hover:bg-gray-50\">\r\n                    <td className=\"py-3 px-2 font-medium\">{referral.user.firstName} {referral.user.lastName}</td>\r\n                    <td className=\"py-3 px-2 text-gray-600\">{referral.user.email}</td>\r\n                    <td className=\"py-3 px-2\">{new Date(referral.joinedAt).toLocaleDateString()}</td>\r\n                    <td className=\"py-3 px-2\">\r\n                      <span className={`px-3 py-1 rounded-full text-xs font-medium ${\r\n                        referral.status === 'ACTIVE' \r\n                          ? 'bg-green-100 text-green-800' \r\n                          : 'bg-yellow-100 text-yellow-800'\r\n                      }`}>\r\n                        {referral.status}\r\n                      </span>\r\n                    </td>\r\n                    <td className=\"py-3 px-2 font-medium\">${referral.totalSpent.toFixed(2)}</td>\r\n                    <td className=\"py-3 px-2 font-medium text-green-600\">\r\n                      ${(referral.totalSpent * 0.05).toFixed(2)}\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        ) : (\r\n          <div className=\"text-center py-8 text-gray-500\">\r\n            <Users className=\"w-12 h-12 mx-auto mb-4 text-gray-300\" />\r\n            <p>No referrals yet. Start sharing your referral code!</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ReferralEarnings = () => {\r\n  const [commissions, setCommissions] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [stats, setStats] = useState({ total: 0, pending: 0, paid: 0 });\r\n\r\n  useEffect(() => {\r\n    loadCommissions();\r\n  }, []);\r\n\r\n  const loadCommissions = async () => {\r\n    try {\r\n      const response = await api.referral.getCommissions();\r\n      setCommissions(response.commissions || []);\r\n      \r\n      const total = response.commissions?.reduce((sum, c) => sum + c.commissionAmount, 0) || 0;\r\n      const pending = response.commissions?.filter(c => c.status === 'PENDING').reduce((sum, c) => sum + c.commissionAmount, 0) || 0;\r\n      const paid = response.commissions?.filter(c => c.status === 'PAID').reduce((sum, c) => sum + c.commissionAmount, 0) || 0;\r\n      \r\n      setStats({ total, pending, paid });\r\n    } catch (error) {\r\n      console.error('Failed to load commissions:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return <div className=\"text-center py-8\">Loading earnings...</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Earnings Summary */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n        <div className=\"bg-green-50 rounded-lg shadow-lg p-6\">\r\n          <h3 className=\"text-lg font-semibold text-green-800 mb-2\">Total Earnings</h3>\r\n          <p className=\"text-3xl font-bold text-green-600\">${stats.total.toFixed(2)}</p>\r\n        </div>\r\n        <div className=\"bg-yellow-50 rounded-lg shadow-lg p-6\">\r\n          <h3 className=\"text-lg font-semibold text-yellow-800 mb-2\">Pending</h3>\r\n          <p className=\"text-3xl font-bold text-yellow-600\">${stats.pending.toFixed(2)}</p>\r\n        </div>\r\n        <div className=\"bg-blue-50 rounded-lg shadow-lg p-6\">\r\n          <h3 className=\"text-lg font-semibold text-blue-800 mb-2\">Paid Out</h3>\r\n          <p className=\"text-3xl font-bold text-blue-600\">${stats.paid.toFixed(2)}</p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Commission History */}\r\n      <div className=\"bg-white rounded-lg shadow-lg p-6\">\r\n        <h3 className=\"text-lg font-semibold mb-4\">Commission History</h3>\r\n        {commissions.length > 0 ? (\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"min-w-full\">\r\n              <thead>\r\n                <tr className=\"border-b-2 border-gray-200\">\r\n                  <th className=\"text-left py-3\">Date</th>\r\n                  <th className=\"text-left py-3\">Referred User</th>\r\n                  <th className=\"text-left py-3\">Order Amount</th>\r\n                  <th className=\"text-left py-3\">Commission Rate</th>\r\n                  <th className=\"text-left py-3\">My Commission</th>\r\n                  <th className=\"text-left py-3\">Status</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {commissions.map((commission, index) => (\r\n                  <tr key={index} className=\"border-b border-gray-100\">\r\n                    <td className=\"py-3\">{new Date(commission.createdAt).toLocaleDateString()}</td>\r\n                    <td className=\"py-3\">{commission.referredUser.firstName} {commission.referredUser.lastName}</td>\r\n                    <td className=\"py-3\">${commission.orderAmount.toFixed(2)}</td>\r\n                    <td className=\"py-3\">{commission.commissionRate}%</td>\r\n                    <td className=\"py-3 font-bold text-green-600\">${commission.commissionAmount.toFixed(2)}</td>\r\n                    <td className=\"py-3\">\r\n                      <span className={`px-3 py-1 rounded-full text-xs font-medium ${\r\n                        commission.status === 'PAID' ? 'bg-green-100 text-green-800' :\r\n                        commission.status === 'APPROVED' ? 'bg-blue-100 text-blue-800' :\r\n                        'bg-yellow-100 text-yellow-800'\r\n                      }`}>\r\n                        {commission.status}\r\n                      </span>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        ) : (\r\n          <div className=\"text-center py-8 text-gray-500\">\r\n            <DollarSign className=\"w-12 h-12 mx-auto mb-4 text-gray-300\" />\r\n            <p>No commissions yet. Start referring to earn!</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ReferralShare = () => {\r\n  const [shareData, setShareData] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    loadShareData();\r\n  }, []);\r\n\r\n  const loadShareData = async () => {\r\n    try {\r\n      const response = await api.referral.getShareLink();\r\n      setShareData(response);\r\n    } catch (error) {\r\n      console.error('Failed to load share data:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const copyToClipboard = (text, type) => {\r\n    navigator.clipboard.writeText(text).then(() => {\r\n      toast.success(`${type} copied to clipboard!`);\r\n    });\r\n  };\r\n\r\n  const generateReferralCode = async () => {\r\n    try {\r\n      await api.referral.generateCode();\r\n      await loadShareData();\r\n      toast.success('Referral code generated successfully!');\r\n    } catch (error) {\r\n      toast.error('Failed to generate referral code');\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return <div className=\"text-center py-8\">Loading share options...</div>;\r\n  }\r\n\r\n  if (!shareData) {\r\n    return (\r\n      <div className=\"text-center py-12\">\r\n        <Gift className=\"w-16 h-16 text-orange-600 mx-auto mb-4\" />\r\n        <h2 className=\"text-2xl font-bold text-gray-900 mb-4\">Generate Your Referral Code</h2>\r\n        <p className=\"text-gray-600 mb-8\">Create your unique referral code to start sharing</p>\r\n        <button\r\n          onClick={generateReferralCode}\r\n          className=\"bg-orange-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-orange-700\"\r\n        >\r\n          Generate Referral Code\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"bg-gradient-to-br from-orange-500 to-orange-600 text-white rounded-lg shadow-lg p-8\">\r\n        <h2 className=\"text-2xl font-bold mb-4\">Share & Earn Commissions</h2>\r\n        <p className=\"text-orange-100\">Share your referral code and earn up to 10% commission on every sale!</p>\r\n      </div>\r\n\r\n      {/* Share Options */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n        <div className=\"bg-white rounded-lg shadow-lg p-6\">\r\n          <h3 className=\"text-lg font-semibold mb-4 flex items-center\">\r\n            <Gift className=\"w-5 h-5 mr-2 text-orange-600\" />\r\n            Referral Code\r\n          </h3>\r\n          <div className=\"flex mb-4\">\r\n            <input\r\n              type=\"text\"\r\n              value={shareData.referralCode}\r\n              readOnly\r\n              className=\"flex-1 px-4 py-3 text-lg font-bold border border-gray-300 rounded-l-lg bg-gray-50 text-center\"\r\n            />\r\n            <button\r\n              onClick={() => copyToClipboard(shareData.referralCode, 'Referral code')}\r\n              className=\"px-6 py-3 bg-orange-600 text-white rounded-r-lg hover:bg-orange-700 flex items-center\"\r\n            >\r\n              <Copy className=\"w-4 h-4 mr-2\" />\r\n              Copy\r\n            </button>\r\n          </div>\r\n          <p className=\"text-sm text-gray-600\">\r\n            Share this code with friends during their registration process.\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-lg shadow-lg p-6\">\r\n          <h3 className=\"text-lg font-semibold mb-4 flex items-center\">\r\n            <Share2 className=\"w-5 h-5 mr-2 text-blue-600\" />\r\n            Referral Link\r\n          </h3>\r\n          <div className=\"flex mb-4\">\r\n            <input\r\n              type=\"text\"\r\n              value={shareData.referralLink}\r\n              readOnly\r\n              className=\"flex-1 px-4 py-3 border border-gray-300 rounded-l-lg bg-gray-50 text-sm\"\r\n            />\r\n            <button\r\n              onClick={() => copyToClipboard(shareData.referralLink, 'Referral link')}\r\n              className=\"px-6 py-3 bg-blue-600 text-white rounded-r-lg hover:bg-blue-700 flex items-center\"\r\n            >\r\n              <Copy className=\"w-4 h-4 mr-2\" />\r\n              Copy\r\n            </button>\r\n          </div>\r\n          <p className=\"text-sm text-gray-600\">\r\n            Direct link that automatically applies your referral code.\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Share Message Template */}\r\n      <div className=\"bg-white rounded-lg shadow-lg p-6\">\r\n        <h3 className=\"text-lg font-semibold mb-4\">Share Message Template</h3>\r\n        <div className=\"bg-gray-50 p-4 rounded-lg\">\r\n          <p className=\"text-gray-700\">{shareData.shareText}</p>\r\n        </div>\r\n        <button\r\n          onClick={() => copyToClipboard(shareData.shareText, 'Share message')}\r\n          className=\"mt-4 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700\"\r\n        >\r\n          Copy Message\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst DashboardPage = () => {\r\n  const { user, logout } = useAuth();\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n  const [activeTab, setActiveTab] = useState('overview');\r\n  const [activeSection, setActiveSection] = useState('dashboard');\r\n\r\n  // Get active tab from URL or state\r\n  useEffect(() => {\r\n    const pathSegments = location.pathname.split('/').filter(segment => segment !== '');\r\n    const currentTab = pathSegments[1] || 'overview'; // dashboard/profile -> 'profile'\r\n    \r\n    // Map specific tabs to their sections\r\n    if (['profile', 'security', 'preferences'].includes(currentTab)) {\r\n      setActiveSection('account');\r\n    } else if (['referrals', 'ref-overview', 'my-referrals', 'earnings', 'share'].includes(currentTab) || \r\n               location.pathname.startsWith('/dashboard/referrals')) {\r\n      setActiveSection('referrals');\r\n    } else {\r\n      setActiveSection('dashboard');\r\n    }\r\n    \r\n    // Set the correct tab based on URL\r\n    if (currentTab === 'profile') {\r\n      setActiveTab('profile');\r\n    } else if (currentTab === 'security') {\r\n      setActiveTab('security');\r\n    } else if (currentTab === 'preferences') {\r\n      setActiveTab('preferences');\r\n    } else if (location.pathname.includes('/referrals')) {\r\n      if (location.pathname.includes('/list')) {\r\n        setActiveTab('my-referrals');\r\n      } else if (location.pathname.includes('/earnings')) {\r\n        setActiveTab('earnings');\r\n      } else if (location.pathname.includes('/share')) {\r\n        setActiveTab('share');\r\n      } else {\r\n        setActiveTab('ref-overview');\r\n      }\r\n    } else {\r\n      setActiveTab(currentTab || 'overview');\r\n    }\r\n  }, [location]);\r\n\r\n  const mainNavigation = [\r\n    { \r\n      name: 'Dashboard', \r\n      section: 'dashboard',\r\n      icon: Home,\r\n      description: 'Overview & Analytics',\r\n      tabs: [\r\n        { name: 'Overview', tab: 'overview', href: '/dashboard' },\r\n        { name: 'Analytics', tab: 'analytics', href: '/dashboard/analytics' },\r\n        { name: 'Activity', tab: 'activity', href: '/dashboard/activity' }\r\n      ]\r\n    },\r\n    { \r\n      name: 'Account', \r\n      section: 'account',\r\n      icon: User,\r\n      description: 'Profile & Settings',\r\n      tabs: [\r\n        { name: 'Profile', tab: 'profile', href: '/dashboard/profile' },\r\n        { name: 'Security', tab: 'security', href: '/dashboard/security' },\r\n        { name: 'Preferences', tab: 'preferences', href: '/dashboard/preferences' }\r\n      ]\r\n    },\r\n    { \r\n      name: 'Referrals', \r\n      section: 'referrals',\r\n      icon: Gift,\r\n      description: 'Earn & Share',\r\n      tabs: [\r\n        { name: 'Overview', tab: 'ref-overview', href: '/dashboard/referrals' },\r\n        { name: 'My Referrals', tab: 'my-referrals', href: '/dashboard/referrals/list' },\r\n        { name: 'Earnings', tab: 'earnings', href: '/dashboard/referrals/earnings' },\r\n        { name: 'Share', tab: 'share', href: '/dashboard/referrals/share' }\r\n      ]\r\n    }\r\n  ];\r\n\r\n  const handleLogout = () => {\r\n    logout();\r\n  };\r\n\r\n  // Show different dashboards based on user role\r\n  const getDashboardContent = () => {\r\n    if (!user) return <div>Please login first</div>;\r\n    \r\n    switch (user.role) {\r\n      case 'customer':\r\n        return <CustomerDashboard />;\r\n      case 'vendor':\r\n        return <VendorDashboard />;\r\n      case 'admin':\r\n        return <AdminDashboard />;\r\n      default:\r\n        return <CustomerDashboard />;\r\n    }\r\n  };\r\n\r\n  // Get current section from navigation\r\n  const getCurrentSection = () => {\r\n    return mainNavigation.find(nav => nav.section === activeSection);\r\n  };\r\n\r\n  // Get tab content based on active section and tab\r\n  const getTabContent = () => {\r\n    const section = getCurrentSection();\r\n    \r\n    if (activeSection === 'dashboard') {\r\n      switch (activeTab) {\r\n        case 'analytics':\r\n          return <div className=\"text-center py-12 text-gray-500\">Analytics coming soon...</div>;\r\n        case 'activity':\r\n          return <div className=\"text-center py-12 text-gray-500\">Activity feed coming soon...</div>;\r\n        default:\r\n          return getDashboardContent();\r\n      }\r\n    }\r\n    \r\n    if (activeSection === 'account') {\r\n      switch (activeTab) {\r\n        case 'profile':\r\n          return <ProfileTab />;\r\n        case 'security':\r\n          return <div className=\"text-center py-12 text-gray-500\">Security settings coming soon...</div>;\r\n        case 'preferences':\r\n          return <div className=\"text-center py-12 text-gray-500\">Preferences coming soon...</div>;\r\n        default:\r\n          return <ProfileTab />;\r\n      }\r\n    }\r\n    \r\n    if (activeSection === 'referrals') {\r\n      switch (activeTab) {\r\n        case 'my-referrals':\r\n          return <ReferralList />;\r\n        case 'earnings':\r\n          return <ReferralEarnings />;\r\n        case 'share':\r\n          return <ReferralShare />;\r\n        default:\r\n          return <ReferralOverview />;\r\n      }\r\n    }\r\n\r\n    return getDashboardContent();\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 pt-16\">\r\n      <div className=\"flex\">\r\n        {/* Sidebar */}\r\n        <div className=\"w-64 bg-white shadow-xl border-r border-gray-200 min-h-screen\">\r\n          <div className=\"p-6\">\r\n            <a href=\"/\" className=\"block mb-6\">\r\n              <h1 className=\"text-xl font-bold text-gray-900 hover:text-orange-600 transition-colors\">Swift Fix Pro</h1>\r\n            </a>\r\n            \r\n            <nav className=\"space-y-4\">\r\n              {mainNavigation.map((item) => {\r\n                if (item.external) {\r\n                  return (\r\n                    <a\r\n                      key={item.name}\r\n                      href={item.href}\r\n                      className=\"flex items-center px-4 py-2 rounded-lg transition-colors text-gray-600 hover:bg-gray-100\"\r\n                    >\r\n                      <item.icon size={20} className=\"mr-3\" />\r\n                      {item.name}\r\n                    </a>\r\n                  );\r\n                }\r\n\r\n                const isActiveSection = item.section === activeSection;\r\n                \r\n                return (\r\n                  <div key={item.name} className=\"space-y-1\">\r\n                    <div \r\n                      className={`flex items-center px-4 py-3 rounded-lg transition-colors cursor-pointer ${\r\n                        isActiveSection ? 'bg-orange-100' : 'hover:bg-gray-100'\r\n                      }`}\r\n                      onClick={() => {\r\n                        setActiveSection(item.section);\r\n                        setActiveTab(item.tabs[0].tab);\r\n                        navigate(item.tabs[0].href);\r\n                      }}\r\n                    >\r\n                      <item.icon size={20} className={`mr-3 ${isActiveSection ? 'text-orange-600' : 'text-gray-500'}`} />\r\n                      <div className=\"flex-1\">\r\n                        <div className={`font-medium ${isActiveSection ? 'text-orange-700' : 'text-gray-900'}`}>\r\n                          {item.name}\r\n                        </div>\r\n                        <div className=\"text-xs text-gray-500\">{item.description}</div>\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    {/* Sub-navigation tabs */}\r\n                    {isActiveSection && item.tabs && (\r\n                      <div className=\"ml-8 space-y-1\">\r\n                        {item.tabs.map((tab) => (\r\n                          <Link\r\n                            key={tab.tab}\r\n                            to={tab.href}\r\n                            onClick={() => setActiveTab(tab.tab)}\r\n                            className={`block px-4 py-2 text-sm rounded-lg transition-colors ${\r\n                              activeTab === tab.tab\r\n                                ? 'bg-orange-50 text-orange-700 font-medium'\r\n                                : 'text-gray-600 hover:bg-gray-50 hover:text-gray-900'\r\n                            }`}\r\n                          >\r\n                            {tab.name}\r\n                          </Link>\r\n                        ))}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                );\r\n              })}\r\n            </nav>\r\n\r\n            <div className=\"mt-8 pt-6 border-t\">\r\n              <button\r\n                onClick={handleLogout}\r\n                className=\"flex items-center px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg w-full\"\r\n              >\r\n                <LogOut size={20} className=\"mr-3\" />\r\n                Logout\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Main Content */}\r\n        <div className=\"flex-1 p-8 bg-gradient-to-br from-transparent via-blue-50/30 to-orange-50/20\">\r\n          {/* Breadcrumb */}\r\n          <div className=\"mb-6\">\r\n            <div className=\"flex items-center text-sm text-gray-500 mb-2\">\r\n              <span>{getCurrentSection()?.name}</span>\r\n              {getCurrentSection()?.tabs?.find(t => t.tab === activeTab) && (\r\n                <>\r\n                  <span className=\"mx-2\">›</span>\r\n                  <span className=\"text-gray-700\">{getCurrentSection()?.tabs?.find(t => t.tab === activeTab)?.name}</span>\r\n                </>\r\n              )}\r\n            </div>\r\n            <h1 className=\"text-3xl font-bold text-gray-900\">\r\n              {getCurrentSection()?.tabs?.find(t => t.tab === activeTab)?.name || getCurrentSection()?.name}\r\n            </h1>\r\n          </div>\r\n\r\n          <Routes>\r\n            <Route path=\"/\" element={getTabContent()} />\r\n            <Route path=\"/analytics\" element={<div className=\"text-center py-12 text-gray-500\">Analytics coming soon...</div>} />\r\n            <Route path=\"/activity\" element={<div className=\"text-center py-12 text-gray-500\">Activity feed coming soon...</div>} />\r\n            <Route path=\"/profile\" element={<ProfileTab />} />\r\n            <Route path=\"/security\" element={<div className=\"text-center py-12 text-gray-500\">Security settings coming soon...</div>} />\r\n            <Route path=\"/preferences\" element={<div className=\"text-center py-12 text-gray-500\">Preferences coming soon...</div>} />\r\n            <Route path=\"/referrals\" element={<ReferralOverview />} />\r\n            <Route path=\"/referrals/list\" element={<ReferralList />} />\r\n            <Route path=\"/referrals/earnings\" element={<ReferralEarnings />} />\r\n            <Route path=\"/referrals/share\" element={<ReferralShare />} />\r\n          </Routes>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DashboardPage; "],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAC1D,OAASC,MAAM,CAAEC,KAAK,CAAEC,IAAI,CAAEC,WAAW,CAAEC,WAAW,KAAQ,kBAAkB,CAChF,OAASC,MAAM,KAAQ,eAAe,CACtC,OACEC,IAAI,CACJC,IAAI,CACJC,QAAQ,CACRC,MAAM,CACNC,QAAQ,CACRC,UAAU,CACVC,KAAK,CACLC,OAAO,CACPC,IAAI,CACJC,UAAU,CACVC,QAAQ,CACRC,aAAa,CACbC,QAAQ,CACRC,WAAW,CACXC,SAAS,CACTC,IAAI,CACJC,MAAM,CACNC,IAAI,CACJC,IAAI,CACJC,KAAK,CACLC,MAAM,CACNC,IAAI,CACJC,IAAI,CACJC,CAAC,CACDC,GAAG,CACHC,MAAM,KACD,cAAc,CACrB,OAASC,OAAO,KAAQ,4BAA4B,CACpD,OAASC,GAAG,KAAQ,oBAAoB,CACxC,MAAO,CAAAC,KAAK,KAAM,iBAAiB,CAEnC;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBACA,KAAM,CAAAC,iBAAiB,CAAGC,IAAA,EAAuC,KAAAC,eAAA,CAAAC,gBAAA,CAAAC,cAAA,IAAtC,CAAEC,KAAK,CAAEC,OAAO,CAAEC,aAAc,CAAC,CAAAN,IAAA,CAC1D,KAAM,CAACO,OAAO,CAAEC,UAAU,CAAC,CAAGrD,QAAQ,CAAC,KAAK,CAAC,CAE7C,KAAM,CAAAsD,iBAAiB,CAAG,KAAAA,CAAA,GAAY,CACpC,GAAI,CACFD,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAAjB,GAAG,CAACmB,IAAI,CAACC,SAAS,CAACP,KAAK,CAACQ,GAAG,CAAE,uBAAuB,CAAC,CAC5DpB,KAAK,CAACqB,OAAO,CAAC,8BAA8B,CAAC,CAC7CP,aAAa,CAAC,CAAC,CAAE;AACjBD,OAAO,CAAC,CAAC,CACX,CAAE,MAAOS,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,CAAEA,KAAK,CAAC,CAC/CtB,KAAK,CAACsB,KAAK,CAAC,wBAAwB,CAAC,CACvC,CAAC,OAAS,CACRN,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAAQ,cAAc,CAAIC,MAAM,EAAK,CACjC,OAAQA,MAAM,EACZ,IAAK,WAAW,CAAE,MAAO,8CAA8C,CACvE,IAAK,aAAa,CAAE,MAAO,2CAA2C,CACtE,IAAK,UAAU,CAAE,MAAO,iDAAiD,CACzE,IAAK,SAAS,CAAE,MAAO,iDAAiD,CACxE,IAAK,WAAW,CAAE,MAAO,wCAAwC,CACjE,QAAS,MAAO,2CAA2C,CAC7D,CACF,CAAC,CAED,KAAM,CAAAC,UAAU,CAAIC,UAAU,EAAK,CACjC,MAAO,IAAI,CAAAC,IAAI,CAACD,UAAU,CAAC,CAACE,kBAAkB,CAAC,OAAO,CAAE,CACtDC,IAAI,CAAE,SAAS,CACfC,KAAK,CAAE,MAAM,CACbC,GAAG,CAAE,SAAS,CACdC,IAAI,CAAE,SAAS,CACfC,MAAM,CAAE,SACV,CAAC,CAAC,CACJ,CAAC,CAED,mBACEhC,IAAA,QAAKiC,SAAS,CAAC,gFAAgF,CAAAC,QAAA,cAC7FhC,KAAA,CAACjC,MAAM,CAACkE,GAAG,EACTC,OAAO,CAAE,CAAEC,OAAO,CAAE,CAAC,CAAEC,KAAK,CAAE,IAAK,CAAE,CACrCC,OAAO,CAAE,CAAEF,OAAO,CAAE,CAAC,CAAEC,KAAK,CAAE,CAAE,CAAE,CAClCE,IAAI,CAAE,CAAEH,OAAO,CAAE,CAAC,CAAEC,KAAK,CAAE,IAAK,CAAE,CAClCL,SAAS,CAAC,6EAA6E,CAAAC,QAAA,eAGvFhC,KAAA,QAAK+B,SAAS,CAAC,4EAA4E,CAAAC,QAAA,eACzFhC,KAAA,QAAAgC,QAAA,eACElC,IAAA,OAAIiC,SAAS,CAAC,iCAAiC,CAAAC,QAAA,CAAC,eAAa,CAAI,CAAC,cAClEhC,KAAA,MAAG+B,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EAAC,OAAK,CAACxB,KAAK,CAAC+B,SAAS,EAAI,CAAC,EAC5D,CAAC,cACNzC,IAAA,WACE0C,OAAO,CAAE/B,OAAQ,CACjBsB,SAAS,CAAC,qDAAqD,CAAAC,QAAA,cAE/DlC,IAAA,CAACP,CAAC,EAACwC,SAAS,CAAC,SAAS,CAAE,CAAC,CACnB,CAAC,EACN,CAAC,cAGN/B,KAAA,QAAK+B,SAAS,CAAC,eAAe,CAAAC,QAAA,eAE5BhC,KAAA,QAAK+B,SAAS,CAAC,kCAAkC,CAAAC,QAAA,eAC/ChC,KAAA,QAAAgC,QAAA,eACElC,IAAA,SAAMiC,SAAS,CAAE,iEAAiEX,cAAc,CAACZ,KAAK,CAACa,MAAM,CAAC,EAAG,CAAAW,QAAA,CAC9GxB,KAAK,CAACa,MAAM,CAACoB,OAAO,CAAC,GAAG,CAAE,GAAG,CAAC,CAC3B,CAAC,cACP3C,IAAA,OAAIiC,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAExB,KAAK,CAACkC,KAAK,CAAK,CAAC,cAC7D5C,IAAA,MAAGiC,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAExB,KAAK,CAACmC,WAAW,CAAI,CAAC,EACjD,CAAC,cACN3C,KAAA,QAAK+B,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBhC,KAAA,MAAG+B,SAAS,CAAC,kCAAkC,CAAAC,QAAA,EAAC,GAAC,CAACxB,KAAK,CAACoC,WAAW,CAACC,OAAO,CAAC,CAAC,CAAC,EAAI,CAAC,cACnF/C,IAAA,MAAGiC,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,cAAY,CAAG,CAAC,EAClD,CAAC,EACH,CAAC,cAGNhC,KAAA,QAAK+B,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eACxClC,IAAA,OAAIiC,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,qBAAmB,CAAI,CAAC,cAC3DhC,KAAA,QAAK+B,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACrChC,KAAA,QAAAgC,QAAA,eACElC,IAAA,MAAGiC,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,UAAQ,CAAG,CAAC,cACjDlC,IAAA,MAAGiC,SAAS,CAAC,wBAAwB,CAAAC,QAAA,CAAExB,KAAK,CAACsC,QAAQ,CAAI,CAAC,EACvD,CAAC,cACN9C,KAAA,QAAAgC,QAAA,eACElC,IAAA,MAAGiC,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,UAAQ,CAAG,CAAC,cACjDlC,IAAA,MAAGiC,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAExB,KAAK,CAACuC,QAAQ,CAAI,CAAC,EAC5C,CAAC,cACN/C,KAAA,QAAAgC,QAAA,eACElC,IAAA,MAAGiC,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,oBAAkB,CAAG,CAAC,cAC3DhC,KAAA,MAAG+B,SAAS,CAAC,aAAa,CAAAC,QAAA,EAAExB,KAAK,CAACwC,iBAAiB,CAAC,QAAM,EAAG,CAAC,EAC3D,CAAC,cACNhD,KAAA,QAAAgC,QAAA,eACElC,IAAA,MAAGiC,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,mBAAiB,CAAG,CAAC,cAC1DlC,IAAA,MAAGiC,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAExB,KAAK,CAACyC,WAAW,CAAG,KAAK,CAAG,IAAI,CAAI,CAAC,EAC9D,CAAC,EACH,CAAC,EACH,CAAC,CAGLzC,KAAK,CAAC0C,QAAQ,eACblD,KAAA,QAAK+B,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eACxChC,KAAA,OAAI+B,SAAS,CAAC,sCAAsC,CAAAC,QAAA,eAClDlC,IAAA,CAACV,MAAM,EAAC2C,SAAS,CAAC,cAAc,CAAE,CAAC,WAErC,EAAI,CAAC,cACL/B,KAAA,QAAK+B,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBlC,IAAA,MAAAkC,QAAA,CAAIxB,KAAK,CAAC0C,QAAQ,CAACC,OAAO,CAAI,CAAC,cAC/BnD,KAAA,MAAAgC,QAAA,EAAIxB,KAAK,CAAC0C,QAAQ,CAACE,IAAI,CAAC,IAAE,CAAC5C,KAAK,CAAC0C,QAAQ,CAACG,KAAK,CAAC,GAAC,CAAC7C,KAAK,CAAC0C,QAAQ,CAACI,OAAO,EAAI,CAAC,EAC1E,CAAC,CACL9C,KAAK,CAAC+C,kBAAkB,eACvBvD,KAAA,QAAK+B,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBlC,IAAA,MAAGiC,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,qBAAmB,CAAG,CAAC,cAC5DlC,IAAA,MAAGiC,SAAS,CAAC,SAAS,CAAAC,QAAA,CAAExB,KAAK,CAAC+C,kBAAkB,CAAI,CAAC,EAClD,CACN,EACE,CACN,CAGA/C,KAAK,CAACgD,iBAAiB,eACtBxD,KAAA,QAAK+B,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eACxChC,KAAA,OAAI+B,SAAS,CAAC,sCAAsC,CAAAC,QAAA,eAClDlC,IAAA,CAAC1B,QAAQ,EAAC2D,SAAS,CAAC,cAAc,CAAE,CAAC,qBAEvC,EAAI,CAAC,cACL/B,KAAA,QAAK+B,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACrChC,KAAA,QAAAgC,QAAA,eACElC,IAAA,MAAGiC,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,MAAI,CAAG,CAAC,cAC7ClC,IAAA,MAAGiC,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAE,GAAI,CAAAR,IAAI,CAAChB,KAAK,CAACgD,iBAAiB,CAACC,IAAI,CAAC,CAAChC,kBAAkB,CAAC,CAAC,CAAI,CAAC,EACzF,CAAC,cACNzB,KAAA,QAAAgC,QAAA,eACElC,IAAA,MAAGiC,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,MAAI,CAAG,CAAC,cAC7ChC,KAAA,MAAG+B,SAAS,CAAC,aAAa,CAAAC,QAAA,EAAExB,KAAK,CAACgD,iBAAiB,CAACE,SAAS,CAAC,KAAG,CAAClD,KAAK,CAACgD,iBAAiB,CAACG,OAAO,EAAI,CAAC,EACnG,CAAC,EACH,CAAC,EACH,CACN,cAGD3D,KAAA,QAAK+B,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eACxChC,KAAA,OAAI+B,SAAS,CAAC,sCAAsC,CAAAC,QAAA,eAClDlC,IAAA,CAACX,KAAK,EAAC4C,SAAS,CAAC,cAAc,CAAE,CAAC,sBAEpC,EAAI,CAAC,cACLjC,IAAA,MAAGiC,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAExB,KAAK,CAACoD,qBAAqB,CAAI,CAAC,EACzD,CAAC,CAGLpD,KAAK,CAACqD,mBAAmB,eACxB7D,KAAA,QAAK+B,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eACxChC,KAAA,OAAI+B,SAAS,CAAC,sCAAsC,CAAAC,QAAA,eAClDlC,IAAA,CAACpB,QAAQ,EAACqD,SAAS,CAAC,cAAc,CAAE,CAAC,uBAEvC,EAAI,CAAC,cACLjC,IAAA,MAAGiC,SAAS,CAAC,SAAS,CAAAC,QAAA,CAAExB,KAAK,CAACqD,mBAAmB,CAAI,CAAC,EACnD,CACN,cAGD7D,KAAA,QAAK+B,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eACxClC,IAAA,OAAIiC,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,gBAAc,CAAI,CAAC,cACtDhC,KAAA,QAAK+B,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChChC,KAAA,QAAK+B,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eACnClC,IAAA,SAAMiC,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,UAAQ,CAAM,CAAC,cAC/ClC,IAAA,SAAAkC,QAAA,CAAOV,UAAU,CAACd,KAAK,CAACsD,SAAS,CAAC,CAAO,CAAC,EACvC,CAAC,CACLtD,KAAK,CAACuD,SAAS,GAAKvD,KAAK,CAACsD,SAAS,eAClC9D,KAAA,QAAK+B,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eACnClC,IAAA,SAAMiC,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,eAAa,CAAM,CAAC,cACpDlC,IAAA,SAAAkC,QAAA,CAAOV,UAAU,CAACd,KAAK,CAACuD,SAAS,CAAC,CAAO,CAAC,EACvC,CACN,EACE,CAAC,EACH,CAAC,cAGN/D,KAAA,QAAK+B,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eACxClC,IAAA,OAAIiC,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,iBAAe,CAAI,CAAC,cACvDhC,KAAA,QAAK+B,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACrChC,KAAA,QAAAgC,QAAA,eACElC,IAAA,MAAGiC,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,UAAQ,CAAG,CAAC,cACjDhC,KAAA,MAAG+B,SAAS,CAAC,aAAa,CAAAC,QAAA,EAAC,GAAC,CAAC,EAAA3B,eAAA,CAAAG,KAAK,CAACwD,QAAQ,UAAA3D,eAAA,iBAAdA,eAAA,CAAgBwC,OAAO,CAAC,CAAC,CAAC,GAAI,MAAM,EAAI,CAAC,EACnE,CAAC,cACN7C,KAAA,QAAAgC,QAAA,eACElC,IAAA,MAAGiC,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,KAAG,CAAG,CAAC,cAC5ChC,KAAA,MAAG+B,SAAS,CAAC,aAAa,CAAAC,QAAA,EAAC,GAAC,CAAC,EAAA1B,gBAAA,CAAAE,KAAK,CAACyD,SAAS,UAAA3D,gBAAA,iBAAfA,gBAAA,CAAiBuC,OAAO,CAAC,CAAC,CAAC,GAAI,MAAM,EAAI,CAAC,EACpE,CAAC,cACN7C,KAAA,QAAAgC,QAAA,eACElC,IAAA,MAAGiC,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,OAAK,CAAG,CAAC,cAC9ChC,KAAA,MAAG+B,SAAS,CAAC,mBAAmB,CAAAC,QAAA,EAAC,GAAC,CAACxB,KAAK,CAACoC,WAAW,CAACC,OAAO,CAAC,CAAC,CAAC,EAAI,CAAC,EACjE,CAAC,cACN7C,KAAA,QAAAgC,QAAA,eACElC,IAAA,MAAGiC,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,QAAM,CAAG,CAAC,cAC/ClC,IAAA,MAAGiC,SAAS,CAAC,wBAAwB,CAAAC,QAAA,CAAE,EAAAzB,cAAA,CAAAC,KAAK,CAAC0D,OAAO,UAAA3D,cAAA,iBAAbA,cAAA,CAAec,MAAM,GAAI,SAAS,CAAI,CAAC,EAC3E,CAAC,EACH,CAAC,EACH,CAAC,EACH,CAAC,cAGNrB,KAAA,QAAK+B,SAAS,CAAC,kEAAkE,CAAAC,QAAA,eAC/ElC,IAAA,WACE0C,OAAO,CAAE/B,OAAQ,CACjBsB,SAAS,CAAC,+DAA+D,CAAAC,QAAA,CAC1E,OAED,CAAQ,CAAC,cAEThC,KAAA,QAAK+B,SAAS,CAAC,WAAW,CAAAC,QAAA,EACvB,CAAC,SAAS,CAAE,UAAU,CAAC,CAACmC,QAAQ,CAAC3D,KAAK,CAACa,MAAM,CAAC,eAC7CvB,IAAA,WACE0C,OAAO,CAAE3B,iBAAkB,CAC3BuD,QAAQ,CAAEzD,OAAQ,CAClBoB,SAAS,CAAC,mGAAmG,CAAAC,QAAA,CAE5GrB,OAAO,CAAG,eAAe,CAAG,cAAc,CACrC,CACT,CAEAH,KAAK,CAACa,MAAM,GAAK,WAAW,eAC3BvB,IAAA,WAAQiC,SAAS,CAAC,iFAAiF,CAAAC,QAAA,CAAC,cAEpG,CAAQ,CACT,EACE,CAAC,EACH,CAAC,EACI,CAAC,CACV,CAAC,CAEV,CAAC,CAED;AACA,KAAM,CAAAqC,iBAAiB,CAAGA,CAAA,GAAM,CAC9B,KAAM,CAAEC,IAAK,CAAC,CAAG5E,OAAO,CAAC,CAAC,CAC1B,KAAM,CAAA6E,QAAQ,CAAGzG,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAC6C,OAAO,CAAEC,UAAU,CAAC,CAAGrD,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACiH,aAAa,CAAEC,gBAAgB,CAAC,CAAGlH,QAAQ,CAAC,CACjDmH,KAAK,CAAE,CACLC,WAAW,CAAE,CAAC,CACdC,aAAa,CAAE,CAAC,CAChBC,eAAe,CAAE,CAAC,CAClBC,UAAU,CAAE,CACd,CAAC,CACDC,YAAY,CAAE,EAChB,CAAC,CAAC,CACF,KAAM,CAACC,aAAa,CAAEC,gBAAgB,CAAC,CAAG1H,QAAQ,CAAC,IAAI,CAAC,CACxD,KAAM,CAAC2H,gBAAgB,CAAEC,mBAAmB,CAAC,CAAG5H,QAAQ,CAAC,KAAK,CAAC,CAC/D,KAAM,CAAA6H,iBAAiB,CAAG3H,MAAM,CAAC,KAAK,CAAC,CAEvCD,SAAS,CAAC,IAAM,CACd6H,iBAAiB,CAAC,CAAC,CACrB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAA,iBAAiB,CAAG,KAAAA,CAAA,GAAY,CACpCzE,UAAU,CAAC,IAAI,CAAC,CAEhB;AACA,KAAM,CAAA0E,MAAM,CAAG,CACb,CACEtE,GAAG,CAAE,0BAA0B,CAC/BuB,SAAS,CAAE,sBAAsB,CACjCG,KAAK,CAAE,cAAc,CACrBC,WAAW,CAAE,kGAAkG,CAC/GG,QAAQ,CAAE,SAAS,CACnBzB,MAAM,CAAE,SAAS,CACjB0B,QAAQ,CAAE,QAAQ,CAClBE,WAAW,CAAE,KAAK,CAClBL,WAAW,CAAE,GAAG,CAChBoB,QAAQ,CAAE,GAAG,CACbC,SAAS,CAAE,CAAC,CACZjB,iBAAiB,CAAE,CAAC,CACpBc,SAAS,CAAE,GAAI,CAAAtC,IAAI,CAAC,CAAC,CAAC+D,WAAW,CAAC,CAAC,CACnCxB,SAAS,CAAE,GAAI,CAAAvC,IAAI,CAAC,CAAC,CAAC+D,WAAW,CAAC,CAAC,CACnCrC,QAAQ,CAAE,CACRC,OAAO,CAAE,sBAAsB,CAC/BC,IAAI,CAAE,WAAW,CACjBC,KAAK,CAAE,WAAW,CAClBC,OAAO,CAAE,QACX,CAAC,CACDE,iBAAiB,CAAE,CACjBC,IAAI,CAAE,YAAY,CAClBC,SAAS,CAAE,OAAO,CAClBC,OAAO,CAAE,OACX,CAAC,CACDC,qBAAqB,CAAE,eAAe,CACtCC,mBAAmB,CAAE,yCAAyC,CAC9DN,kBAAkB,CAAE,qBAAqB,CACzCW,OAAO,CAAE,CAAE7C,MAAM,CAAE,SAAU,CAC/B,CAAC,CACD,CACEL,GAAG,CAAE,0BAA0B,CAC/BuB,SAAS,CAAE,sBAAsB,CACjCG,KAAK,CAAE,wBAAwB,CAC/BC,WAAW,CAAE,0BAA0B,CACvCG,QAAQ,CAAE,UAAU,CACpBzB,MAAM,CAAE,aAAa,CACrB0B,QAAQ,CAAE,MAAM,CAChBE,WAAW,CAAE,IAAI,CACjBL,WAAW,CAAE,GAAG,CAChBoB,QAAQ,CAAE,GAAG,CACbC,SAAS,CAAE,CAAC,CACZjB,iBAAiB,CAAE,CAAC,CACpBc,SAAS,CAAE,GAAI,CAAAtC,IAAI,CAACA,IAAI,CAACgE,GAAG,CAAC,CAAC,CAAG,QAAQ,CAAC,CAACD,WAAW,CAAC,CAAC,CAAE;AAC1DxB,SAAS,CAAE,GAAI,CAAAvC,IAAI,CAAC,CAAC,CAAC+D,WAAW,CAAC,CAAC,CACnCrC,QAAQ,CAAE,CACRC,OAAO,CAAE,sBAAsB,CAC/BC,IAAI,CAAE,WAAW,CACjBC,KAAK,CAAE,WAAW,CAClBC,OAAO,CAAE,QACX,CAAC,CACDE,iBAAiB,CAAE,CACjBC,IAAI,CAAE,YAAY,CAClBC,SAAS,CAAE,OAAO,CAClBC,OAAO,CAAE,OACX,CAAC,CACDC,qBAAqB,CAAE,eAAe,CACtCC,mBAAmB,CAAE,mBAAmB,CACxCN,kBAAkB,CAAE,eAAe,CACnCW,OAAO,CAAE,CAAE7C,MAAM,CAAE,SAAU,CAC/B,CAAC,CACD,CACEL,GAAG,CAAE,0BAA0B,CAC/BuB,SAAS,CAAE,sBAAsB,CACjCG,KAAK,CAAE,wBAAwB,CAC/BC,WAAW,CAAE,uCAAuC,CACpDG,QAAQ,CAAE,UAAU,CACpBzB,MAAM,CAAE,WAAW,CACnB0B,QAAQ,CAAE,KAAK,CACfE,WAAW,CAAE,KAAK,CAClBL,WAAW,CAAE,GAAG,CAChBoB,QAAQ,CAAE,GAAG,CACbC,SAAS,CAAE,CAAC,CACZjB,iBAAiB,CAAE,CAAC,CACpBc,SAAS,CAAE,GAAI,CAAAtC,IAAI,CAACA,IAAI,CAACgE,GAAG,CAAC,CAAC,CAAG,SAAS,CAAC,CAACD,WAAW,CAAC,CAAC,CAAE;AAC3DxB,SAAS,CAAE,GAAI,CAAAvC,IAAI,CAACA,IAAI,CAACgE,GAAG,CAAC,CAAC,CAAG,QAAQ,CAAC,CAACD,WAAW,CAAC,CAAC,CAAE;AAC1DrC,QAAQ,CAAE,CACRC,OAAO,CAAE,kBAAkB,CAC3BC,IAAI,CAAE,WAAW,CACjBC,KAAK,CAAE,WAAW,CAClBC,OAAO,CAAE,QACX,CAAC,CACDE,iBAAiB,CAAE,CACjBC,IAAI,CAAE,YAAY,CAClBC,SAAS,CAAE,OAAO,CAClBC,OAAO,CAAE,OACX,CAAC,CACDC,qBAAqB,CAAE,eAAe,CACtCC,mBAAmB,CAAE,kCAAkC,CACvDN,kBAAkB,CAAE,eAAe,CACnCW,OAAO,CAAE,CAAE7C,MAAM,CAAE,MAAO,CAC5B,CAAC,CACF,CAGD;AACA,KAAM,CAAAqD,KAAK,CAAG,CACZC,WAAW,CAAEW,MAAM,CAACG,MAAM,CAC1Bb,aAAa,CAAEU,MAAM,CAACI,MAAM,CAAClF,KAAK,EAAI,CAAC,SAAS,CAAE,UAAU,CAAE,aAAa,CAAC,CAAC2D,QAAQ,CAAC3D,KAAK,CAACa,MAAM,CAAC,CAAC,CAACoE,MAAM,CAC3GZ,eAAe,CAAES,MAAM,CAACI,MAAM,CAAClF,KAAK,EAAIA,KAAK,CAACa,MAAM,GAAK,WAAW,CAAC,CAACoE,MAAM,CAC5EX,UAAU,CAAEQ,MAAM,CAACK,MAAM,CAAC,CAACC,GAAG,CAAEpF,KAAK,GAAKoF,GAAG,EAAIpF,KAAK,CAACoC,WAAW,EAAI,CAAC,CAAC,CAAE,CAAC,CAC7E,CAAC,CAGD;AACA6B,gBAAgB,CAAC,CAAEC,KAAK,CAAEK,YAAY,CAAEO,MAAO,CAAC,CAAC,CAEjD;AACA,GAAI,CAACF,iBAAiB,CAACS,OAAO,CAAE,CAC9BjG,KAAK,CAACqB,OAAO,CAAC,gCAAgC,CAAE,CAAE6E,QAAQ,CAAE,IAAK,CAAC,CAAC,CACnEV,iBAAiB,CAACS,OAAO,CAAG,IAAI,CAClC,CAEAjF,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAED,KAAM,CAAAmF,eAAe,CAAIvF,KAAK,EAAK,CACjCyE,gBAAgB,CAACzE,KAAK,CAAC,CACvB2E,mBAAmB,CAAC,IAAI,CAAC,CAC3B,CAAC,CAED,KAAM,CAAAtE,iBAAiB,CAAG,KAAO,CAAAmF,OAAO,EAAK,CAE3C;AACA,KAAM,CAAAC,aAAa,CAAGzB,aAAa,CAACO,YAAY,CAACmB,IAAI,CAAC1F,KAAK,EAAIA,KAAK,CAACQ,GAAG,GAAKgF,OAAO,CAAC,CACrF,GAAI,CAAAC,aAAa,SAAbA,aAAa,iBAAbA,aAAa,CAAE5E,MAAM,IAAK,WAAW,CAAE,CACzCzB,KAAK,CAACuG,IAAI,CAAC,4BAA4B,CAAC,CACxC,OACF,CAEA;AACA1B,gBAAgB,CAAC2B,QAAQ,EAAI,CAC3B,KAAM,CAAAC,aAAa,CAAGD,QAAQ,CAACrB,YAAY,CAACuB,GAAG,CAAC9F,KAAK,EACnDA,KAAK,CAACQ,GAAG,GAAKgF,OAAO,CACjB,CAAE,GAAGxF,KAAK,CAAEa,MAAM,CAAE,WAAY,CAAC,CACjCb,KACN,CAAC,CAED;AACA,KAAM,CAAA+F,QAAQ,CAAG,CACf5B,WAAW,CAAE0B,aAAa,CAACZ,MAAM,CACjCb,aAAa,CAAEyB,aAAa,CAACX,MAAM,CAAClF,KAAK,EAAI,CAAC,SAAS,CAAE,UAAU,CAAE,aAAa,CAAC,CAAC2D,QAAQ,CAAC3D,KAAK,CAACa,MAAM,CAAC,CAAC,CAACoE,MAAM,CAClHZ,eAAe,CAAEwB,aAAa,CAACX,MAAM,CAAClF,KAAK,EAAIA,KAAK,CAACa,MAAM,GAAK,WAAW,CAAC,CAACoE,MAAM,CACnF;AACAX,UAAU,CAAEuB,aAAa,CACtBX,MAAM,CAAClF,KAAK,EAAIA,KAAK,CAACa,MAAM,GAAK,WAAW,CAAC,CAC7CsE,MAAM,CAAC,CAACC,GAAG,CAAEpF,KAAK,GAAKoF,GAAG,EAAIpF,KAAK,CAACoC,WAAW,EAAI,CAAC,CAAC,CAAE,CAAC,CAC7D,CAAC,CAED,MAAO,CACL,GAAGwD,QAAQ,CACXrB,YAAY,CAAEsB,aAAa,CAC3B3B,KAAK,CAAE6B,QACT,CAAC,CACH,CAAC,CAAC,CAEF3G,KAAK,CAACqB,OAAO,CAAC,+BAA+B,CAAE,CAAE6E,QAAQ,CAAE,IAAK,CAAC,CAAC,CACpE,CAAC,CAED,KAAM,CAAA1E,cAAc,CAAIC,MAAM,EAAK,CACjC,OAAQA,MAAM,EACZ,IAAK,WAAW,CAAE,MAAO,2DAA2D,CACpF,IAAK,aAAa,CAAE,MAAO,kDAAkD,CAC7E,IAAK,UAAU,CAAE,MAAO,wDAAwD,CAChF,IAAK,SAAS,CAAE,MAAO,qDAAqD,CAC5E,IAAK,WAAW,CAAE,MAAO,+CAA+C,CACxE,QAAS,MAAO,kDAAkD,CACpE,CACF,CAAC,CAED,KAAM,CAAAC,UAAU,CAAIC,UAAU,EAAK,CACjC,MAAO,IAAI,CAAAC,IAAI,CAACD,UAAU,CAAC,CAACE,kBAAkB,CAAC,OAAO,CAAE,CACtDC,IAAI,CAAE,SAAS,CACfC,KAAK,CAAE,OAAO,CACdC,GAAG,CAAE,SACP,CAAC,CAAC,CACJ,CAAC,CAED,KAAM,CAAA8C,KAAK,CAAG,CACZ,CACEhC,KAAK,CAAE,cAAc,CACrB8D,KAAK,CAAEhC,aAAa,CAACE,KAAK,CAACC,WAAW,CACtC8B,IAAI,CAAElI,OAAO,CACbmI,KAAK,CAAE,4CAA4C,CACnDC,SAAS,CAAE,eAAe,CAC1BC,OAAO,CAAE,YACX,CAAC,CACD,CACElE,KAAK,CAAE,SAAS,CAChB8D,KAAK,CAAEhC,aAAa,CAACE,KAAK,CAACE,aAAa,CACxC6B,IAAI,CAAErI,QAAQ,CACdsI,KAAK,CAAE,+CAA+C,CACtDC,SAAS,CAAE,gBAAgB,CAC3BC,OAAO,CAAE,aACX,CAAC,CACD,CACElE,KAAK,CAAE,WAAW,CAClB8D,KAAK,CAAEhC,aAAa,CAACE,KAAK,CAACG,eAAe,CAC1C4B,IAAI,CAAE5H,WAAW,CACjB6H,KAAK,CAAE,gDAAgD,CACvDC,SAAS,CAAE,kBAAkB,CAC7BC,OAAO,CAAE,eACX,CAAC,CACD,CACElE,KAAK,CAAE,aAAa,CACpB8D,KAAK,CAAE,IAAIhC,aAAa,CAACE,KAAK,CAACI,UAAU,CAACjC,OAAO,CAAC,CAAC,CAAC,EAAE,CACtD4D,IAAI,CAAEpI,UAAU,CAChBqI,KAAK,CAAE,gDAAgD,CACvDC,SAAS,CAAE,iBAAiB,CAC5BC,OAAO,CAAE,cACX,CAAC,CACF,CAED,GAAIjG,OAAO,CAAE,CACX,mBACEX,KAAA,QAAK+B,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBlC,IAAA,QAAKiC,SAAS,CAAC,sDAAsD,CAAAC,QAAA,CAClE,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAACsE,GAAG,CAAEO,CAAC,eAClB/G,IAAA,QAAaiC,SAAS,CAAC,wEAAwE,CAAAC,QAAA,cAC7FhC,KAAA,QAAK+B,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChClC,IAAA,QAAKiC,SAAS,CAAC,mEAAmE,CAAM,CAAC,cACzF/B,KAAA,QAAK+B,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BlC,IAAA,QAAKiC,SAAS,CAAC,wCAAwC,CAAM,CAAC,cAC9DjC,IAAA,QAAKiC,SAAS,CAAC,mCAAmC,CAAM,CAAC,EACtD,CAAC,EACH,CAAC,EAPE8E,CAQL,CACN,CAAC,CACC,CAAC,cACN7G,KAAA,QAAK+B,SAAS,CAAC,0DAA0D,CAAAC,QAAA,eACvElC,IAAA,QAAKiC,SAAS,CAAC,wCAAwC,CAAM,CAAC,cAC9DjC,IAAA,QAAKiC,SAAS,CAAC,WAAW,CAAAC,QAAA,CACvB,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAACsE,GAAG,CAAEO,CAAC,eACf/G,IAAA,QAAaiC,SAAS,CAAC,2CAA2C,EAAxD8E,CAA8D,CACzE,CAAC,CACC,CAAC,EACH,CAAC,EACH,CAAC,CAEV,CAEA,mBACE7G,KAAA,QAAK+B,SAAS,CAAC,WAAW,CAAAC,QAAA,eAExBlC,IAAA,QAAKiC,SAAS,CAAC,0HAA0H,CAAAC,QAAA,cACvIhC,KAAA,QAAK+B,SAAS,CAAC,6EAA6E,CAAAC,QAAA,eAC1FhC,KAAA,QAAAgC,QAAA,eACEhC,KAAA,OAAI+B,SAAS,CAAC,yBAAyB,CAAAC,QAAA,EAAC,gBAAc,CAAC,CAAAsC,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEwC,SAAS,IAAIxC,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEyC,IAAI,EAAC,gBAAI,EAAI,CAAC,cAC9FjH,IAAA,MAAGiC,SAAS,CAAC,yBAAyB,CAAAC,QAAA,CAAC,kEAAgE,CAAG,CAAC,EACxG,CAAC,cACNlC,IAAA,CAAClC,IAAI,EACHoJ,EAAE,CAAC,gBAAgB,CACnBjF,SAAS,CAAC,gKAAgK,CAAAC,QAAA,CAC3K,uBAED,CAAM,CAAC,EACJ,CAAC,CACH,CAAC,cAGNlC,IAAA,QAAKiC,SAAS,CAAC,sDAAsD,CAAAC,QAAA,CAClE0C,KAAK,CAAC4B,GAAG,CAAC,CAACW,IAAI,CAAEC,KAAK,gBACrBpH,IAAA,CAAC/B,MAAM,CAACkE,GAAG,EAETC,OAAO,CAAE,CAAEC,OAAO,CAAE,CAAC,CAAEgF,CAAC,CAAE,EAAG,CAAE,CAC/B9E,OAAO,CAAE,CAAEF,OAAO,CAAE,CAAC,CAAEgF,CAAC,CAAE,CAAE,CAAE,CAC9BC,UAAU,CAAE,CAAEtB,QAAQ,CAAE,GAAG,CAAEuB,KAAK,CAAEH,KAAK,CAAG,GAAI,CAAE,CAClDnF,SAAS,CAAC,2JAA2J,CAAAC,QAAA,cAErKhC,KAAA,QAAK+B,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChDhC,KAAA,QAAK+B,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChClC,IAAA,QAAKiC,SAAS,CAAE,kBAAkBkF,IAAI,CAACP,KAAK,uBAAwB,CAAA1E,QAAA,cAClElC,IAAA,CAACmH,IAAI,CAACR,IAAI,EAACa,IAAI,CAAE,EAAG,CAAE,CAAC,CACpB,CAAC,cACNtH,KAAA,QAAK+B,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBlC,IAAA,MAAGiC,SAAS,CAAC,wCAAwC,CAAAC,QAAA,CAAEiF,IAAI,CAACvE,KAAK,CAAI,CAAC,cACtE5C,IAAA,MAAGiC,SAAS,CAAE,sBAAsBkF,IAAI,CAACN,SAAS,EAAG,CAAA3E,QAAA,CAAEiF,IAAI,CAACT,KAAK,CAAI,CAAC,EACnE,CAAC,EACH,CAAC,cACN1G,IAAA,QAAKiC,SAAS,CAAE,aAAakF,IAAI,CAACL,OAAO,2DAA4D,CAAA5E,QAAA,cACnGlC,IAAA,CAACmH,IAAI,CAACR,IAAI,EAACa,IAAI,CAAE,EAAG,CAACvF,SAAS,CAAEkF,IAAI,CAACN,SAAU,CAAE,CAAC,CAC/C,CAAC,EACH,CAAC,EAnBDO,KAoBK,CACb,CAAC,CACC,CAAC,cAGNlH,KAAA,QAAK+B,SAAS,CAAC,0DAA0D,CAAAC,QAAA,eACvEhC,KAAA,QAAK+B,SAAS,CAAC,kFAAkF,CAAAC,QAAA,eAC/FhC,KAAA,QAAAgC,QAAA,eACElC,IAAA,OAAIiC,SAAS,CAAC,uCAAuC,CAAAC,QAAA,CAAC,eAAa,CAAI,CAAC,cACxElC,IAAA,MAAGiC,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,oCAAkC,CAAG,CAAC,EAChE,CAAC,cACNlC,IAAA,WACE0C,OAAO,CAAEA,CAAA,GAAM+B,QAAQ,CAAC,2BAA2B,CAAE,CACrDxC,SAAS,CAAC,+JAA+J,CAAAC,QAAA,CAC1K,wBAED,CAAQ,CAAC,EACN,CAAC,CAELwC,aAAa,CAACO,YAAY,CAACU,MAAM,CAAG,CAAC,cACpC3F,IAAA,QAAKiC,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAC9BhC,KAAA,QAAK+B,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBhC,KAAA,QAAK+B,SAAS,CAAC,8GAA8G,CAAAC,QAAA,eAC3HlC,IAAA,QAAAkC,QAAA,CAAK,YAAU,CAAK,CAAC,cACrBlC,IAAA,QAAAkC,QAAA,CAAK,SAAO,CAAK,CAAC,cAClBlC,IAAA,QAAAkC,QAAA,CAAK,QAAM,CAAK,CAAC,cACjBlC,IAAA,QAAAkC,QAAA,CAAK,MAAI,CAAK,CAAC,cACflC,IAAA,QAAAkC,QAAA,CAAK,QAAM,CAAK,CAAC,cACjBlC,IAAA,QAAAkC,QAAA,CAAK,SAAO,CAAK,CAAC,EACf,CAAC,cACNlC,IAAA,QAAKiC,SAAS,CAAC,WAAW,CAAAC,QAAA,CACvBwC,aAAa,CAACO,YAAY,CAACwC,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAACjB,GAAG,CAAC,CAAC9F,KAAK,CAAE0G,KAAK,gBACvDlH,KAAA,CAACjC,MAAM,CAACkE,GAAG,EAETC,OAAO,CAAE,CAAEC,OAAO,CAAE,CAAC,CAAEgF,CAAC,CAAE,EAAG,CAAE,CAC/B9E,OAAO,CAAE,CAAEF,OAAO,CAAE,CAAC,CAAEgF,CAAC,CAAE,CAAE,CAAE,CAC9BC,UAAU,CAAE,CAAEC,KAAK,CAAEH,KAAK,CAAG,GAAI,CAAE,CACnCnF,SAAS,CAAC,mJAAmJ,CAAAC,QAAA,eAG7JhC,KAAA,QAAK+B,SAAS,CAAC,qBAAqB,CAAAC,QAAA,eAClChC,KAAA,QAAK+B,SAAS,CAAC,kCAAkC,CAAAC,QAAA,eAC/ChC,KAAA,QAAAgC,QAAA,eACElC,IAAA,MAAGiC,SAAS,CAAC,iCAAiC,CAAAC,QAAA,CAAExB,KAAK,CAAC+B,SAAS,CAAI,CAAC,cACpEzC,IAAA,MAAGiC,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CAAExB,KAAK,CAACkC,KAAK,CAAI,CAAC,EACzD,CAAC,cACN5C,IAAA,SAAMiC,SAAS,CAAE,8CAA8CX,cAAc,CAACZ,KAAK,CAACa,MAAM,CAAC,EAAG,CAAAW,QAAA,CAC3FxB,KAAK,CAACa,MAAM,CAACoB,OAAO,CAAC,GAAG,CAAE,GAAG,CAAC,CAC3B,CAAC,EACJ,CAAC,cACNzC,KAAA,QAAK+B,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChDhC,KAAA,QAAAgC,QAAA,eACElC,IAAA,MAAGiC,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAEV,UAAU,CAACd,KAAK,CAACsD,SAAS,CAAC,CAAI,CAAC,cACtE9D,KAAA,MAAG+B,SAAS,CAAC,iCAAiC,CAAAC,QAAA,EAAC,GAAC,CAACxB,KAAK,CAACoC,WAAW,CAACC,OAAO,CAAC,CAAC,CAAC,EAAI,CAAC,EAC/E,CAAC,cACN7C,KAAA,QAAK+B,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BlC,IAAA,WACE0C,OAAO,CAAEA,CAAA,GAAMuD,eAAe,CAACvF,KAAK,CAAE,CACtCuB,SAAS,CAAC,yFAAyF,CAAAC,QAAA,CACpG,MAED,CAAQ,CAAC,CACR,CAAC,SAAS,CAAE,UAAU,CAAC,CAACmC,QAAQ,CAAC3D,KAAK,CAACa,MAAM,CAAC,eAC7CvB,IAAA,WACE0C,OAAO,CAAEA,CAAA,GAAM3B,iBAAiB,CAACL,KAAK,CAACQ,GAAG,CAAE,CAC5Ce,SAAS,CAAC,uFAAuF,CAAAC,QAAA,CAClG,QAED,CAAQ,CACT,EACE,CAAC,EACH,CAAC,EACH,CAAC,cAGNlC,IAAA,QAAKiC,SAAS,CAAC,gCAAgC,CAAAC,QAAA,cAC7ClC,IAAA,SAAMiC,SAAS,CAAC,iCAAiC,CAAAC,QAAA,CAAExB,KAAK,CAAC+B,SAAS,CAAO,CAAC,CACvE,CAAC,cACNzC,IAAA,QAAKiC,SAAS,CAAC,gCAAgC,CAAAC,QAAA,cAC7ClC,IAAA,SAAMiC,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CAAExB,KAAK,CAACkC,KAAK,CAAO,CAAC,CAC/D,CAAC,cACN5C,IAAA,QAAKiC,SAAS,CAAC,gCAAgC,CAAAC,QAAA,cAC7ClC,IAAA,SAAMiC,SAAS,CAAE,8CAA8CX,cAAc,CAACZ,KAAK,CAACa,MAAM,CAAC,EAAG,CAAAW,QAAA,CAC3FxB,KAAK,CAACa,MAAM,CAACoB,OAAO,CAAC,GAAG,CAAE,GAAG,CAAC,CAC3B,CAAC,CACJ,CAAC,cACN3C,IAAA,QAAKiC,SAAS,CAAC,gCAAgC,CAAAC,QAAA,cAC7ClC,IAAA,SAAMiC,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAEV,UAAU,CAACd,KAAK,CAACsD,SAAS,CAAC,CAAO,CAAC,CACjE,CAAC,cACNhE,IAAA,QAAKiC,SAAS,CAAC,gCAAgC,CAAAC,QAAA,cAC7ChC,KAAA,SAAM+B,SAAS,CAAC,iCAAiC,CAAAC,QAAA,EAAC,GAAC,CAACxB,KAAK,CAACoC,WAAW,CAACC,OAAO,CAAC,CAAC,CAAC,EAAO,CAAC,CACrF,CAAC,cACN7C,KAAA,QAAK+B,SAAS,CAAC,6CAA6C,CAAAC,QAAA,eAC1DlC,IAAA,WACE0C,OAAO,CAAEA,CAAA,GAAMuD,eAAe,CAACvF,KAAK,CAAE,CACtCuB,SAAS,CAAC,yFAAyF,CAAAC,QAAA,CACpG,cAED,CAAQ,CAAC,CACR,CAAC,SAAS,CAAE,UAAU,CAAC,CAACmC,QAAQ,CAAC3D,KAAK,CAACa,MAAM,CAAC,eAC7CvB,IAAA,WACE0C,OAAO,CAAEA,CAAA,GAAM3B,iBAAiB,CAACL,KAAK,CAACQ,GAAG,CAAE,CAC5Ce,SAAS,CAAC,uFAAuF,CAAAC,QAAA,CAClG,QAED,CAAQ,CACT,EACE,CAAC,GA1EDxB,KAAK,CAACQ,GA2ED,CACb,CAAC,CACC,CAAC,EACH,CAAC,CACH,CAAC,cAENhB,KAAA,QAAK+B,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChClC,IAAA,QAAKiC,SAAS,CAAC,kFAAkF,CAAAC,QAAA,cAC/FlC,IAAA,CAACvB,OAAO,EAACwD,SAAS,CAAC,yBAAyB,CAAE,CAAC,CAC5C,CAAC,cACNjC,IAAA,OAAIiC,SAAS,CAAC,2CAA2C,CAAAC,QAAA,CAAC,eAAa,CAAI,CAAC,cAC5ElC,IAAA,MAAGiC,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,8EAA4E,CAAG,CAAC,cAC1HlC,IAAA,CAAClC,IAAI,EACHoJ,EAAE,CAAC,gBAAgB,CACnBjF,SAAS,CAAC,kNAAkN,CAAAC,QAAA,CAC7N,yCAED,CAAM,CAAC,EACJ,CACN,EACE,CAAC,cAGNhC,KAAA,QAAAgC,QAAA,eACElC,IAAA,OAAIiC,SAAS,CAAC,uCAAuC,CAAAC,QAAA,CAAC,eAAa,CAAI,CAAC,cACxEhC,KAAA,QAAK+B,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eACpDlC,IAAA,CAAClC,IAAI,EACHoJ,EAAE,CAAC,gBAAgB,CACnBjF,SAAS,CAAC,4KAA4K,CAAAC,QAAA,cAEtLhC,KAAA,QAAK+B,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChDhC,KAAA,QAAK+B,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChClC,IAAA,QAAKiC,SAAS,CAAC,6FAA6F,CAAAC,QAAA,cAC1GlC,IAAA,CAACvB,OAAO,EAACwD,SAAS,CAAC,SAAS,CAAE,CAAC,CAC5B,CAAC,cACN/B,KAAA,QAAK+B,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBlC,IAAA,OAAIiC,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAAC,iBAAe,CAAI,CAAC,cACtDlC,IAAA,MAAGiC,SAAS,CAAC,sBAAsB,CAAAC,QAAA,CAAC,gCAA8B,CAAG,CAAC,EACnE,CAAC,EACH,CAAC,cACNlC,IAAA,QAAKiC,SAAS,CAAC,0DAA0D,CAAAC,QAAA,CAAC,QAE1E,CAAK,CAAC,EACH,CAAC,CACF,CAAC,cAEPlC,IAAA,CAAClC,IAAI,EACHoJ,EAAE,CAAC,WAAW,CACdjF,SAAS,CAAC,wKAAwK,CAAAC,QAAA,cAElLhC,KAAA,QAAK+B,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChDhC,KAAA,QAAK+B,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChClC,IAAA,QAAKiC,SAAS,CAAC,6FAA6F,CAAAC,QAAA,cAC1GlC,IAAA,CAAC5B,QAAQ,EAAC6D,SAAS,CAAC,SAAS,CAAE,CAAC,CAC7B,CAAC,cACN/B,KAAA,QAAK+B,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBlC,IAAA,OAAIiC,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAAC,iBAAe,CAAI,CAAC,cACtDlC,IAAA,MAAGiC,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,4BAA0B,CAAG,CAAC,EAC7D,CAAC,EACH,CAAC,cACNlC,IAAA,QAAKiC,SAAS,CAAC,wDAAwD,CAAAC,QAAA,CAAC,QAExE,CAAK,CAAC,EACH,CAAC,CACF,CAAC,cAEPlC,IAAA,WACE0C,OAAO,CAAE6C,iBAAkB,CAC3BtD,SAAS,CAAC,sKAAsK,CAAAC,QAAA,cAEhLhC,KAAA,QAAK+B,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChDhC,KAAA,QAAK+B,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChClC,IAAA,QAAKiC,SAAS,CAAC,6FAA6F,CAAAC,QAAA,cAC1GlC,IAAA,CAACrB,UAAU,EAACsD,SAAS,CAAC,SAAS,CAAE,CAAC,CAC/B,CAAC,cACN/B,KAAA,QAAK+B,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBlC,IAAA,OAAIiC,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAAC,cAAY,CAAI,CAAC,cACnDlC,IAAA,MAAGiC,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,8BAA4B,CAAG,CAAC,EAClE,CAAC,EACH,CAAC,cACNlC,IAAA,QAAKiC,SAAS,CAAC,2DAA2D,CAAAC,QAAA,CAAC,QAE3E,CAAK,CAAC,EACH,CAAC,CACA,CAAC,EACN,CAAC,EACH,CAAC,CAGLkD,gBAAgB,EAAIF,aAAa,eAChClF,IAAA,CAACK,iBAAiB,EAChBK,KAAK,CAAEwE,aAAc,CACrBvE,OAAO,CAAEA,CAAA,GAAM0E,mBAAmB,CAAC,KAAK,CAAE,CAC1CzE,aAAa,CAAE2E,iBAAkB,CAClC,CACF,EACE,CAAC,CAEV,CAAC,CAED,KAAM,CAAAmC,eAAe,CAAGA,CAAA,GAAM,CAC5B,KAAM,CAAA9C,KAAK,CAAG,CACZ,CAAEhC,KAAK,CAAE,eAAe,CAAE8D,KAAK,CAAE,WAAW,CAAEC,IAAI,CAAEpI,UAAU,CAAEqI,KAAK,CAAE,cAAe,CAAC,CACvF,CAAEhE,KAAK,CAAE,gBAAgB,CAAE8D,KAAK,CAAE,IAAI,CAAEC,IAAI,CAAElI,OAAO,CAAEmI,KAAK,CAAE,aAAc,CAAC,CAC7E,CAAEhE,KAAK,CAAE,iBAAiB,CAAE8D,KAAK,CAAE,KAAK,CAAEC,IAAI,CAAEjI,IAAI,CAAEkI,KAAK,CAAE,eAAgB,CAAC,CAC9E,CAAEhE,KAAK,CAAE,kBAAkB,CAAE8D,KAAK,CAAE,IAAI,CAAEC,IAAI,CAAEnI,KAAK,CAAEoI,KAAK,CAAE,eAAgB,CAAC,CAC/E,CAAEhE,KAAK,CAAE,oBAAoB,CAAE8D,KAAK,CAAE,WAAW,CAAEC,IAAI,CAAEhI,UAAU,CAAEiI,KAAK,CAAE,eAAgB,CAAC,CAC7F,CAAEhE,KAAK,CAAE,iBAAiB,CAAE8D,KAAK,CAAE,KAAK,CAAEC,IAAI,CAAE5H,WAAW,CAAE6H,KAAK,CAAE,gBAAiB,CAAC,CACvF,CAED,KAAM,CAAAe,gBAAgB,CAAG,CACvBC,IAAI,CAAE,cAAc,CACpBrG,MAAM,CAAE,QAAQ,CAChBsG,WAAW,CAAE,YAAY,CACzBC,QAAQ,CAAE,CAAC,cAAc,CAAE,oBAAoB,CAAE,wBAAwB,CAAE,kBAAkB,CAC/F,CAAC,CAED,KAAM,CAAAC,UAAU,CAAG,CACjB,CAAEC,EAAE,CAAE,CAAC,CAAEC,QAAQ,CAAE,YAAY,CAAEC,OAAO,CAAE,iBAAiB,CAAE3G,MAAM,CAAE,aAAa,CAAE4G,MAAM,CAAE,SAAS,CAAEC,UAAU,CAAE,WAAY,CAAC,CAChI,CAAEJ,EAAE,CAAE,CAAC,CAAEC,QAAQ,CAAE,eAAe,CAAEC,OAAO,CAAE,uBAAuB,CAAE3G,MAAM,CAAE,WAAW,CAAE4G,MAAM,CAAE,SAAS,CAAEC,UAAU,CAAE,WAAY,CAAC,CACvI,CAAEJ,EAAE,CAAE,CAAC,CAAEC,QAAQ,CAAE,aAAa,CAAEC,OAAO,CAAE,kBAAkB,CAAE3G,MAAM,CAAE,SAAS,CAAE4G,MAAM,CAAE,SAAS,CAAEC,UAAU,CAAE,WAAY,CAAC,CAC/H,CAED,KAAM,CAAAC,gBAAgB,CAAG,CACvB,CAAEzF,KAAK,CAAE,yBAAyB,CAAEe,IAAI,CAAE,YAAY,CAAEqC,QAAQ,CAAE,SAAS,CAAEsC,IAAI,CAAE,eAAgB,CAAC,CACpG,CAAE1F,KAAK,CAAE,6BAA6B,CAAEe,IAAI,CAAE,YAAY,CAAEqC,QAAQ,CAAE,SAAS,CAAEsC,IAAI,CAAE,eAAgB,CAAC,CACzG,CAED,mBACEpI,KAAA,QAAK+B,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBlC,IAAA,OAAIiC,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,kBAAgB,CAAI,CAAC,cAGxDlC,IAAA,CAAC/B,MAAM,CAACkE,GAAG,EACTC,OAAO,CAAE,CAAEC,OAAO,CAAE,CAAC,CAAEgF,CAAC,CAAE,EAAG,CAAE,CAC/B9E,OAAO,CAAE,CAAEF,OAAO,CAAE,CAAC,CAAEgF,CAAC,CAAE,CAAE,CAAE,CAC9BpF,SAAS,CAAC,oFAAoF,CAAAC,QAAA,cAE9FhC,KAAA,QAAK+B,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChDhC,KAAA,QAAAgC,QAAA,eACElC,IAAA,OAAIiC,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,qBAAmB,CAAI,CAAC,cACnEhC,KAAA,MAAG+B,SAAS,CAAC,gBAAgB,CAAAC,QAAA,EAAC,gBAAc,CAACyF,gBAAgB,CAACC,IAAI,EAAI,CAAC,cACvE1H,KAAA,MAAG+B,SAAS,CAAC,gBAAgB,CAAAC,QAAA,EAAC,gBAAc,CAACyF,gBAAgB,CAACE,WAAW,EAAI,CAAC,EAC3E,CAAC,cACN7H,IAAA,QAAKiC,SAAS,CAAC,YAAY,CAAAC,QAAA,cACzBlC,IAAA,SAAMiC,SAAS,CAAC,wEAAwE,CAAAC,QAAA,CACrFyF,gBAAgB,CAACpG,MAAM,CACpB,CAAC,CACJ,CAAC,EACH,CAAC,CACI,CAAC,cAGbvB,IAAA,QAAKiC,SAAS,CAAC,sDAAsD,CAAAC,QAAA,CAClE0C,KAAK,CAAC4B,GAAG,CAAC,CAACW,IAAI,CAAEC,KAAK,gBACrBpH,IAAA,CAAC/B,MAAM,CAACkE,GAAG,EAETC,OAAO,CAAE,CAAEC,OAAO,CAAE,CAAC,CAAEgF,CAAC,CAAE,EAAG,CAAE,CAC/B9E,OAAO,CAAE,CAAEF,OAAO,CAAE,CAAC,CAAEgF,CAAC,CAAE,CAAE,CAAE,CAC9BC,UAAU,CAAE,CAAEtB,QAAQ,CAAE,GAAG,CAAEuB,KAAK,CAAEH,KAAK,CAAG,GAAI,CAAE,CAClDnF,SAAS,CAAC,mCAAmC,CAAAC,QAAA,cAE7ChC,KAAA,QAAK+B,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChClC,IAAA,QAAKiC,SAAS,CAAE,oBAAoBkF,IAAI,CAACP,KAAK,aAAc,CAAA1E,QAAA,cAC1DlC,IAAA,CAACmH,IAAI,CAACR,IAAI,EAACa,IAAI,CAAE,EAAG,CAAE,CAAC,CACpB,CAAC,cACNtH,KAAA,QAAK+B,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBlC,IAAA,MAAGiC,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAEiF,IAAI,CAACvE,KAAK,CAAI,CAAC,cACrD5C,IAAA,MAAGiC,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAEiF,IAAI,CAACT,KAAK,CAAI,CAAC,EAC/C,CAAC,EACH,CAAC,EAdDU,KAeK,CACb,CAAC,CACC,CAAC,cAENlH,KAAA,QAAK+B,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eAExChC,KAAA,QAAK+B,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChDlC,IAAA,OAAIiC,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,aAAW,CAAI,CAAC,cAC3DlC,IAAA,QAAKiC,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAC9BhC,KAAA,UAAO+B,SAAS,CAAC,QAAQ,CAAAC,QAAA,eACvBlC,IAAA,UAAAkC,QAAA,cACEhC,KAAA,OAAI+B,SAAS,CAAC,UAAU,CAAAC,QAAA,eACtBlC,IAAA,OAAIiC,SAAS,CAAC,gBAAgB,CAAAC,QAAA,CAAC,UAAQ,CAAI,CAAC,cAC5ClC,IAAA,OAAIiC,SAAS,CAAC,gBAAgB,CAAAC,QAAA,CAAC,SAAO,CAAI,CAAC,cAC3ClC,IAAA,OAAIiC,SAAS,CAAC,gBAAgB,CAAAC,QAAA,CAAC,QAAM,CAAI,CAAC,cAC1ClC,IAAA,OAAIiC,SAAS,CAAC,gBAAgB,CAAAC,QAAA,CAAC,QAAM,CAAI,CAAC,cAC1ClC,IAAA,OAAIiC,SAAS,CAAC,gBAAgB,CAAAC,QAAA,CAAC,YAAU,CAAI,CAAC,EAC5C,CAAC,CACA,CAAC,cACRlC,IAAA,UAAAkC,QAAA,CACG6F,UAAU,CAACvB,GAAG,CAAE+B,GAAG,eAClBrI,KAAA,OAAiB+B,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eACpDlC,IAAA,OAAIiC,SAAS,CAAC,MAAM,CAAAC,QAAA,CAAEqG,GAAG,CAACN,QAAQ,CAAK,CAAC,cACxCjI,IAAA,OAAIiC,SAAS,CAAC,MAAM,CAAAC,QAAA,CAAEqG,GAAG,CAACL,OAAO,CAAK,CAAC,cACvClI,IAAA,OAAIiC,SAAS,CAAC,MAAM,CAAAC,QAAA,cAClBlC,IAAA,SAAMiC,SAAS,CAAE,kCACfsG,GAAG,CAAChH,MAAM,GAAK,WAAW,CAAG,6BAA6B,CAC1DgH,GAAG,CAAChH,MAAM,GAAK,aAAa,CAAG,2BAA2B,CAC1D,+BAA+B,EAC9B,CAAAW,QAAA,CACAqG,GAAG,CAAChH,MAAM,CACP,CAAC,CACL,CAAC,cACLvB,IAAA,OAAIiC,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAAEqG,GAAG,CAACJ,MAAM,CAAK,CAAC,cAClDnI,IAAA,OAAIiC,SAAS,CAAC,iCAAiC,CAAAC,QAAA,CAAEqG,GAAG,CAACH,UAAU,CAAK,CAAC,GAb9DG,GAAG,CAACP,EAcT,CACL,CAAC,CACG,CAAC,EACH,CAAC,CACL,CAAC,EACH,CAAC,cAGN9H,KAAA,QAAK+B,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChDlC,IAAA,OAAIiC,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,mBAAiB,CAAI,CAAC,cACjElC,IAAA,QAAKiC,SAAS,CAAC,WAAW,CAAAC,QAAA,CACvBmG,gBAAgB,CAAC7B,GAAG,CAAC,CAACgC,QAAQ,CAAEpB,KAAK,gBACpCpH,IAAA,CAAC/B,MAAM,CAACkE,GAAG,EAETC,OAAO,CAAE,CAAEC,OAAO,CAAE,CAAC,CAAEoG,CAAC,CAAE,EAAG,CAAE,CAC/BlG,OAAO,CAAE,CAAEF,OAAO,CAAE,CAAC,CAAEoG,CAAC,CAAE,CAAE,CAAE,CAC9BnB,UAAU,CAAE,CAAEC,KAAK,CAAEH,KAAK,CAAG,GAAI,CAAE,CACnCnF,SAAS,CAAC,yEAAyE,CAAAC,QAAA,cAEnFhC,KAAA,QAAK+B,SAAS,CAAC,kCAAkC,CAAAC,QAAA,eAC/ChC,KAAA,QAAAgC,QAAA,eACElC,IAAA,OAAIiC,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CAAEsG,QAAQ,CAAC5F,KAAK,CAAK,CAAC,cACjE1C,KAAA,MAAG+B,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EAAEsG,QAAQ,CAAC7E,IAAI,CAAC,UAAG,CAAC6E,QAAQ,CAACxC,QAAQ,EAAI,CAAC,cAC9EhG,IAAA,SAAMiC,SAAS,CAAC,uEAAuE,CAAAC,QAAA,CACpFsG,QAAQ,CAACF,IAAI,CACV,CAAC,EACJ,CAAC,cACNtI,IAAA,WAAQiC,SAAS,CAAC,sFAAsF,CAAAC,QAAA,CAAC,MAEzG,CAAQ,CAAC,EACN,CAAC,EAjBDkF,KAkBK,CACb,CAAC,CACC,CAAC,EACH,CAAC,EACH,CAAC,cAGNlH,KAAA,QAAK+B,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChDlC,IAAA,OAAIiC,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,eAAa,CAAI,CAAC,cAC7DhC,KAAA,QAAK+B,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eACpDhC,KAAA,WAAQ+B,SAAS,CAAC,qGAAqG,CAAAC,QAAA,eACrHlC,IAAA,CAAC1B,QAAQ,EAAC2D,SAAS,CAAC,4BAA4B,CAAE,CAAC,cACnDjC,IAAA,SAAMiC,SAAS,CAAC,qBAAqB,CAAAC,QAAA,CAAC,eAAa,CAAM,CAAC,EACpD,CAAC,cACThC,KAAA,WAAQ+B,SAAS,CAAC,qGAAqG,CAAAC,QAAA,eACrHlC,IAAA,CAACpB,QAAQ,EAACqD,SAAS,CAAC,6BAA6B,CAAE,CAAC,cACpDjC,IAAA,SAAMiC,SAAS,CAAC,qBAAqB,CAAAC,QAAA,CAAC,cAAY,CAAM,CAAC,EACnD,CAAC,cACThC,KAAA,WAAQ+B,SAAS,CAAC,qGAAqG,CAAAC,QAAA,eACrHlC,IAAA,CAACnB,aAAa,EAACoD,SAAS,CAAC,8BAA8B,CAAE,CAAC,cAC1DjC,IAAA,SAAMiC,SAAS,CAAC,qBAAqB,CAAAC,QAAA,CAAC,wBAAsB,CAAM,CAAC,EAC7D,CAAC,cACThC,KAAA,WAAQ+B,SAAS,CAAC,qGAAqG,CAAAC,QAAA,eACrHlC,IAAA,CAACrB,UAAU,EAACsD,SAAS,CAAC,8BAA8B,CAAE,CAAC,cACvDjC,IAAA,SAAMiC,SAAS,CAAC,qBAAqB,CAAAC,QAAA,CAAC,cAAY,CAAM,CAAC,EACnD,CAAC,EACN,CAAC,EACH,CAAC,EACH,CAAC,CAEV,CAAC,CAED,KAAM,CAAAwG,cAAc,CAAGA,CAAA,GAAM,CAC3B,KAAM,CAAA9D,KAAK,CAAG,CACZ,CAAEhC,KAAK,CAAE,aAAa,CAAE8D,KAAK,CAAE,OAAO,CAAEC,IAAI,CAAEnI,KAAK,CAAEoI,KAAK,CAAE,aAAc,CAAC,CAC3E,CAAEhE,KAAK,CAAE,eAAe,CAAE8D,KAAK,CAAE,IAAI,CAAEC,IAAI,CAAE7H,QAAQ,CAAE8H,KAAK,CAAE,cAAe,CAAC,CAC9E,CAAEhE,KAAK,CAAE,iBAAiB,CAAE8D,KAAK,CAAE,SAAS,CAAEC,IAAI,CAAEpI,UAAU,CAAEqI,KAAK,CAAE,eAAgB,CAAC,CACxF,CAAEhE,KAAK,CAAE,gBAAgB,CAAE8D,KAAK,CAAE,IAAI,CAAEC,IAAI,CAAE/H,QAAQ,CAAEgI,KAAK,CAAE,eAAgB,CAAC,CACjF,CAED,mBACE1G,KAAA,QAAK+B,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBlC,IAAA,OAAIiC,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,iBAAe,CAAI,CAAC,cAGvDlC,IAAA,QAAKiC,SAAS,CAAC,sDAAsD,CAAAC,QAAA,CAClE0C,KAAK,CAAC4B,GAAG,CAAC,CAACW,IAAI,CAAEC,KAAK,gBACrBpH,IAAA,CAAC/B,MAAM,CAACkE,GAAG,EAETC,OAAO,CAAE,CAAEC,OAAO,CAAE,CAAC,CAAEgF,CAAC,CAAE,EAAG,CAAE,CAC/B9E,OAAO,CAAE,CAAEF,OAAO,CAAE,CAAC,CAAEgF,CAAC,CAAE,CAAE,CAAE,CAC9BC,UAAU,CAAE,CAAEtB,QAAQ,CAAE,GAAG,CAAEuB,KAAK,CAAEH,KAAK,CAAG,GAAI,CAAE,CAClDnF,SAAS,CAAC,mCAAmC,CAAAC,QAAA,cAE7ChC,KAAA,QAAK+B,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChClC,IAAA,QAAKiC,SAAS,CAAE,oBAAoBkF,IAAI,CAACP,KAAK,aAAc,CAAA1E,QAAA,cAC1DlC,IAAA,CAACmH,IAAI,CAACR,IAAI,EAACa,IAAI,CAAE,EAAG,CAAE,CAAC,CACpB,CAAC,cACNtH,KAAA,QAAK+B,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBlC,IAAA,MAAGiC,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAEiF,IAAI,CAACvE,KAAK,CAAI,CAAC,cACrD5C,IAAA,MAAGiC,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAEiF,IAAI,CAACT,KAAK,CAAI,CAAC,EAC/C,CAAC,EACH,CAAC,EAdDU,KAeK,CACb,CAAC,CACC,CAAC,cAGNlH,KAAA,QAAK+B,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eACxChC,KAAA,QAAK+B,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChDlC,IAAA,OAAIiC,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,eAAa,CAAI,CAAC,cAC7DhC,KAAA,QAAK+B,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBlC,IAAA,CAAClC,IAAI,EACHoJ,EAAE,CAAC,aAAa,CAChBjF,SAAS,CAAC,iFAAiF,CAAAC,QAAA,CAC5F,gBAED,CAAM,CAAC,cACPlC,IAAA,CAAClC,IAAI,EACHoJ,EAAE,CAAC,gBAAgB,CACnBjF,SAAS,CAAC,iFAAiF,CAAAC,QAAA,CAC5F,oBAED,CAAM,CAAC,cACPlC,IAAA,WAAQiC,SAAS,CAAC,yDAAyD,CAAAC,QAAA,CAAC,4BAE5E,CAAQ,CAAC,cACTlC,IAAA,WAAQiC,SAAS,CAAC,yDAAyD,CAAAC,QAAA,CAAC,qBAE5E,CAAQ,CAAC,cACTlC,IAAA,WAAQiC,SAAS,CAAC,yDAAyD,CAAAC,QAAA,CAAC,sBAE5E,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,cAENhC,KAAA,QAAK+B,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChDlC,IAAA,OAAIiC,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,eAAa,CAAI,CAAC,cAC7DhC,KAAA,QAAK+B,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBhC,KAAA,QAAK+B,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eACnClC,IAAA,SAAAkC,QAAA,CAAM,eAAa,CAAM,CAAC,cAC1BlC,IAAA,SAAMiC,SAAS,CAAC,gBAAgB,CAAAC,QAAA,CAAC,QAAM,CAAM,CAAC,EAC3C,CAAC,cACNhC,KAAA,QAAK+B,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eACnClC,IAAA,SAAAkC,QAAA,CAAM,qBAAmB,CAAM,CAAC,cAChClC,IAAA,SAAMiC,SAAS,CAAC,gBAAgB,CAAAC,QAAA,CAAC,QAAM,CAAM,CAAC,EAC3C,CAAC,cACNhC,KAAA,QAAK+B,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eACnClC,IAAA,SAAAkC,QAAA,CAAM,gBAAc,CAAM,CAAC,cAC3BlC,IAAA,SAAMiC,SAAS,CAAC,gBAAgB,CAAAC,QAAA,CAAC,QAAM,CAAM,CAAC,EAC3C,CAAC,EACH,CAAC,EACH,CAAC,EACH,CAAC,EACH,CAAC,CAEV,CAAC,CAED;AACA,KAAM,CAAAyG,UAAU,CAAGA,CAAA,GAAM,CACvB,KAAM,CAAEnE,IAAI,CAAEoE,UAAW,CAAC,CAAGhJ,OAAO,CAAC,CAAC,CACtC,KAAM,CAACiJ,SAAS,CAAEC,YAAY,CAAC,CAAGrL,QAAQ,CAAC,KAAK,CAAC,CACjD,KAAM,CAACsL,kBAAkB,CAAEC,qBAAqB,CAAC,CAAGvL,QAAQ,CAAC,KAAK,CAAC,CACnE,KAAM,CAACwL,WAAW,CAAEC,cAAc,CAAC,CAAGzL,QAAQ,CAAC,CAC7CuJ,SAAS,CAAE,CAAAxC,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEwC,SAAS,GAAI,EAAE,CAChCmC,QAAQ,CAAE,CAAA3E,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAE2E,QAAQ,GAAI,EAAE,CAC9BC,KAAK,CAAE,CAAA5E,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAE4E,KAAK,GAAI,EAAE,CACxBC,KAAK,CAAE,CAAA7E,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAE6E,KAAK,GAAI,EAAE,CACxBhG,OAAO,CAAE,CAAAmB,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEnB,OAAO,GAAI,EAAE,CAAE;AAC9BC,IAAI,CAAE,CAAAkB,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAElB,IAAI,GAAI,EAAE,CACtBC,KAAK,CAAE,CAAAiB,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEjB,KAAK,GAAI,EAAE,CACxBC,OAAO,CAAE,CAAAgB,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEhB,OAAO,GAAI,EAAE,CAC5B8F,OAAO,CAAE,CAAA9E,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAE8E,OAAO,GAAI,UAC5B,CAAC,CAAC,CAEF;AACA5L,SAAS,CAAC,IAAM,CACd,GAAI8G,IAAI,CAAE,CACR0E,cAAc,CAAC,CACblC,SAAS,CAAExC,IAAI,CAACwC,SAAS,EAAI,EAAE,CAC/BmC,QAAQ,CAAE3E,IAAI,CAAC2E,QAAQ,EAAI,EAAE,CAC7BC,KAAK,CAAE5E,IAAI,CAAC4E,KAAK,EAAI,EAAE,CACvBC,KAAK,CAAE7E,IAAI,CAAC6E,KAAK,EAAI,EAAE,CACvBhG,OAAO,CAAEmB,IAAI,CAACnB,OAAO,EAAI,EAAE,CAC3BC,IAAI,CAAEkB,IAAI,CAAClB,IAAI,EAAI,EAAE,CACrBC,KAAK,CAAEiB,IAAI,CAACjB,KAAK,EAAI,EAAE,CACvBC,OAAO,CAAEgB,IAAI,CAAChB,OAAO,EAAI,EAAE,CAC3B8F,OAAO,CAAE9E,IAAI,CAAC8E,OAAO,EAAI,UAC3B,CAAC,CAAC,CACJ,CACF,CAAC,CAAE,CAAC9E,IAAI,CAAC,CAAC,CACV,KAAM,CAAC+E,YAAY,CAAEC,eAAe,CAAC,CAAG/L,QAAQ,CAAC,CAC/CgM,eAAe,CAAE,EAAE,CACnBC,WAAW,CAAE,EAAE,CACfC,eAAe,CAAE,EACnB,CAAC,CAAC,CAEF,KAAM,CAAAC,mBAAmB,CAAG,KAAAA,CAAA,GAAY,CACtC,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAhK,GAAG,CAACiK,KAAK,CAACC,aAAa,CAACd,WAAW,CAAC,CAE3DH,YAAY,CAAC,KAAK,CAAC,CACnBhJ,KAAK,CAACqB,OAAO,CAAC,iCAAiC,CAAC,CAEhD;AACA,GAAI0I,QAAQ,CAACrF,IAAI,CAAE,CACjB,KAAM,CAAAwF,kBAAkB,CAAG,CACzBhD,SAAS,CAAE6C,QAAQ,CAACrF,IAAI,CAACwC,SAAS,EAAI,EAAE,CACxCmC,QAAQ,CAAEU,QAAQ,CAACrF,IAAI,CAAC2E,QAAQ,EAAI,EAAE,CACtCC,KAAK,CAAES,QAAQ,CAACrF,IAAI,CAAC4E,KAAK,EAAI,EAAE,CAChCC,KAAK,CAAEQ,QAAQ,CAACrF,IAAI,CAAC6E,KAAK,EAAI,EAAE,CAChChG,OAAO,CAAEwG,QAAQ,CAACrF,IAAI,CAACnB,OAAO,EAAI,EAAE,CACpCC,IAAI,CAAEuG,QAAQ,CAACrF,IAAI,CAAClB,IAAI,EAAI,EAAE,CAC9BC,KAAK,CAAEsG,QAAQ,CAACrF,IAAI,CAACjB,KAAK,EAAI,EAAE,CAChCC,OAAO,CAAEqG,QAAQ,CAACrF,IAAI,CAAChB,OAAO,EAAI,EAAE,CACpC8F,OAAO,CAAEO,QAAQ,CAACrF,IAAI,CAAC8E,OAAO,EAAI,UACpC,CAAC,CACDJ,cAAc,CAACc,kBAAkB,CAAC,CAElC;AACApB,UAAU,CAAC,CACT;AACA,GAAGpE,IAAI,CACPwC,SAAS,CAAE6C,QAAQ,CAACrF,IAAI,CAACwC,SAAS,CAClCmC,QAAQ,CAAEU,QAAQ,CAACrF,IAAI,CAAC2E,QAAQ,CAChClC,IAAI,CAAE4C,QAAQ,CAACrF,IAAI,CAACyF,QAAQ,EAAI,GAAGJ,QAAQ,CAACrF,IAAI,CAACwC,SAAS,IAAI6C,QAAQ,CAACrF,IAAI,CAAC2E,QAAQ,EAAE,CACtFE,KAAK,CAAEQ,QAAQ,CAACrF,IAAI,CAAC6E,KAAK,CAC1BhG,OAAO,CAAEwG,QAAQ,CAACrF,IAAI,CAACnB,OAAO,EAAI,EAAE,CACpCC,IAAI,CAAEuG,QAAQ,CAACrF,IAAI,CAAClB,IAAI,EAAI,EAAE,CAC9BC,KAAK,CAAEsG,QAAQ,CAACrF,IAAI,CAACjB,KAAK,EAAI,EAAE,CAChCC,OAAO,CAAEqG,QAAQ,CAACrF,IAAI,CAAChB,OAAO,EAAI,EAAE,CACpC8F,OAAO,CAAEO,QAAQ,CAACrF,IAAI,CAAC8E,OAAO,EAAI,UACpC,CAAC,CAAC,CACJ,CACF,CAAE,MAAOlI,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,CAAEA,KAAK,CAAC,CAC/CtB,KAAK,CAACsB,KAAK,CAAC,6BAA6BA,KAAK,CAAC8I,OAAO,EAAE,CAAC,CAC3D,CACF,CAAC,CAED,KAAM,CAAAC,oBAAoB,CAAG,KAAAA,CAAA,GAAY,CAEvC,GAAIZ,YAAY,CAACG,WAAW,GAAKH,YAAY,CAACI,eAAe,CAAE,CAC7D7J,KAAK,CAACsB,KAAK,CAAC,wBAAwB,CAAC,CACrC,OACF,CAEA,GAAImI,YAAY,CAACG,WAAW,CAAC/D,MAAM,CAAG,CAAC,CAAE,CACvC7F,KAAK,CAACsB,KAAK,CAAC,iDAAiD,CAAC,CAC9D,OACF,CAEA,GAAI,CACF,KAAM,CAAAyI,QAAQ,CAAG,KAAM,CAAAhK,GAAG,CAACiK,KAAK,CAACM,cAAc,CAACb,YAAY,CAAC,CAE7DC,eAAe,CAAC,CAAEC,eAAe,CAAE,EAAE,CAAEC,WAAW,CAAE,EAAE,CAAEC,eAAe,CAAE,EAAG,CAAC,CAAC,CAC9EX,qBAAqB,CAAC,KAAK,CAAC,CAC5BlJ,KAAK,CAACqB,OAAO,CAAC,kCAAkC,CAAC,CACnD,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,CAAEA,KAAK,CAAC,CAChDtB,KAAK,CAACsB,KAAK,CAAC,8BAA8BA,KAAK,CAAC8I,OAAO,EAAE,CAAC,CAC5D,CACF,CAAC,CAED,mBACEhK,KAAA,QAAK+B,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBhC,KAAA,QAAK+B,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChDlC,IAAA,OAAIiC,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAC,SAAO,CAAI,CAAC,CAC5D,CAAC2G,SAAS,eACT3I,KAAA,WACEwC,OAAO,CAAEA,CAAA,GAAMoG,YAAY,CAAC,IAAI,CAAE,CAClC7G,SAAS,CAAC,qFAAqF,CAAAC,QAAA,eAE/FlC,IAAA,CAACT,IAAI,EAAC0C,SAAS,CAAC,cAAc,CAAE,CAAC,eAEnC,EAAQ,CACT,EACE,CAAC,cAEN/B,KAAA,QAAK+B,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChDhC,KAAA,QAAK+B,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eACpDhC,KAAA,QAAAgC,QAAA,eACElC,IAAA,UAAOiC,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,YAAU,CAAO,CAAC,cAClFlC,IAAA,UACEsI,IAAI,CAAC,MAAM,CACX5B,KAAK,CAAEuC,WAAW,CAACjC,SAAU,CAC7BqD,QAAQ,CAAGC,CAAC,EAAKpB,cAAc,CAAC,CAAC,GAAGD,WAAW,CAAEjC,SAAS,CAAEsD,CAAC,CAACC,MAAM,CAAC7D,KAAK,CAAC,CAAE,CAC7EpC,QAAQ,CAAE,CAACuE,SAAU,CACrB5G,SAAS,CAAC,wEAAwE,CACnF,CAAC,EACC,CAAC,cAEN/B,KAAA,QAAAgC,QAAA,eACElC,IAAA,UAAOiC,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,WAAS,CAAO,CAAC,cACjFlC,IAAA,UACEsI,IAAI,CAAC,MAAM,CACX5B,KAAK,CAAEuC,WAAW,CAACE,QAAS,CAC5BkB,QAAQ,CAAGC,CAAC,EAAKpB,cAAc,CAAC,CAAC,GAAGD,WAAW,CAAEE,QAAQ,CAAEmB,CAAC,CAACC,MAAM,CAAC7D,KAAK,CAAC,CAAE,CAC5EpC,QAAQ,CAAE,CAACuE,SAAU,CACrB5G,SAAS,CAAC,wEAAwE,CACnF,CAAC,EACC,CAAC,cAEN/B,KAAA,QAAAgC,QAAA,eACElC,IAAA,UAAOiC,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,OAAK,CAAO,CAAC,cAC7EhC,KAAA,QAAK+B,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvBlC,IAAA,CAACZ,IAAI,EAAC6C,SAAS,CAAC,6CAA6C,CAAE,CAAC,cAChEjC,IAAA,UACEsI,IAAI,CAAC,OAAO,CACZ5B,KAAK,CAAEuC,WAAW,CAACG,KAAM,CACzBiB,QAAQ,CAAGC,CAAC,EAAKpB,cAAc,CAAC,CAAC,GAAGD,WAAW,CAAEG,KAAK,CAAEkB,CAAC,CAACC,MAAM,CAAC7D,KAAK,CAAC,CAAE,CACzEpC,QAAQ,CAAE,CAACuE,SAAU,CACrB5G,SAAS,CAAC,8EAA8E,CACzF,CAAC,EACC,CAAC,EACH,CAAC,cAEN/B,KAAA,QAAAgC,QAAA,eACElC,IAAA,UAAOiC,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,OAAK,CAAO,CAAC,cAC7EhC,KAAA,QAAK+B,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvBlC,IAAA,CAACX,KAAK,EAAC4C,SAAS,CAAC,6CAA6C,CAAE,CAAC,cACjEjC,IAAA,UACEsI,IAAI,CAAC,KAAK,CACV5B,KAAK,CAAEuC,WAAW,CAACI,KAAM,CACzBgB,QAAQ,CAAGC,CAAC,EAAKpB,cAAc,CAAC,CAAC,GAAGD,WAAW,CAAEI,KAAK,CAAEiB,CAAC,CAACC,MAAM,CAAC7D,KAAK,CAAC,CAAE,CACzEpC,QAAQ,CAAE,CAACuE,SAAU,CACrB5G,SAAS,CAAC,8EAA8E,CACzF,CAAC,EACC,CAAC,EACH,CAAC,cAEN/B,KAAA,QAAK+B,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BlC,IAAA,UAAOiC,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,gBAAc,CAAO,CAAC,cACtFhC,KAAA,QAAK+B,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvBlC,IAAA,CAACV,MAAM,EAAC2C,SAAS,CAAC,6CAA6C,CAAE,CAAC,cAClEjC,IAAA,UACEsI,IAAI,CAAC,MAAM,CACX5B,KAAK,CAAEuC,WAAW,CAAC5F,OAAQ,CAC3BgH,QAAQ,CAAGC,CAAC,EAAKpB,cAAc,CAAC,CAAC,GAAGD,WAAW,CAAE5F,OAAO,CAAEiH,CAAC,CAACC,MAAM,CAAC7D,KAAK,CAAC,CAAE,CAC3EpC,QAAQ,CAAE,CAACuE,SAAU,CACrB2B,WAAW,CAAC,iEAAiE,CAC7EvI,SAAS,CAAC,8EAA8E,CACxFwI,YAAY,CAAC,gBAAgB,CAC7BxD,IAAI,CAAC,gBAAgB,CACtB,CAAC,EACC,CAAC,EACH,CAAC,cAEN/G,KAAA,QAAAgC,QAAA,eACElC,IAAA,UAAOiC,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,MAAI,CAAO,CAAC,cAC5ElC,IAAA,UACEsI,IAAI,CAAC,MAAM,CACX5B,KAAK,CAAEuC,WAAW,CAAC3F,IAAK,CACxB+G,QAAQ,CAAGC,CAAC,EAAKpB,cAAc,CAAC,CAAC,GAAGD,WAAW,CAAE3F,IAAI,CAAEgH,CAAC,CAACC,MAAM,CAAC7D,KAAK,CAAC,CAAE,CACxEpC,QAAQ,CAAE,CAACuE,SAAU,CACrB2B,WAAW,CAAC,OAAO,CACnBvI,SAAS,CAAC,wEAAwE,CAClFwI,YAAY,CAAC,gBAAgB,CAC7BxD,IAAI,CAAC,MAAM,CACZ,CAAC,EACC,CAAC,cAEN/G,KAAA,QAAAgC,QAAA,eACElC,IAAA,UAAOiC,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,cAAY,CAAO,CAAC,cACpFlC,IAAA,UACEsI,IAAI,CAAC,MAAM,CACX5B,KAAK,CAAEuC,WAAW,CAAC1F,KAAM,CACzB8G,QAAQ,CAAGC,CAAC,EAAKpB,cAAc,CAAC,CAAC,GAAGD,WAAW,CAAE1F,KAAK,CAAE+G,CAAC,CAACC,MAAM,CAAC7D,KAAK,CAAC,CAAE,CACzEpC,QAAQ,CAAE,CAACuE,SAAU,CACrB2B,WAAW,CAAC,OAAO,CACnBvI,SAAS,CAAC,wEAAwE,CAClFwI,YAAY,CAAC,gBAAgB,CAC7BxD,IAAI,CAAC,OAAO,CACb,CAAC,EACC,CAAC,cAEN/G,KAAA,QAAAgC,QAAA,eACElC,IAAA,UAAOiC,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,aAAW,CAAO,CAAC,cACnFlC,IAAA,UACEsI,IAAI,CAAC,MAAM,CACX5B,KAAK,CAAEuC,WAAW,CAACzF,OAAQ,CAC3B6G,QAAQ,CAAGC,CAAC,EAAKpB,cAAc,CAAC,CAAC,GAAGD,WAAW,CAAEzF,OAAO,CAAE8G,CAAC,CAACC,MAAM,CAAC7D,KAAK,CAAC,CAAE,CAC3EpC,QAAQ,CAAE,CAACuE,SAAU,CACrB2B,WAAW,CAAC,OAAO,CACnBvI,SAAS,CAAC,wEAAwE,CAClFwI,YAAY,CAAC,aAAa,CAC1BxD,IAAI,CAAC,aAAa,CACnB,CAAC,EACC,CAAC,cAEN/G,KAAA,QAAAgC,QAAA,eACElC,IAAA,UAAOiC,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,SAAO,CAAO,CAAC,cAC/ElC,IAAA,UACEsI,IAAI,CAAC,MAAM,CACX5B,KAAK,CAAEuC,WAAW,CAACK,OAAQ,CAC3Be,QAAQ,CAAGC,CAAC,EAAKpB,cAAc,CAAC,CAAC,GAAGD,WAAW,CAAEK,OAAO,CAAEgB,CAAC,CAACC,MAAM,CAAC7D,KAAK,CAAC,CAAE,CAC3EpC,QAAQ,CAAE,CAACuE,SAAU,CACrB2B,WAAW,CAAC,UAAU,CACtBvI,SAAS,CAAC,wEAAwE,CAClFwI,YAAY,CAAC,cAAc,CAC3BxD,IAAI,CAAC,SAAS,CACf,CAAC,EACC,CAAC,EACH,CAAC,CAEL4B,SAAS,eACR3I,KAAA,QAAK+B,SAAS,CAAC,iCAAiC,CAAAC,QAAA,eAC9ClC,IAAA,WACE0C,OAAO,CAAEA,CAAA,GAAMoG,YAAY,CAAC,KAAK,CAAE,CACnC7G,SAAS,CAAC,4EAA4E,CAAAC,QAAA,CACvF,QAED,CAAQ,CAAC,cACThC,KAAA,WACEwC,OAAO,CAAEkH,mBAAoB,CAC7B3H,SAAS,CAAC,qFAAqF,CAAAC,QAAA,eAE/FlC,IAAA,CAACR,IAAI,EAACyC,SAAS,CAAC,cAAc,CAAE,CAAC,eAEnC,EAAQ,CAAC,EACN,CACN,EACE,CAAC,cAGN/B,KAAA,QAAK+B,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChDhC,KAAA,QAAK+B,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACrDlC,IAAA,OAAIiC,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAAC,qBAAmB,CAAI,CAAC,CAC3E,CAAC6G,kBAAkB,eAClB/I,IAAA,WACE0C,OAAO,CAAEA,CAAA,GAAMsG,qBAAqB,CAAC,IAAI,CAAE,CAC3C/G,SAAS,CAAC,+DAA+D,CAAAC,QAAA,CAC1E,iBAED,CAAQ,CACT,EACE,CAAC,CAEL6G,kBAAkB,eACjB7I,KAAA,QAAK+B,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBhC,KAAA,QAAAgC,QAAA,eACElC,IAAA,UAAOiC,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,kBAAgB,CAAO,CAAC,cACxFlC,IAAA,UACEsI,IAAI,CAAC,UAAU,CACf5B,KAAK,CAAE6C,YAAY,CAACE,eAAgB,CACpCY,QAAQ,CAAGC,CAAC,EAAKd,eAAe,CAAC,CAAC,GAAGD,YAAY,CAAEE,eAAe,CAAEa,CAAC,CAACC,MAAM,CAAC7D,KAAK,CAAC,CAAE,CACrFzE,SAAS,CAAC,oDAAoD,CAC/D,CAAC,EACC,CAAC,cAEN/B,KAAA,QAAAgC,QAAA,eACElC,IAAA,UAAOiC,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,cAAY,CAAO,CAAC,cACpFlC,IAAA,UACEsI,IAAI,CAAC,UAAU,CACf5B,KAAK,CAAE6C,YAAY,CAACG,WAAY,CAChCW,QAAQ,CAAGC,CAAC,EAAKd,eAAe,CAAC,CAAC,GAAGD,YAAY,CAAEG,WAAW,CAAEY,CAAC,CAACC,MAAM,CAAC7D,KAAK,CAAC,CAAE,CACjFzE,SAAS,CAAC,oDAAoD,CAC/D,CAAC,EACC,CAAC,cAEN/B,KAAA,QAAAgC,QAAA,eACElC,IAAA,UAAOiC,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,sBAAoB,CAAO,CAAC,cAC5FlC,IAAA,UACEsI,IAAI,CAAC,UAAU,CACf5B,KAAK,CAAE6C,YAAY,CAACI,eAAgB,CACpCU,QAAQ,CAAGC,CAAC,EAAKd,eAAe,CAAC,CAAC,GAAGD,YAAY,CAAEI,eAAe,CAAEW,CAAC,CAACC,MAAM,CAAC7D,KAAK,CAAC,CAAE,CACrFzE,SAAS,CAAC,oDAAoD,CAC/D,CAAC,EACC,CAAC,cAEN/B,KAAA,QAAK+B,SAAS,CAAC,4BAA4B,CAAAC,QAAA,eACzClC,IAAA,WACE0C,OAAO,CAAEA,CAAA,GAAMsG,qBAAqB,CAAC,KAAK,CAAE,CAC5C/G,SAAS,CAAC,4EAA4E,CAAAC,QAAA,CACvF,QAED,CAAQ,CAAC,cACTlC,IAAA,WACE0C,OAAO,CAAEyH,oBAAqB,CAC9BlI,SAAS,CAAC,mEAAmE,CAAAC,QAAA,CAC9E,iBAED,CAAQ,CAAC,EACN,CAAC,EACH,CACN,EACE,CAAC,EACH,CAAC,CAEV,CAAC,CAED;AACA,KAAM,CAAAwI,gBAAgB,CAAGA,CAAA,GAAM,CAC7B,KAAM,CAAC7J,OAAO,CAAEC,UAAU,CAAC,CAAGrD,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACiH,aAAa,CAAEC,gBAAgB,CAAC,CAAGlH,QAAQ,CAAC,IAAI,CAAC,CAExDC,SAAS,CAAC,IAAM,CACdiN,gBAAgB,CAAC,CAAC,CACpB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAA,gBAAgB,CAAG,KAAAA,CAAA,GAAY,CACnC,GAAI,CACF,KAAM,CAAAd,QAAQ,CAAG,KAAM,CAAAhK,GAAG,CAAC+K,QAAQ,CAACC,YAAY,CAAC,CAAC,CAClDlG,gBAAgB,CAACkF,QAAQ,CAAC,CAC5B,CAAE,MAAOzI,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,+BAA+B,CAAEA,KAAK,CAAC,CACvD,CAAC,OAAS,CACRN,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,GAAID,OAAO,CAAE,CACX,mBAAOb,IAAA,QAAKiC,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAAC,0BAAwB,CAAK,CAAC,CACzE,CAEA,GAAI,EAACwC,aAAa,SAAbA,aAAa,WAAbA,aAAa,CAAEoG,eAAe,EAAE,CACnC,mBACE5K,KAAA,QAAK+B,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChClC,IAAA,CAACf,IAAI,EAACgD,SAAS,CAAC,wCAAwC,CAAE,CAAC,cAC3DjC,IAAA,OAAIiC,SAAS,CAAC,uCAAuC,CAAAC,QAAA,CAAC,sBAAoB,CAAI,CAAC,cAC/ElC,IAAA,MAAGiC,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,iEAA+D,CAAG,CAAC,cACrGhC,KAAA,QAAK+B,SAAS,CAAC,yDAAyD,CAAAC,QAAA,eACtEhC,KAAA,QAAK+B,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1ClC,IAAA,OAAIiC,SAAS,CAAC,oCAAoC,CAAAC,QAAA,CAAC,aAAW,CAAI,CAAC,cACnElC,IAAA,MAAGiC,SAAS,CAAC,oCAAoC,CAAAC,QAAA,CAAC,IAAE,CAAG,CAAC,cACxDlC,IAAA,MAAGiC,SAAS,CAAC,yBAAyB,CAAAC,QAAA,CAAC,iBAAe,CAAG,CAAC,EACvD,CAAC,cACNhC,KAAA,QAAK+B,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eACxClC,IAAA,OAAIiC,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAC,aAAW,CAAI,CAAC,cACjElC,IAAA,MAAGiC,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAC,MAAI,CAAG,CAAC,cACxDlC,IAAA,MAAGiC,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,eAAa,CAAG,CAAC,EACnD,CAAC,cACNhC,KAAA,QAAK+B,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1ClC,IAAA,OAAIiC,SAAS,CAAC,oCAAoC,CAAAC,QAAA,CAAC,WAAS,CAAI,CAAC,cACjElC,IAAA,MAAGiC,SAAS,CAAC,oCAAoC,CAAAC,QAAA,CAAC,KAAG,CAAG,CAAC,cACzDlC,IAAA,MAAGiC,SAAS,CAAC,yBAAyB,CAAAC,QAAA,CAAC,eAAa,CAAG,CAAC,EACrD,CAAC,EACH,CAAC,EACH,CAAC,CAEV,CAEA,mBACEhC,KAAA,QAAK+B,SAAS,CAAC,WAAW,CAAAC,QAAA,eAExBhC,KAAA,QAAK+B,SAAS,CAAC,sDAAsD,CAAAC,QAAA,eACnElC,IAAA,QAAKiC,SAAS,CAAC,qFAAqF,CAAAC,QAAA,cAClGhC,KAAA,QAAK+B,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChDhC,KAAA,QAAAgC,QAAA,eACElC,IAAA,MAAGiC,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAAC,WAAS,CAAG,CAAC,cAC5ClC,IAAA,MAAGiC,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAEwC,aAAa,CAACqG,YAAY,CAAI,CAAC,EAC/D,CAAC,cACN/K,IAAA,CAACf,IAAI,EAACgD,SAAS,CAAC,2BAA2B,CAAE,CAAC,EAC3C,CAAC,CACH,CAAC,cAENjC,IAAA,QAAKiC,SAAS,CAAC,mCAAmC,CAAAC,QAAA,cAChDhC,KAAA,QAAK+B,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChDhC,KAAA,QAAAgC,QAAA,eACElC,IAAA,MAAGiC,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,iBAAe,CAAG,CAAC,cAChDlC,IAAA,MAAGiC,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAEwC,aAAa,CAACsG,UAAU,CAACC,cAAc,CAAI,CAAC,EAC1F,CAAC,cACNjL,IAAA,CAACxB,KAAK,EAACyD,SAAS,CAAC,yBAAyB,CAAE,CAAC,EAC1C,CAAC,CACH,CAAC,cAENjC,IAAA,QAAKiC,SAAS,CAAC,mCAAmC,CAAAC,QAAA,cAChDhC,KAAA,QAAK+B,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChDhC,KAAA,QAAAgC,QAAA,eACElC,IAAA,MAAGiC,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,cAAY,CAAG,CAAC,cAC7ChC,KAAA,MAAG+B,SAAS,CAAC,mCAAmC,CAAAC,QAAA,EAAC,GAAC,CAACwC,aAAa,CAACsG,UAAU,CAACE,WAAW,CAACnI,OAAO,CAAC,CAAC,CAAC,EAAI,CAAC,EACpG,CAAC,cACN/C,IAAA,CAACzB,UAAU,EAAC0D,SAAS,CAAC,0BAA0B,CAAE,CAAC,EAChD,CAAC,CACH,CAAC,cAENjC,IAAA,QAAKiC,SAAS,CAAC,mCAAmC,CAAAC,QAAA,cAChDhC,KAAA,QAAK+B,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChDhC,KAAA,QAAAgC,QAAA,eACElC,IAAA,MAAGiC,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,cAAY,CAAG,CAAC,cAC7ClC,IAAA,MAAGiC,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAEwC,aAAa,CAACyG,WAAW,CAAClE,IAAI,CAAI,CAAC,EAClF,CAAC,cACNjH,IAAA,CAACtB,IAAI,EAACuD,SAAS,CAAC,2BAA2B,CAAE,CAAC,EAC3C,CAAC,CACH,CAAC,EACH,CAAC,CAGLyC,aAAa,CAAC0G,QAAQ,eACrBlL,KAAA,QAAK+B,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChDlC,IAAA,OAAIiC,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,eAAa,CAAI,CAAC,cAC7DhC,KAAA,QAAK+B,SAAS,CAAC,iDAAiD,CAAAC,QAAA,eAC9DhC,KAAA,SAAAgC,QAAA,EAAOwC,aAAa,CAACyG,WAAW,CAAClE,IAAI,CAAC,IAAE,CAACvC,aAAa,CAACyG,WAAW,CAACE,IAAI,CAAC,IAAE,EAAM,CAAC,cACjFnL,KAAA,SAAAgC,QAAA,EAAOwC,aAAa,CAAC0G,QAAQ,CAACnE,IAAI,CAAC,IAAE,CAACvC,aAAa,CAAC0G,QAAQ,CAACC,IAAI,CAAC,IAAE,EAAM,CAAC,EACxE,CAAC,cACNrL,IAAA,QAAKiC,SAAS,CAAC,qCAAqC,CAAAC,QAAA,cAClDlC,IAAA,QACEiC,SAAS,CAAC,4DAA4D,CACtEqJ,KAAK,CAAE,CAAEC,KAAK,CAAE,GAAGC,IAAI,CAACC,GAAG,CAAC/G,aAAa,CAAC0G,QAAQ,CAACM,QAAQ,CAAE,GAAG,CAAC,GAAI,CAAE,CACnE,CAAC,CACJ,CAAC,cACNxL,KAAA,MAAG+B,SAAS,CAAC,4BAA4B,CAAAC,QAAA,EACtCwC,aAAa,CAAC0G,QAAQ,CAACO,WAAW,CAAGjH,aAAa,CAACsG,UAAU,CAACY,eAAe,CAAC,wBACjF,EAAG,CAAC,EACD,CACN,EACE,CAAC,CAEV,CAAC,CAED,KAAM,CAAAC,YAAY,CAAGA,CAAA,GAAM,CACzB,KAAM,CAACC,SAAS,CAAEC,YAAY,CAAC,CAAGtO,QAAQ,CAAC,EAAE,CAAC,CAC9C,KAAM,CAACoD,OAAO,CAAEC,UAAU,CAAC,CAAGrD,QAAQ,CAAC,IAAI,CAAC,CAE5CC,SAAS,CAAC,IAAM,CACdsO,gBAAgB,CAAC,CAAC,CACpB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAA,gBAAgB,CAAG,KAAAA,CAAA,GAAY,CACnC,GAAI,CACF,KAAM,CAAAnC,QAAQ,CAAG,KAAM,CAAAhK,GAAG,CAAC+K,QAAQ,CAACC,YAAY,CAAC,CAAC,CAClDkB,YAAY,CAAClC,QAAQ,CAACoC,aAAa,EAAI,EAAE,CAAC,CAC5C,CAAE,MAAO7K,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,+BAA+B,CAAEA,KAAK,CAAC,CACvD,CAAC,OAAS,CACRN,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,GAAID,OAAO,CAAE,CACX,mBAAOb,IAAA,QAAKiC,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAAC,sBAAoB,CAAK,CAAC,CACrE,CAEA,mBACElC,IAAA,QAAKiC,SAAS,CAAC,WAAW,CAAAC,QAAA,cACxBhC,KAAA,QAAK+B,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChDhC,KAAA,OAAI+B,SAAS,CAAC,4BAA4B,CAAAC,QAAA,EAAC,gBAAc,CAAC4J,SAAS,CAACnG,MAAM,CAAC,GAAC,EAAI,CAAC,CAChFmG,SAAS,CAACnG,MAAM,CAAG,CAAC,cACnB3F,IAAA,QAAKiC,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAC9BhC,KAAA,UAAO+B,SAAS,CAAC,YAAY,CAAAC,QAAA,eAC3BlC,IAAA,UAAAkC,QAAA,cACEhC,KAAA,OAAI+B,SAAS,CAAC,4BAA4B,CAAAC,QAAA,eACxClC,IAAA,OAAIiC,SAAS,CAAC,qBAAqB,CAAAC,QAAA,CAAC,MAAI,CAAI,CAAC,cAC7ClC,IAAA,OAAIiC,SAAS,CAAC,qBAAqB,CAAAC,QAAA,CAAC,OAAK,CAAI,CAAC,cAC9ClC,IAAA,OAAIiC,SAAS,CAAC,qBAAqB,CAAAC,QAAA,CAAC,aAAW,CAAI,CAAC,cACpDlC,IAAA,OAAIiC,SAAS,CAAC,qBAAqB,CAAAC,QAAA,CAAC,QAAM,CAAI,CAAC,cAC/ClC,IAAA,OAAIiC,SAAS,CAAC,qBAAqB,CAAAC,QAAA,CAAC,aAAW,CAAI,CAAC,cACpDlC,IAAA,OAAIiC,SAAS,CAAC,qBAAqB,CAAAC,QAAA,CAAC,aAAW,CAAI,CAAC,EAClD,CAAC,CACA,CAAC,cACRlC,IAAA,UAAAkC,QAAA,CACG4J,SAAS,CAACtF,GAAG,CAAC,CAACoE,QAAQ,CAAExD,KAAK,gBAC7BlH,KAAA,OAAgB+B,SAAS,CAAC,2CAA2C,CAAAC,QAAA,eACnEhC,KAAA,OAAI+B,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EAAE0I,QAAQ,CAACpG,IAAI,CAACwC,SAAS,CAAC,GAAC,CAAC4D,QAAQ,CAACpG,IAAI,CAAC2E,QAAQ,EAAK,CAAC,cAC7FnJ,IAAA,OAAIiC,SAAS,CAAC,yBAAyB,CAAAC,QAAA,CAAE0I,QAAQ,CAACpG,IAAI,CAAC4E,KAAK,CAAK,CAAC,cAClEpJ,IAAA,OAAIiC,SAAS,CAAC,WAAW,CAAAC,QAAA,CAAE,GAAI,CAAAR,IAAI,CAACkJ,QAAQ,CAACsB,QAAQ,CAAC,CAACvK,kBAAkB,CAAC,CAAC,CAAK,CAAC,cACjF3B,IAAA,OAAIiC,SAAS,CAAC,WAAW,CAAAC,QAAA,cACvBlC,IAAA,SAAMiC,SAAS,CAAE,8CACf2I,QAAQ,CAACrJ,MAAM,GAAK,QAAQ,CACxB,6BAA6B,CAC7B,+BAA+B,EAClC,CAAAW,QAAA,CACA0I,QAAQ,CAACrJ,MAAM,CACZ,CAAC,CACL,CAAC,cACLrB,KAAA,OAAI+B,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EAAC,GAAC,CAAC0I,QAAQ,CAAC5F,UAAU,CAACjC,OAAO,CAAC,CAAC,CAAC,EAAK,CAAC,cAC5E7C,KAAA,OAAI+B,SAAS,CAAC,sCAAsC,CAAAC,QAAA,EAAC,GAClD,CAAC,CAAC0I,QAAQ,CAAC5F,UAAU,CAAG,IAAI,EAAEjC,OAAO,CAAC,CAAC,CAAC,EACvC,CAAC,GAhBEqE,KAiBL,CACL,CAAC,CACG,CAAC,EACH,CAAC,CACL,CAAC,cAENlH,KAAA,QAAK+B,SAAS,CAAC,gCAAgC,CAAAC,QAAA,eAC7ClC,IAAA,CAACxB,KAAK,EAACyD,SAAS,CAAC,sCAAsC,CAAE,CAAC,cAC1DjC,IAAA,MAAAkC,QAAA,CAAG,qDAAmD,CAAG,CAAC,EACvD,CACN,EACE,CAAC,CACH,CAAC,CAEV,CAAC,CAED,KAAM,CAAAiK,gBAAgB,CAAGA,CAAA,GAAM,CAC7B,KAAM,CAACC,WAAW,CAAEC,cAAc,CAAC,CAAG5O,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAACoD,OAAO,CAAEC,UAAU,CAAC,CAAGrD,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACmH,KAAK,CAAE0H,QAAQ,CAAC,CAAG7O,QAAQ,CAAC,CAAE8O,KAAK,CAAE,CAAC,CAAEC,OAAO,CAAE,CAAC,CAAEC,IAAI,CAAE,CAAE,CAAC,CAAC,CAErE/O,SAAS,CAAC,IAAM,CACdgP,eAAe,CAAC,CAAC,CACnB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAA,eAAe,CAAG,KAAAA,CAAA,GAAY,CAClC,GAAI,KAAAC,qBAAA,CAAAC,sBAAA,CAAAC,sBAAA,CACF,KAAM,CAAAhD,QAAQ,CAAG,KAAM,CAAAhK,GAAG,CAAC+K,QAAQ,CAACkC,cAAc,CAAC,CAAC,CACpDT,cAAc,CAACxC,QAAQ,CAACuC,WAAW,EAAI,EAAE,CAAC,CAE1C,KAAM,CAAAG,KAAK,CAAG,EAAAI,qBAAA,CAAA9C,QAAQ,CAACuC,WAAW,UAAAO,qBAAA,iBAApBA,qBAAA,CAAsB9G,MAAM,CAAC,CAACC,GAAG,CAAEiH,CAAC,GAAKjH,GAAG,CAAGiH,CAAC,CAACC,gBAAgB,CAAE,CAAC,CAAC,GAAI,CAAC,CACxF,KAAM,CAAAR,OAAO,CAAG,EAAAI,sBAAA,CAAA/C,QAAQ,CAACuC,WAAW,UAAAQ,sBAAA,iBAApBA,sBAAA,CAAsBhH,MAAM,CAACmH,CAAC,EAAIA,CAAC,CAACxL,MAAM,GAAK,SAAS,CAAC,CAACsE,MAAM,CAAC,CAACC,GAAG,CAAEiH,CAAC,GAAKjH,GAAG,CAAGiH,CAAC,CAACC,gBAAgB,CAAE,CAAC,CAAC,GAAI,CAAC,CAC9H,KAAM,CAAAP,IAAI,CAAG,EAAAI,sBAAA,CAAAhD,QAAQ,CAACuC,WAAW,UAAAS,sBAAA,iBAApBA,sBAAA,CAAsBjH,MAAM,CAACmH,CAAC,EAAIA,CAAC,CAACxL,MAAM,GAAK,MAAM,CAAC,CAACsE,MAAM,CAAC,CAACC,GAAG,CAAEiH,CAAC,GAAKjH,GAAG,CAAGiH,CAAC,CAACC,gBAAgB,CAAE,CAAC,CAAC,GAAI,CAAC,CAExHV,QAAQ,CAAC,CAAEC,KAAK,CAAEC,OAAO,CAAEC,IAAK,CAAC,CAAC,CACpC,CAAE,MAAOrL,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,6BAA6B,CAAEA,KAAK,CAAC,CACrD,CAAC,OAAS,CACRN,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,GAAID,OAAO,CAAE,CACX,mBAAOb,IAAA,QAAKiC,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAAC,qBAAmB,CAAK,CAAC,CACpE,CAEA,mBACEhC,KAAA,QAAK+B,SAAS,CAAC,WAAW,CAAAC,QAAA,eAExBhC,KAAA,QAAK+B,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eACpDhC,KAAA,QAAK+B,SAAS,CAAC,sCAAsC,CAAAC,QAAA,eACnDlC,IAAA,OAAIiC,SAAS,CAAC,2CAA2C,CAAAC,QAAA,CAAC,gBAAc,CAAI,CAAC,cAC7EhC,KAAA,MAAG+B,SAAS,CAAC,mCAAmC,CAAAC,QAAA,EAAC,GAAC,CAAC0C,KAAK,CAAC2H,KAAK,CAACxJ,OAAO,CAAC,CAAC,CAAC,EAAI,CAAC,EAC3E,CAAC,cACN7C,KAAA,QAAK+B,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eACpDlC,IAAA,OAAIiC,SAAS,CAAC,4CAA4C,CAAAC,QAAA,CAAC,SAAO,CAAI,CAAC,cACvEhC,KAAA,MAAG+B,SAAS,CAAC,oCAAoC,CAAAC,QAAA,EAAC,GAAC,CAAC0C,KAAK,CAAC4H,OAAO,CAACzJ,OAAO,CAAC,CAAC,CAAC,EAAI,CAAC,EAC9E,CAAC,cACN7C,KAAA,QAAK+B,SAAS,CAAC,qCAAqC,CAAAC,QAAA,eAClDlC,IAAA,OAAIiC,SAAS,CAAC,0CAA0C,CAAAC,QAAA,CAAC,UAAQ,CAAI,CAAC,cACtEhC,KAAA,MAAG+B,SAAS,CAAC,kCAAkC,CAAAC,QAAA,EAAC,GAAC,CAAC0C,KAAK,CAAC6H,IAAI,CAAC1J,OAAO,CAAC,CAAC,CAAC,EAAI,CAAC,EACzE,CAAC,EACH,CAAC,cAGN7C,KAAA,QAAK+B,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChDlC,IAAA,OAAIiC,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,oBAAkB,CAAI,CAAC,CACjEkK,WAAW,CAACzG,MAAM,CAAG,CAAC,cACrB3F,IAAA,QAAKiC,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAC9BhC,KAAA,UAAO+B,SAAS,CAAC,YAAY,CAAAC,QAAA,eAC3BlC,IAAA,UAAAkC,QAAA,cACEhC,KAAA,OAAI+B,SAAS,CAAC,4BAA4B,CAAAC,QAAA,eACxClC,IAAA,OAAIiC,SAAS,CAAC,gBAAgB,CAAAC,QAAA,CAAC,MAAI,CAAI,CAAC,cACxClC,IAAA,OAAIiC,SAAS,CAAC,gBAAgB,CAAAC,QAAA,CAAC,eAAa,CAAI,CAAC,cACjDlC,IAAA,OAAIiC,SAAS,CAAC,gBAAgB,CAAAC,QAAA,CAAC,cAAY,CAAI,CAAC,cAChDlC,IAAA,OAAIiC,SAAS,CAAC,gBAAgB,CAAAC,QAAA,CAAC,iBAAe,CAAI,CAAC,cACnDlC,IAAA,OAAIiC,SAAS,CAAC,gBAAgB,CAAAC,QAAA,CAAC,eAAa,CAAI,CAAC,cACjDlC,IAAA,OAAIiC,SAAS,CAAC,gBAAgB,CAAAC,QAAA,CAAC,QAAM,CAAI,CAAC,EACxC,CAAC,CACA,CAAC,cACRlC,IAAA,UAAAkC,QAAA,CACGkK,WAAW,CAAC5F,GAAG,CAAC,CAAC4B,UAAU,CAAEhB,KAAK,gBACjClH,KAAA,OAAgB+B,SAAS,CAAC,0BAA0B,CAAAC,QAAA,eAClDlC,IAAA,OAAIiC,SAAS,CAAC,MAAM,CAAAC,QAAA,CAAE,GAAI,CAAAR,IAAI,CAAC0G,UAAU,CAACpE,SAAS,CAAC,CAACrC,kBAAkB,CAAC,CAAC,CAAK,CAAC,cAC/EzB,KAAA,OAAI+B,SAAS,CAAC,MAAM,CAAAC,QAAA,EAAEkG,UAAU,CAAC6E,YAAY,CAACjG,SAAS,CAAC,GAAC,CAACoB,UAAU,CAAC6E,YAAY,CAAC9D,QAAQ,EAAK,CAAC,cAChGjJ,KAAA,OAAI+B,SAAS,CAAC,MAAM,CAAAC,QAAA,EAAC,GAAC,CAACkG,UAAU,CAAC8E,WAAW,CAACnK,OAAO,CAAC,CAAC,CAAC,EAAK,CAAC,cAC9D7C,KAAA,OAAI+B,SAAS,CAAC,MAAM,CAAAC,QAAA,EAAEkG,UAAU,CAAC+E,cAAc,CAAC,GAAC,EAAI,CAAC,cACtDjN,KAAA,OAAI+B,SAAS,CAAC,+BAA+B,CAAAC,QAAA,EAAC,GAAC,CAACkG,UAAU,CAAC4E,gBAAgB,CAACjK,OAAO,CAAC,CAAC,CAAC,EAAK,CAAC,cAC5F/C,IAAA,OAAIiC,SAAS,CAAC,MAAM,CAAAC,QAAA,cAClBlC,IAAA,SAAMiC,SAAS,CAAE,8CACfmG,UAAU,CAAC7G,MAAM,GAAK,MAAM,CAAG,6BAA6B,CAC5D6G,UAAU,CAAC7G,MAAM,GAAK,UAAU,CAAG,2BAA2B,CAC9D,+BAA+B,EAC9B,CAAAW,QAAA,CACAkG,UAAU,CAAC7G,MAAM,CACd,CAAC,CACL,CAAC,GAdE6F,KAeL,CACL,CAAC,CACG,CAAC,EACH,CAAC,CACL,CAAC,cAENlH,KAAA,QAAK+B,SAAS,CAAC,gCAAgC,CAAAC,QAAA,eAC7ClC,IAAA,CAACzB,UAAU,EAAC0D,SAAS,CAAC,sCAAsC,CAAE,CAAC,cAC/DjC,IAAA,MAAAkC,QAAA,CAAG,8CAA4C,CAAG,CAAC,EAChD,CACN,EACE,CAAC,EACH,CAAC,CAEV,CAAC,CAED,KAAM,CAAAkL,aAAa,CAAGA,CAAA,GAAM,CAC1B,KAAM,CAACC,SAAS,CAAEC,YAAY,CAAC,CAAG7P,QAAQ,CAAC,IAAI,CAAC,CAChD,KAAM,CAACoD,OAAO,CAAEC,UAAU,CAAC,CAAGrD,QAAQ,CAAC,IAAI,CAAC,CAE5CC,SAAS,CAAC,IAAM,CACd6P,aAAa,CAAC,CAAC,CACjB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAA,aAAa,CAAG,KAAAA,CAAA,GAAY,CAChC,GAAI,CACF,KAAM,CAAA1D,QAAQ,CAAG,KAAM,CAAAhK,GAAG,CAAC+K,QAAQ,CAAC4C,YAAY,CAAC,CAAC,CAClDF,YAAY,CAACzD,QAAQ,CAAC,CACxB,CAAE,MAAOzI,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,4BAA4B,CAAEA,KAAK,CAAC,CACpD,CAAC,OAAS,CACRN,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAA2M,eAAe,CAAGA,CAACC,IAAI,CAAEpF,IAAI,GAAK,CACtCqF,SAAS,CAACC,SAAS,CAACC,SAAS,CAACH,IAAI,CAAC,CAACI,IAAI,CAAC,IAAM,CAC7ChO,KAAK,CAACqB,OAAO,CAAC,GAAGmH,IAAI,uBAAuB,CAAC,CAC/C,CAAC,CAAC,CACJ,CAAC,CAED,KAAM,CAAAyF,oBAAoB,CAAG,KAAAA,CAAA,GAAY,CACvC,GAAI,CACF,KAAM,CAAAlO,GAAG,CAAC+K,QAAQ,CAACoD,YAAY,CAAC,CAAC,CACjC,KAAM,CAAAT,aAAa,CAAC,CAAC,CACrBzN,KAAK,CAACqB,OAAO,CAAC,uCAAuC,CAAC,CACxD,CAAE,MAAOC,KAAK,CAAE,CACdtB,KAAK,CAACsB,KAAK,CAAC,kCAAkC,CAAC,CACjD,CACF,CAAC,CAED,GAAIP,OAAO,CAAE,CACX,mBAAOb,IAAA,QAAKiC,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAAC,0BAAwB,CAAK,CAAC,CACzE,CAEA,GAAI,CAACmL,SAAS,CAAE,CACd,mBACEnN,KAAA,QAAK+B,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChClC,IAAA,CAACf,IAAI,EAACgD,SAAS,CAAC,wCAAwC,CAAE,CAAC,cAC3DjC,IAAA,OAAIiC,SAAS,CAAC,uCAAuC,CAAAC,QAAA,CAAC,6BAA2B,CAAI,CAAC,cACtFlC,IAAA,MAAGiC,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,mDAAiD,CAAG,CAAC,cACvFlC,IAAA,WACE0C,OAAO,CAAEqL,oBAAqB,CAC9B9L,SAAS,CAAC,iFAAiF,CAAAC,QAAA,CAC5F,wBAED,CAAQ,CAAC,EACN,CAAC,CAEV,CAEA,mBACEhC,KAAA,QAAK+B,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBhC,KAAA,QAAK+B,SAAS,CAAC,qFAAqF,CAAAC,QAAA,eAClGlC,IAAA,OAAIiC,SAAS,CAAC,yBAAyB,CAAAC,QAAA,CAAC,0BAAwB,CAAI,CAAC,cACrElC,IAAA,MAAGiC,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAAC,uEAAqE,CAAG,CAAC,EACrG,CAAC,cAGNhC,KAAA,QAAK+B,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eACpDhC,KAAA,QAAK+B,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChDhC,KAAA,OAAI+B,SAAS,CAAC,8CAA8C,CAAAC,QAAA,eAC1DlC,IAAA,CAACf,IAAI,EAACgD,SAAS,CAAC,8BAA8B,CAAE,CAAC,gBAEnD,EAAI,CAAC,cACL/B,KAAA,QAAK+B,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBlC,IAAA,UACEsI,IAAI,CAAC,MAAM,CACX5B,KAAK,CAAE2G,SAAS,CAACtC,YAAa,CAC9BkD,QAAQ,MACRhM,SAAS,CAAC,+FAA+F,CAC1G,CAAC,cACF/B,KAAA,WACEwC,OAAO,CAAEA,CAAA,GAAM+K,eAAe,CAACJ,SAAS,CAACtC,YAAY,CAAE,eAAe,CAAE,CACxE9I,SAAS,CAAC,uFAAuF,CAAAC,QAAA,eAEjGlC,IAAA,CAACb,IAAI,EAAC8C,SAAS,CAAC,cAAc,CAAE,CAAC,OAEnC,EAAQ,CAAC,EACN,CAAC,cACNjC,IAAA,MAAGiC,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,iEAErC,CAAG,CAAC,EACD,CAAC,cAENhC,KAAA,QAAK+B,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChDhC,KAAA,OAAI+B,SAAS,CAAC,8CAA8C,CAAAC,QAAA,eAC1DlC,IAAA,CAACd,MAAM,EAAC+C,SAAS,CAAC,4BAA4B,CAAE,CAAC,gBAEnD,EAAI,CAAC,cACL/B,KAAA,QAAK+B,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBlC,IAAA,UACEsI,IAAI,CAAC,MAAM,CACX5B,KAAK,CAAE2G,SAAS,CAACa,YAAa,CAC9BD,QAAQ,MACRhM,SAAS,CAAC,yEAAyE,CACpF,CAAC,cACF/B,KAAA,WACEwC,OAAO,CAAEA,CAAA,GAAM+K,eAAe,CAACJ,SAAS,CAACa,YAAY,CAAE,eAAe,CAAE,CACxEjM,SAAS,CAAC,mFAAmF,CAAAC,QAAA,eAE7FlC,IAAA,CAACb,IAAI,EAAC8C,SAAS,CAAC,cAAc,CAAE,CAAC,OAEnC,EAAQ,CAAC,EACN,CAAC,cACNjC,IAAA,MAAGiC,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,4DAErC,CAAG,CAAC,EACD,CAAC,EACH,CAAC,cAGNhC,KAAA,QAAK+B,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChDlC,IAAA,OAAIiC,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,wBAAsB,CAAI,CAAC,cACtElC,IAAA,QAAKiC,SAAS,CAAC,2BAA2B,CAAAC,QAAA,cACxClC,IAAA,MAAGiC,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAEmL,SAAS,CAACc,SAAS,CAAI,CAAC,CACnD,CAAC,cACNnO,IAAA,WACE0C,OAAO,CAAEA,CAAA,GAAM+K,eAAe,CAACJ,SAAS,CAACc,SAAS,CAAE,eAAe,CAAE,CACrElM,SAAS,CAAC,oEAAoE,CAAAC,QAAA,CAC/E,cAED,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,CAEV,CAAC,CAED,KAAM,CAAAkM,aAAa,CAAGA,CAAA,GAAM,KAAAC,kBAAA,CAAAC,mBAAA,CAAAC,qBAAA,CAAAC,mBAAA,CAAAC,qBAAA,CAAAC,sBAAA,CAAAC,mBAAA,CAAAC,qBAAA,CAAAC,sBAAA,CAAAC,mBAAA,CAC1B,KAAM,CAAEtK,IAAI,CAAEuK,MAAO,CAAC,CAAGnP,OAAO,CAAC,CAAC,CAClC,KAAM,CAAAwD,QAAQ,CAAGrF,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAA0G,QAAQ,CAAGzG,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACgR,SAAS,CAAEC,YAAY,CAAC,CAAGxR,QAAQ,CAAC,UAAU,CAAC,CACtD,KAAM,CAACyR,aAAa,CAAEC,gBAAgB,CAAC,CAAG1R,QAAQ,CAAC,WAAW,CAAC,CAE/D;AACAC,SAAS,CAAC,IAAM,CACd,KAAM,CAAA0R,YAAY,CAAGhM,QAAQ,CAACiM,QAAQ,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC1J,MAAM,CAAC2J,OAAO,EAAIA,OAAO,GAAK,EAAE,CAAC,CACnF,KAAM,CAAAC,UAAU,CAAGJ,YAAY,CAAC,CAAC,CAAC,EAAI,UAAU,CAAE;AAElD;AACA,GAAI,CAAC,SAAS,CAAE,UAAU,CAAE,aAAa,CAAC,CAAC/K,QAAQ,CAACmL,UAAU,CAAC,CAAE,CAC/DL,gBAAgB,CAAC,SAAS,CAAC,CAC7B,CAAC,IAAM,IAAI,CAAC,WAAW,CAAE,cAAc,CAAE,cAAc,CAAE,UAAU,CAAE,OAAO,CAAC,CAAC9K,QAAQ,CAACmL,UAAU,CAAC,EACvFpM,QAAQ,CAACiM,QAAQ,CAACI,UAAU,CAAC,sBAAsB,CAAC,CAAE,CAC/DN,gBAAgB,CAAC,WAAW,CAAC,CAC/B,CAAC,IAAM,CACLA,gBAAgB,CAAC,WAAW,CAAC,CAC/B,CAEA;AACA,GAAIK,UAAU,GAAK,SAAS,CAAE,CAC5BP,YAAY,CAAC,SAAS,CAAC,CACzB,CAAC,IAAM,IAAIO,UAAU,GAAK,UAAU,CAAE,CACpCP,YAAY,CAAC,UAAU,CAAC,CAC1B,CAAC,IAAM,IAAIO,UAAU,GAAK,aAAa,CAAE,CACvCP,YAAY,CAAC,aAAa,CAAC,CAC7B,CAAC,IAAM,IAAI7L,QAAQ,CAACiM,QAAQ,CAAChL,QAAQ,CAAC,YAAY,CAAC,CAAE,CACnD,GAAIjB,QAAQ,CAACiM,QAAQ,CAAChL,QAAQ,CAAC,OAAO,CAAC,CAAE,CACvC4K,YAAY,CAAC,cAAc,CAAC,CAC9B,CAAC,IAAM,IAAI7L,QAAQ,CAACiM,QAAQ,CAAChL,QAAQ,CAAC,WAAW,CAAC,CAAE,CAClD4K,YAAY,CAAC,UAAU,CAAC,CAC1B,CAAC,IAAM,IAAI7L,QAAQ,CAACiM,QAAQ,CAAChL,QAAQ,CAAC,QAAQ,CAAC,CAAE,CAC/C4K,YAAY,CAAC,OAAO,CAAC,CACvB,CAAC,IAAM,CACLA,YAAY,CAAC,cAAc,CAAC,CAC9B,CACF,CAAC,IAAM,CACLA,YAAY,CAACO,UAAU,EAAI,UAAU,CAAC,CACxC,CACF,CAAC,CAAE,CAACpM,QAAQ,CAAC,CAAC,CAEd,KAAM,CAAAsM,cAAc,CAAG,CACrB,CACEzI,IAAI,CAAE,WAAW,CACjB0I,OAAO,CAAE,WAAW,CACpBhJ,IAAI,CAAEzI,IAAI,CACV2E,WAAW,CAAE,sBAAsB,CACnC+M,IAAI,CAAE,CACJ,CAAE3I,IAAI,CAAE,UAAU,CAAE4I,GAAG,CAAE,UAAU,CAAEC,IAAI,CAAE,YAAa,CAAC,CACzD,CAAE7I,IAAI,CAAE,WAAW,CAAE4I,GAAG,CAAE,WAAW,CAAEC,IAAI,CAAE,sBAAuB,CAAC,CACrE,CAAE7I,IAAI,CAAE,UAAU,CAAE4I,GAAG,CAAE,UAAU,CAAEC,IAAI,CAAE,qBAAsB,CAAC,CAEtE,CAAC,CACD,CACE7I,IAAI,CAAE,SAAS,CACf0I,OAAO,CAAE,SAAS,CAClBhJ,IAAI,CAAExI,IAAI,CACV0E,WAAW,CAAE,oBAAoB,CACjC+M,IAAI,CAAE,CACJ,CAAE3I,IAAI,CAAE,SAAS,CAAE4I,GAAG,CAAE,SAAS,CAAEC,IAAI,CAAE,oBAAqB,CAAC,CAC/D,CAAE7I,IAAI,CAAE,UAAU,CAAE4I,GAAG,CAAE,UAAU,CAAEC,IAAI,CAAE,qBAAsB,CAAC,CAClE,CAAE7I,IAAI,CAAE,aAAa,CAAE4I,GAAG,CAAE,aAAa,CAAEC,IAAI,CAAE,wBAAyB,CAAC,CAE/E,CAAC,CACD,CACE7I,IAAI,CAAE,WAAW,CACjB0I,OAAO,CAAE,WAAW,CACpBhJ,IAAI,CAAE1H,IAAI,CACV4D,WAAW,CAAE,cAAc,CAC3B+M,IAAI,CAAE,CACJ,CAAE3I,IAAI,CAAE,UAAU,CAAE4I,GAAG,CAAE,cAAc,CAAEC,IAAI,CAAE,sBAAuB,CAAC,CACvE,CAAE7I,IAAI,CAAE,cAAc,CAAE4I,GAAG,CAAE,cAAc,CAAEC,IAAI,CAAE,2BAA4B,CAAC,CAChF,CAAE7I,IAAI,CAAE,UAAU,CAAE4I,GAAG,CAAE,UAAU,CAAEC,IAAI,CAAE,+BAAgC,CAAC,CAC5E,CAAE7I,IAAI,CAAE,OAAO,CAAE4I,GAAG,CAAE,OAAO,CAAEC,IAAI,CAAE,4BAA6B,CAAC,CAEvE,CAAC,CACF,CAED,KAAM,CAAAC,YAAY,CAAGA,CAAA,GAAM,CACzBhB,MAAM,CAAC,CAAC,CACV,CAAC,CAED;AACA,KAAM,CAAAiB,mBAAmB,CAAGA,CAAA,GAAM,CAChC,GAAI,CAACxL,IAAI,CAAE,mBAAOxE,IAAA,QAAAkC,QAAA,CAAK,oBAAkB,CAAK,CAAC,CAE/C,OAAQsC,IAAI,CAACyL,IAAI,EACf,IAAK,UAAU,CACb,mBAAOjQ,IAAA,CAACuE,iBAAiB,GAAE,CAAC,CAC9B,IAAK,QAAQ,CACX,mBAAOvE,IAAA,CAAC0H,eAAe,GAAE,CAAC,CAC5B,IAAK,OAAO,CACV,mBAAO1H,IAAA,CAAC0I,cAAc,GAAE,CAAC,CAC3B,QACE,mBAAO1I,IAAA,CAACuE,iBAAiB,GAAE,CAAC,CAChC,CACF,CAAC,CAED;AACA,KAAM,CAAA2L,iBAAiB,CAAGA,CAAA,GAAM,CAC9B,MAAO,CAAAR,cAAc,CAACtJ,IAAI,CAAC+J,GAAG,EAAIA,GAAG,CAACR,OAAO,GAAKT,aAAa,CAAC,CAClE,CAAC,CAED;AACA,KAAM,CAAAkB,aAAa,CAAGA,CAAA,GAAM,CAC1B,KAAM,CAAAT,OAAO,CAAGO,iBAAiB,CAAC,CAAC,CAEnC,GAAIhB,aAAa,GAAK,WAAW,CAAE,CACjC,OAAQF,SAAS,EACf,IAAK,WAAW,CACd,mBAAOhP,IAAA,QAAKiC,SAAS,CAAC,iCAAiC,CAAAC,QAAA,CAAC,0BAAwB,CAAK,CAAC,CACxF,IAAK,UAAU,CACb,mBAAOlC,IAAA,QAAKiC,SAAS,CAAC,iCAAiC,CAAAC,QAAA,CAAC,8BAA4B,CAAK,CAAC,CAC5F,QACE,MAAO,CAAA8N,mBAAmB,CAAC,CAAC,CAChC,CACF,CAEA,GAAId,aAAa,GAAK,SAAS,CAAE,CAC/B,OAAQF,SAAS,EACf,IAAK,SAAS,CACZ,mBAAOhP,IAAA,CAAC2I,UAAU,GAAE,CAAC,CACvB,IAAK,UAAU,CACb,mBAAO3I,IAAA,QAAKiC,SAAS,CAAC,iCAAiC,CAAAC,QAAA,CAAC,kCAAgC,CAAK,CAAC,CAChG,IAAK,aAAa,CAChB,mBAAOlC,IAAA,QAAKiC,SAAS,CAAC,iCAAiC,CAAAC,QAAA,CAAC,4BAA0B,CAAK,CAAC,CAC1F,QACE,mBAAOlC,IAAA,CAAC2I,UAAU,GAAE,CAAC,CACzB,CACF,CAEA,GAAIuG,aAAa,GAAK,WAAW,CAAE,CACjC,OAAQF,SAAS,EACf,IAAK,cAAc,CACjB,mBAAOhP,IAAA,CAAC6L,YAAY,GAAE,CAAC,CACzB,IAAK,UAAU,CACb,mBAAO7L,IAAA,CAACmM,gBAAgB,GAAE,CAAC,CAC7B,IAAK,OAAO,CACV,mBAAOnM,IAAA,CAACoN,aAAa,GAAE,CAAC,CAC1B,QACE,mBAAOpN,IAAA,CAAC0K,gBAAgB,GAAE,CAAC,CAC/B,CACF,CAEA,MAAO,CAAAsF,mBAAmB,CAAC,CAAC,CAC9B,CAAC,CAED,mBACEhQ,IAAA,QAAKiC,SAAS,CAAC,yEAAyE,CAAAC,QAAA,cACtFhC,KAAA,QAAK+B,SAAS,CAAC,MAAM,CAAAC,QAAA,eAEnBlC,IAAA,QAAKiC,SAAS,CAAC,+DAA+D,CAAAC,QAAA,cAC5EhC,KAAA,QAAK+B,SAAS,CAAC,KAAK,CAAAC,QAAA,eAClBlC,IAAA,MAAG8P,IAAI,CAAC,GAAG,CAAC7N,SAAS,CAAC,YAAY,CAAAC,QAAA,cAChClC,IAAA,OAAIiC,SAAS,CAAC,yEAAyE,CAAAC,QAAA,CAAC,eAAa,CAAI,CAAC,CACzG,CAAC,cAEJlC,IAAA,QAAKiC,SAAS,CAAC,WAAW,CAAAC,QAAA,CACvBwN,cAAc,CAAClJ,GAAG,CAAE6J,IAAI,EAAK,CAC5B,GAAIA,IAAI,CAACC,QAAQ,CAAE,CACjB,mBACEpQ,KAAA,MAEE4P,IAAI,CAAEO,IAAI,CAACP,IAAK,CAChB7N,SAAS,CAAC,0FAA0F,CAAAC,QAAA,eAEpGlC,IAAA,CAACqQ,IAAI,CAAC1J,IAAI,EAACa,IAAI,CAAE,EAAG,CAACvF,SAAS,CAAC,MAAM,CAAE,CAAC,CACvCoO,IAAI,CAACpJ,IAAI,GALLoJ,IAAI,CAACpJ,IAMT,CAAC,CAER,CAEA,KAAM,CAAAsJ,eAAe,CAAGF,IAAI,CAACV,OAAO,GAAKT,aAAa,CAEtD,mBACEhP,KAAA,QAAqB+B,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxChC,KAAA,QACE+B,SAAS,CAAE,2EACTsO,eAAe,CAAG,eAAe,CAAG,mBAAmB,EACtD,CACH7N,OAAO,CAAEA,CAAA,GAAM,CACbyM,gBAAgB,CAACkB,IAAI,CAACV,OAAO,CAAC,CAC9BV,YAAY,CAACoB,IAAI,CAACT,IAAI,CAAC,CAAC,CAAC,CAACC,GAAG,CAAC,CAC9BpL,QAAQ,CAAC4L,IAAI,CAACT,IAAI,CAAC,CAAC,CAAC,CAACE,IAAI,CAAC,CAC7B,CAAE,CAAA5N,QAAA,eAEFlC,IAAA,CAACqQ,IAAI,CAAC1J,IAAI,EAACa,IAAI,CAAE,EAAG,CAACvF,SAAS,CAAE,QAAQsO,eAAe,CAAG,iBAAiB,CAAG,eAAe,EAAG,CAAE,CAAC,cACnGrQ,KAAA,QAAK+B,SAAS,CAAC,QAAQ,CAAAC,QAAA,eACrBlC,IAAA,QAAKiC,SAAS,CAAE,eAAesO,eAAe,CAAG,iBAAiB,CAAG,eAAe,EAAG,CAAArO,QAAA,CACpFmO,IAAI,CAACpJ,IAAI,CACP,CAAC,cACNjH,IAAA,QAAKiC,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAEmO,IAAI,CAACxN,WAAW,CAAM,CAAC,EAC5D,CAAC,EACH,CAAC,CAGL0N,eAAe,EAAIF,IAAI,CAACT,IAAI,eAC3B5P,IAAA,QAAKiC,SAAS,CAAC,gBAAgB,CAAAC,QAAA,CAC5BmO,IAAI,CAACT,IAAI,CAACpJ,GAAG,CAAEqJ,GAAG,eACjB7P,IAAA,CAAClC,IAAI,EAEHoJ,EAAE,CAAE2I,GAAG,CAACC,IAAK,CACbpN,OAAO,CAAEA,CAAA,GAAMuM,YAAY,CAACY,GAAG,CAACA,GAAG,CAAE,CACrC5N,SAAS,CAAE,wDACT+M,SAAS,GAAKa,GAAG,CAACA,GAAG,CACjB,0CAA0C,CAC1C,oDAAoD,EACvD,CAAA3N,QAAA,CAEF2N,GAAG,CAAC5I,IAAI,EATJ4I,GAAG,CAACA,GAUL,CACP,CAAC,CACC,CACN,GAtCOQ,IAAI,CAACpJ,IAuCV,CAAC,CAEV,CAAC,CAAC,CACC,CAAC,cAENjH,IAAA,QAAKiC,SAAS,CAAC,oBAAoB,CAAAC,QAAA,cACjChC,KAAA,WACEwC,OAAO,CAAEqN,YAAa,CACtB9N,SAAS,CAAC,+EAA+E,CAAAC,QAAA,eAEzFlC,IAAA,CAAC3B,MAAM,EAACmJ,IAAI,CAAE,EAAG,CAACvF,SAAS,CAAC,MAAM,CAAE,CAAC,SAEvC,EAAQ,CAAC,CACN,CAAC,EACH,CAAC,CACH,CAAC,cAGN/B,KAAA,QAAK+B,SAAS,CAAC,8EAA8E,CAAAC,QAAA,eAE3FhC,KAAA,QAAK+B,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBhC,KAAA,QAAK+B,SAAS,CAAC,8CAA8C,CAAAC,QAAA,eAC3DlC,IAAA,SAAAkC,QAAA,EAAAmM,kBAAA,CAAO6B,iBAAiB,CAAC,CAAC,UAAA7B,kBAAA,iBAAnBA,kBAAA,CAAqBpH,IAAI,CAAO,CAAC,CACvC,EAAAqH,mBAAA,CAAA4B,iBAAiB,CAAC,CAAC,UAAA5B,mBAAA,kBAAAC,qBAAA,CAAnBD,mBAAA,CAAqBsB,IAAI,UAAArB,qBAAA,iBAAzBA,qBAAA,CAA2BnI,IAAI,CAACoK,CAAC,EAAIA,CAAC,CAACX,GAAG,GAAKb,SAAS,CAAC,gBACxD9O,KAAA,CAAAE,SAAA,EAAA8B,QAAA,eACElC,IAAA,SAAMiC,SAAS,CAAC,MAAM,CAAAC,QAAA,CAAC,QAAC,CAAM,CAAC,cAC/BlC,IAAA,SAAMiC,SAAS,CAAC,eAAe,CAAAC,QAAA,EAAAsM,mBAAA,CAAE0B,iBAAiB,CAAC,CAAC,UAAA1B,mBAAA,kBAAAC,qBAAA,CAAnBD,mBAAA,CAAqBoB,IAAI,UAAAnB,qBAAA,kBAAAC,sBAAA,CAAzBD,qBAAA,CAA2BrI,IAAI,CAACoK,CAAC,EAAIA,CAAC,CAACX,GAAG,GAAKb,SAAS,CAAC,UAAAN,sBAAA,iBAAzDA,sBAAA,CAA2DzH,IAAI,CAAO,CAAC,EACxG,CACH,EACE,CAAC,cACNjH,IAAA,OAAIiC,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAC7C,EAAAyM,mBAAA,CAAAuB,iBAAiB,CAAC,CAAC,UAAAvB,mBAAA,kBAAAC,qBAAA,CAAnBD,mBAAA,CAAqBiB,IAAI,UAAAhB,qBAAA,kBAAAC,sBAAA,CAAzBD,qBAAA,CAA2BxI,IAAI,CAACoK,CAAC,EAAIA,CAAC,CAACX,GAAG,GAAKb,SAAS,CAAC,UAAAH,sBAAA,iBAAzDA,sBAAA,CAA2D5H,IAAI,KAAA6H,mBAAA,CAAIoB,iBAAiB,CAAC,CAAC,UAAApB,mBAAA,iBAAnBA,mBAAA,CAAqB7H,IAAI,EAC3F,CAAC,EACF,CAAC,cAEN/G,KAAA,CAACtC,MAAM,EAAAsE,QAAA,eACLlC,IAAA,CAACnC,KAAK,EAAC4S,IAAI,CAAC,GAAG,CAACC,OAAO,CAAEN,aAAa,CAAC,CAAE,CAAE,CAAC,cAC5CpQ,IAAA,CAACnC,KAAK,EAAC4S,IAAI,CAAC,YAAY,CAACC,OAAO,cAAE1Q,IAAA,QAAKiC,SAAS,CAAC,iCAAiC,CAAAC,QAAA,CAAC,0BAAwB,CAAK,CAAE,CAAE,CAAC,cACrHlC,IAAA,CAACnC,KAAK,EAAC4S,IAAI,CAAC,WAAW,CAACC,OAAO,cAAE1Q,IAAA,QAAKiC,SAAS,CAAC,iCAAiC,CAAAC,QAAA,CAAC,8BAA4B,CAAK,CAAE,CAAE,CAAC,cACxHlC,IAAA,CAACnC,KAAK,EAAC4S,IAAI,CAAC,UAAU,CAACC,OAAO,cAAE1Q,IAAA,CAAC2I,UAAU,GAAE,CAAE,CAAE,CAAC,cAClD3I,IAAA,CAACnC,KAAK,EAAC4S,IAAI,CAAC,WAAW,CAACC,OAAO,cAAE1Q,IAAA,QAAKiC,SAAS,CAAC,iCAAiC,CAAAC,QAAA,CAAC,kCAAgC,CAAK,CAAE,CAAE,CAAC,cAC5HlC,IAAA,CAACnC,KAAK,EAAC4S,IAAI,CAAC,cAAc,CAACC,OAAO,cAAE1Q,IAAA,QAAKiC,SAAS,CAAC,iCAAiC,CAAAC,QAAA,CAAC,4BAA0B,CAAK,CAAE,CAAE,CAAC,cACzHlC,IAAA,CAACnC,KAAK,EAAC4S,IAAI,CAAC,YAAY,CAACC,OAAO,cAAE1Q,IAAA,CAAC0K,gBAAgB,GAAE,CAAE,CAAE,CAAC,cAC1D1K,IAAA,CAACnC,KAAK,EAAC4S,IAAI,CAAC,iBAAiB,CAACC,OAAO,cAAE1Q,IAAA,CAAC6L,YAAY,GAAE,CAAE,CAAE,CAAC,cAC3D7L,IAAA,CAACnC,KAAK,EAAC4S,IAAI,CAAC,qBAAqB,CAACC,OAAO,cAAE1Q,IAAA,CAACmM,gBAAgB,GAAE,CAAE,CAAE,CAAC,cACnEnM,IAAA,CAACnC,KAAK,EAAC4S,IAAI,CAAC,kBAAkB,CAACC,OAAO,cAAE1Q,IAAA,CAACoN,aAAa,GAAE,CAAE,CAAE,CAAC,EACvD,CAAC,EACN,CAAC,EACH,CAAC,CACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAgB,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}